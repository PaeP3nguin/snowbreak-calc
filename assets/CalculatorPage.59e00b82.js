var er=Object.defineProperty;var tr=(e,t,a)=>t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var te=(e,t,a)=>(tr(e,typeof t!="symbol"?t+"":t,a),a);import{a as Z,c as m,h,ac as Cl,Z as Ja,D as Ue,ad as _l,g as Ke,ae as Jt,E as nt,B as Ie,a4 as St,s as ti,t as ai,w as he,f as Pt,C as vl,af as li,i as ar,ag as ni,y as Ma,ah as ii,l as ea,ai as ri,n as ze,e as Dl,aj as Ml,I as lr,u as ta,ak as nr,al as oi,S as Zt,W as ir,am as rr,a7 as $a,U as or,J as sr,o as tn,an as ur,ao as ka,X as cr,v as dr,M as fr,A as vn,F as mr,aa as pn,ap as jl,aq as gn,ar as vr,as as pr,Q as $e,d as an,$ as be,at as xe,a2 as D,a1 as N,au as Yt,av as ca,V as pl,a0 as vt,aw as Ql,ax as A,a3 as ue,ay as ce,az as gl,aA as De,aB as Oe,aC as gr,aD as yr,aE as hr,aF as br,aG as kr,aH as Sr,aI as ll}from"./index.f64f3f8b.js";import{a as Lt,u as zt}from"./use-dark.1f598ace.js";import{u as wr,a as Ar,n as yn,d as xt,c as Na,Q as Ga}from"./format.2d2e9749.js";import{u as si,a as ui,b as ci,d as di,e as fi}from"./selection.7c5f63ed.js";import{u as mi,b as vi,c as pi,d as gi,e as Za,r as Jl,a as yi,f as Tr,g as Cr,v as hn,h as _r,i as Dr,j as Mr,k as bn,s as xr,p as kn,l as Pr,m as Fr,Q as nl}from"./QTooltip.e951fb32.js";import{Q as Er}from"./QMarkupTable.47ca92a4.js";import{Q as qr}from"./QPage.4391cc74.js";import{u as Br}from"./use-meta.2ca91963.js";function hi(e,t){const a=Z(null),l=m(()=>e.disable===!0?null:h("span",{ref:a,class:"no-outline",tabindex:-1}));function n(i){const r=t.value;i!==void 0&&i.type.indexOf("key")===0?r!==null&&document.activeElement!==r&&r.contains(document.activeElement)===!0&&r.focus():a.value!==null&&(i===void 0||r!==null&&r.contains(i.target)===!0)&&a.value.focus()}return{refocusTargetEl:l,refocusTarget:n}}const xl={name:String};function bi(e={}){return(t,a,l)=>{t[a](h("input",{class:"hidden"+(l||""),...e.value}))}}function ki(e){return m(()=>e.name||e.for)}var Si={xs:30,sm:35,md:40,lg:50,xl:60};const wi={...zt,..._l,...xl,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ai=["update:modelValue"];function Ti(e,t){const{props:a,slots:l,emit:n,proxy:i}=Ke(),{$q:r}=i,u=Lt(a,r),d=Z(null),{refocusTargetEl:p,refocusTarget:c}=hi(a,d),g=Cl(a,Si),F=m(()=>a.val!==void 0&&Array.isArray(a.modelValue)),S=m(()=>{const M=Jt(a.val);return F.value===!0?a.modelValue.findIndex(Q=>Jt(Q)===M):-1}),q=m(()=>F.value===!0?S.value>-1:Jt(a.modelValue)===Jt(a.trueValue)),V=m(()=>F.value===!0?S.value===-1:Jt(a.modelValue)===Jt(a.falseValue)),w=m(()=>q.value===!1&&V.value===!1),W=m(()=>a.disable===!0?-1:a.tabindex||0),Y=m(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(a.disable===!0?" disabled":"")+(u.value===!0?` q-${e}--dark`:"")+(a.dense===!0?` q-${e}--dense`:"")+(a.leftLabel===!0?" reverse":"")),I=m(()=>{const M=q.value===!0?"truthy":V.value===!0?"falsy":"indet",Q=a.color!==void 0&&(a.keepColor===!0||(e==="toggle"?q.value===!0:V.value!==!0))?` text-${a.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${M}${Q}`}),R=m(()=>{const M={type:"checkbox"};return a.name!==void 0&&Object.assign(M,{".checked":q.value,"^checked":q.value===!0?"checked":void 0,name:a.name,value:F.value===!0?a.val:a.trueValue}),M}),z=bi(R),ie=m(()=>{const M={tabindex:W.value,role:e==="toggle"?"switch":"checkbox","aria-label":a.label,"aria-checked":w.value===!0?"mixed":q.value===!0?"true":"false"};return a.disable===!0&&(M["aria-disabled"]="true"),M});function ae(M){M!==void 0&&(nt(M),c(M)),a.disable!==!0&&n("update:modelValue",X(),M)}function X(){if(F.value===!0){if(q.value===!0){const M=a.modelValue.slice();return M.splice(S.value,1),M}return a.modelValue.concat([a.val])}if(q.value===!0){if(a.toggleOrder!=="ft"||a.toggleIndeterminate===!1)return a.falseValue}else if(V.value===!0){if(a.toggleOrder==="ft"||a.toggleIndeterminate===!1)return a.trueValue}else return a.toggleOrder!=="ft"?a.trueValue:a.falseValue;return a.indeterminateValue}function E(M){(M.keyCode===13||M.keyCode===32)&&nt(M)}function P(M){(M.keyCode===13||M.keyCode===32)&&ae(M)}const k=t(q,w);return Object.assign(i,{toggle:ae}),()=>{const M=k();a.disable!==!0&&z(M,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const Q=[h("div",{class:I.value,style:g.value,"aria-hidden":"true"},M)];p.value!==null&&Q.push(p.value);const le=a.label!==void 0?Ja(l.default,[a.label]):Ue(l.default);return le!==void 0&&Q.push(h("div",{class:`q-${e}__label q-anchor--skip`},le)),h("div",{ref:d,class:Y.value,...ie.value,onClick:ae,onKeydown:E,onKeyup:P},Q)}}var qa=Ie({name:"QToggle",props:{...wi,icon:String,iconColor:String},emits:Ai,setup(e){function t(a,l){const n=m(()=>(a.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=m(()=>a.value===!0?e.iconColor:null);return()=>[h("div",{class:"q-toggle__track"}),h("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},n.value!==void 0?[h(St,{name:n.value,color:i.value})]:void 0)]}return Ti("toggle",t)}});const Vr={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},Kl={xs:2,sm:4,md:8,lg:16,xl:24};var Sa=Ie({name:"QSeparator",props:{...zt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=Ke(),a=Lt(e,t.proxy.$q),l=m(()=>e.vertical===!0?"vertical":"horizontal"),n=m(()=>` q-separator--${l.value}`),i=m(()=>e.inset!==!1?`${n.value}-${Vr[e.inset]}`:""),r=m(()=>`q-separator${n.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(a.value===!0?" q-separator--dark":"")),u=m(()=>{const d={};if(e.size!==void 0&&(d[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const p=e.spaced===!0?`${Kl.md}px`:e.spaced in Kl?`${Kl[e.spaced]}px`:e.spaced,c=e.vertical===!0?["Left","Right"]:["Top","Bottom"];d[`margin${c[0]}`]=d[`margin${c[1]}`]=p}return d});return()=>h("hr",{class:r.value,style:u.value,"aria-orientation":l.value})}}),aa=Ie({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const a=m(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>h(e.tag,{class:a.value},Ue(t.default))}}),Ca=Ie({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const a=m(()=>parseInt(e.lines,10)),l=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(a.value===1?" ellipsis":"")),n=m(()=>e.lines!==void 0&&a.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":a.value}:null);return()=>h("div",{style:n.value,class:l.value},Ue(t.default))}}),yl=Ie({name:"QCard",props:{...zt,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:a}}=Ke(),l=Lt(e,a),n=m(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>h(e.tag,{class:n.value},Ue(t.default))}});const da=[];let _a;function Or(e){_a=e.keyCode===27}function Rr(){_a===!0&&(_a=!1)}function Kr(e){_a===!0&&(_a=!1,ai(e,27)===!0&&da[da.length-1](e))}function Ci(e){window[e]("keydown",Or),window[e]("blur",Rr),window[e]("keyup",Kr),_a=!1}function _i(e){ti.is.desktop===!0&&(da.push(e),da.length===1&&Ci("addEventListener"))}function hl(e){const t=da.indexOf(e);t>-1&&(da.splice(t,1),da.length===0&&Ci("removeEventListener"))}let il=0;const Ir={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Sn={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Ua=Ie({name:"QDialog",inheritAttrs:!1,props:{...si,...mi,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...ui,"shake","click","escapeKey"],setup(e,{slots:t,emit:a,attrs:l}){const n=Ke(),i=Z(null),r=Z(!1),u=Z(!1);let d=null,p=null,c,g;const F=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:S}=Ar(),{registerTimeout:q}=ci(),{registerTick:V,removeTick:w}=vi(),{transitionProps:W,transitionStyle:Y}=pi(e,()=>Sn[e.position][0],()=>Sn[e.position][1]),{showPortal:I,hidePortal:R,portalIsAccessible:z,renderPortal:ie}=gi(n,i,pe,"dialog"),{hide:ae}=di({showing:r,hideOnRouteChange:F,handleShow:le,handleHide:me,processOnMount:!0}),{addToHistory:X,removeFromHistory:E}=wr(r,ae,F),P=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Ir[e.position]}`+(u.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),k=m(()=>r.value===!0&&e.seamless!==!0),M=m(()=>e.autoClose===!0?{onClick:B}:{}),Q=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${k.value===!0?"modal":"seamless"}`,l.class]);he(()=>e.maximized,J=>{r.value===!0&&C(J)}),he(k,J=>{S(J),J===!0?(yi($),_i(de)):(Jl($),hl(de))});function le(J){X(),p=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,C(e.maximized),I(),u.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),V(ne)):w(),q(()=>{if(n.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:H,bottom:ee}=document.activeElement.getBoundingClientRect(),{innerHeight:ge}=window,L=window.visualViewport!==void 0?window.visualViewport.height:ge;H>0&&ee>L/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-L,ee>=ge?1/0:Math.ceil(document.scrollingElement.scrollTop+ee-L/2))),document.activeElement.scrollIntoView()}g=!0,i.value.click(),g=!1}I(!0),u.value=!1,a("show",J)},e.transitionDuration)}function me(J){w(),E(),we(!0),u.value=!0,R(),p!==null&&(((J&&J.type.indexOf("key")===0?p.closest('[tabindex]:not([tabindex^="-"])'):void 0)||p).focus(),p=null),q(()=>{R(!0),u.value=!1,a("hide",J)},e.transitionDuration)}function ne(J){Za(()=>{let H=i.value;H===null||H.contains(document.activeElement)===!0||(H=(J!==""?H.querySelector(J):null)||H.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||H.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||H.querySelector("[autofocus], [data-autofocus]")||H,H.focus({preventScroll:!0}))})}function O(J){J&&typeof J.focus=="function"?J.focus({preventScroll:!0}):ne(),a("shake");const H=i.value;H!==null&&(H.classList.remove("q-animate--scale"),H.classList.add("q-animate--scale"),d!==null&&clearTimeout(d),d=setTimeout(()=>{d=null,i.value!==null&&(H.classList.remove("q-animate--scale"),ne())},170))}function de(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&O():(a("escapeKey"),ae()))}function we(J){d!==null&&(clearTimeout(d),d=null),(J===!0||r.value===!0)&&(C(!1),e.seamless!==!0&&(S(!1),Jl($),hl(de))),J!==!0&&(p=null)}function C(J){J===!0?c!==!0&&(il<1&&document.body.classList.add("q-body--dialog"),il++,c=!0):c===!0&&(il<2&&document.body.classList.remove("q-body--dialog"),il--,c=!1)}function B(J){g!==!0&&(ae(J),a("click",J))}function T(J){e.persistent!==!0&&e.noBackdropDismiss!==!0?ae(J):e.noShake!==!0&&O()}function $(J){e.allowFocusOutside!==!0&&z.value===!0&&li(i.value,J.target)!==!0&&ne('[tabindex]:not([tabindex="-1"])')}Object.assign(n.proxy,{focus:ne,shake:O,__updateRefocusTarget(J){p=J||null}}),Pt(we);function pe(){return h("div",{role:"dialog","aria-modal":k.value===!0?"true":"false",...l,class:Q.value},[h(vl,{name:"q-transition--fade",appear:!0},()=>k.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:Y.value,"aria-hidden":"true",tabindex:-1,onClick:T}):null),h(vl,W.value,()=>r.value===!0?h("div",{ref:i,class:P.value,style:Y.value,tabindex:-1,...M.value},Ue(t.default)):null)])}return ie}});function Lr({validate:e,resetValidation:t,requiresQForm:a}){const l=ar(ni,!1);if(l!==!1){const{props:n,proxy:i}=Ke();Object.assign(i,{validate:e,resetValidation:t}),he(()=>n.disable,r=>{r===!0?(typeof t=="function"&&t(),l.unbindComponent(i)):l.bindComponent(i)}),Ma(()=>{n.disable!==!0&&l.bindComponent(i)}),Pt(()=>{n.disable!==!0&&l.unbindComponent(i)})}else a===!0&&console.error("Parent QForm not found on useFormChild()!")}const wn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,An=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Tn=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,rl=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ol=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Il={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>wn.test(e),hexaColor:e=>An.test(e),hexOrHexaColor:e=>Tn.test(e),rgbColor:e=>rl.test(e),rgbaColor:e=>ol.test(e),rgbOrRgbaColor:e=>rl.test(e)||ol.test(e),hexOrRgbColor:e=>wn.test(e)||rl.test(e),hexaOrRgbaColor:e=>An.test(e)||ol.test(e),anyColor:e=>Tn.test(e)||rl.test(e)||ol.test(e)},zr=[!0,!1,"ondemand"],Hr={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>zr.includes(e)}};function $r(e,t){const{props:a,proxy:l}=Ke(),n=Z(!1),i=Z(null),r=Z(null);Lr({validate:q,resetValidation:S});let u=0,d;const p=m(()=>a.rules!==void 0&&a.rules!==null&&a.rules.length!==0),c=m(()=>a.disable!==!0&&p.value===!0),g=m(()=>a.error===!0||n.value===!0),F=m(()=>typeof a.errorMessage=="string"&&a.errorMessage.length!==0?a.errorMessage:i.value);he(()=>a.modelValue,()=>{V()}),he(()=>a.reactiveRules,W=>{W===!0?d===void 0&&(d=he(()=>a.rules,()=>{V(!0)})):d!==void 0&&(d(),d=void 0)},{immediate:!0}),he(e,W=>{W===!0?r.value===null&&(r.value=!1):r.value===!1&&(r.value=!0,c.value===!0&&a.lazyRules!=="ondemand"&&t.value===!1&&w())});function S(){u++,t.value=!1,r.value=null,n.value=!1,i.value=null,w.cancel()}function q(W=a.modelValue){if(c.value!==!0)return!0;const Y=++u,I=t.value!==!0?()=>{r.value=!0}:()=>{},R=(ie,ae)=>{ie===!0&&I(),n.value=ie,i.value=ae||null,t.value=!1},z=[];for(let ie=0;ie<a.rules.length;ie++){const ae=a.rules[ie];let X;if(typeof ae=="function"?X=ae(W,Il):typeof ae=="string"&&Il[ae]!==void 0&&(X=Il[ae](W)),X===!1||typeof X=="string")return R(!0,X),!1;X!==!0&&X!==void 0&&z.push(X)}return z.length===0?(R(!1),!0):(t.value=!0,Promise.all(z).then(ie=>{if(ie===void 0||Array.isArray(ie)===!1||ie.length===0)return Y===u&&R(!1),!0;const ae=ie.find(X=>X===!1||typeof X=="string");return Y===u&&R(ae!==void 0,ae),ae===void 0},ie=>(Y===u&&(console.error(ie),R(!0)),!1)))}function V(W){c.value===!0&&a.lazyRules!=="ondemand"&&(r.value===!0||a.lazyRules!==!0&&W!==!0)&&w()}const w=ii(q,0);return Pt(()=>{d!==void 0&&d(),w.cancel()}),Object.assign(l,{resetValidation:S,validate:q}),ea(l,"hasError",()=>g.value),{isDirtyModel:r,hasRules:p,hasError:g,errorMessage:F,validate:q,resetValidation:S}}const Cn=/^on[A-Z]/;function Nr(e,t){const a={listeners:Z({}),attributes:Z({})};function l(){const n={},i={};for(const r in e)r!=="class"&&r!=="style"&&Cn.test(r)===!1&&(n[r]=e[r]);for(const r in t.props)Cn.test(r)===!0&&(i[r]=t.props[r]);a.attributes.value=n,a.listeners.value=i}return ri(l),l(),a}let Ll,sl=0;const Ge=new Array(256);for(let e=0;e<256;e++)Ge[e]=(e+256).toString(16).substring(1);const Gr=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const a=new Uint8Array(t);return e.getRandomValues(a),a}}return t=>{const a=[];for(let l=t;l>0;l--)a.push(Math.floor(Math.random()*256));return a}})(),_n=4096;function Ur(){(Ll===void 0||sl+16>_n)&&(sl=0,Ll=Gr(_n));const e=Array.prototype.slice.call(Ll,sl,sl+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Ge[e[0]]+Ge[e[1]]+Ge[e[2]]+Ge[e[3]]+"-"+Ge[e[4]]+Ge[e[5]]+"-"+Ge[e[6]]+Ge[e[7]]+"-"+Ge[e[8]]+Ge[e[9]]+"-"+Ge[e[10]]+Ge[e[11]]+Ge[e[12]]+Ge[e[13]]+Ge[e[14]]+Ge[e[15]]}function Zl(e){return e===void 0?`f_${Ur()}`:e}function Wa(e){return e!=null&&(""+e).length!==0}const Pl={...zt,...Hr,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},ln=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function nn(){const{props:e,attrs:t,proxy:a,vnode:l}=Ke();return{isDark:Lt(e,a.$q),editable:m(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:Z(!1),focused:Z(!1),hasPopupOpen:!1,splitAttrs:Nr(t,l),targetUid:Z(Zl(e.for)),rootRef:Z(null),targetRef:Z(null),controlRef:Z(null)}}function rn(e){const{props:t,emit:a,slots:l,attrs:n,proxy:i}=Ke(),{$q:r}=i;let u=null;e.hasValue===void 0&&(e.hasValue=m(()=>Wa(t.modelValue))),e.emitValue===void 0&&(e.emitValue=O=>{a("update:modelValue",O)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:E,onFocusout:P}),Object.assign(e,{clearValue:k,onControlFocusin:E,onControlFocusout:P,focus:ae}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const O=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,de=t.maxlength!==void 0?t.maxlength:t.maxValues;return O+(de!==void 0?" / "+de:"")}}));const{isDirtyModel:d,hasRules:p,hasError:c,errorMessage:g,resetValidation:F}=$r(e.focused,e.innerLoading),S=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),q=m(()=>t.bottomSlots===!0||t.hint!==void 0||p.value===!0||t.counter===!0||t.error!==null),V=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),w=m(()=>`q-field row no-wrap items-start q-field--${V.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(S.value===!0?" q-field--float":"")+(Y.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&q.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),W=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),Y=m(()=>t.labelSlot===!0||t.label!==void 0),I=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),R=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:S.value,modelValue:t.modelValue,emitValue:e.emitValue})),z=m(()=>{const O={for:e.targetUid.value};return t.disable===!0?O["aria-disabled"]="true":t.readonly===!0&&(O["aria-readonly"]="true"),O});he(()=>t.for,O=>{e.targetUid.value=Zl(O)});function ie(){const O=document.activeElement;let de=e.targetRef!==void 0&&e.targetRef.value;de&&(O===null||O.id!==e.targetUid.value)&&(de.hasAttribute("tabindex")===!0||(de=de.querySelector("[tabindex]")),de&&de!==O&&de.focus({preventScroll:!0}))}function ae(){Za(ie)}function X(){Tr(ie);const O=document.activeElement;O!==null&&e.rootRef.value.contains(O)&&O.blur()}function E(O){u!==null&&(clearTimeout(u),u=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,a("focus",O))}function P(O,de){u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,a("blur",O)),de!==void 0&&de())})}function k(O){nt(O),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),a("update:modelValue",null),a("clear",t.modelValue),ze(()=>{F(),r.platform.is.mobile!==!0&&(d.value=!1)})}function M(){const O=[];return l.prepend!==void 0&&O.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ta},l.prepend())),O.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},Q())),c.value===!0&&t.noErrorIcon===!1&&O.push(me("error",[h(St,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?O.push(me("inner-loading-append",l.loading!==void 0?l.loading():[h(nr,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&O.push(me("inner-clearable-append",[h(St,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:k})])),l.append!==void 0&&O.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ta},l.append())),e.getInnerAppend!==void 0&&O.push(me("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&O.push(e.getControlChild()),O}function Q(){const O=[];return t.prefix!==void 0&&t.prefix!==null&&O.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&O.push(e.getShadowControl()),e.getControl!==void 0?O.push(e.getControl()):l.rawControl!==void 0?O.push(l.rawControl()):l.control!==void 0&&O.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(R.value))),Y.value===!0&&O.push(h("div",{class:I.value},Ue(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&O.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),O.concat(Ue(l.default))}function le(){let O,de;c.value===!0?g.value!==null?(O=[h("div",{role:"alert"},g.value)],de=`q--slot-error-${g.value}`):(O=Ue(l.error),de="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(O=[h("div",t.hint)],de=`q--slot-hint-${t.hint}`):(O=Ue(l.hint),de="q--slot-hint"));const we=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&we===!1&&O===void 0)return;const C=h("div",{key:de,class:"q-field__messages col"},O);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ta},[t.hideBottomSpace===!0?C:h(vl,{name:"q-transition--field-message"},()=>C),we===!0?h("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function me(O,de){return de===null?null:h("div",{key:O,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},de)}let ne=!1;return Dl(()=>{ne=!0}),Ml(()=>{ne===!0&&t.autofocus===!0&&i.focus()}),Ma(()=>{lr.value===!0&&t.for===void 0&&(e.targetUid.value=Zl()),t.autofocus===!0&&i.focus()}),Pt(()=>{u!==null&&clearTimeout(u)}),Object.assign(i,{focus:ae,blur:X}),function(){const de=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...z.value}:z.value;return h("label",{ref:e.rootRef,class:[w.value,n.class],style:n.style,...de},[l.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ta},l.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:W.value,tabindex:-1,...e.controlEvents},M()),q.value===!0?le():null]),l.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ta},l.after()):null])}}const Dn={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},bl={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Di=Object.keys(bl);Di.forEach(e=>{bl[e].regex=new RegExp(bl[e].pattern)});const Wr=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Di.join("")+"])|(.)","g"),Mn=/[.*+?^${}()|[\]\\]/g,Le=String.fromCharCode(1),jr={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Qr(e,t,a,l){let n,i,r,u,d,p;const c=Z(null),g=Z(S());function F(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}he(()=>e.type+e.autogrow,V),he(()=>e.mask,E=>{if(E!==void 0)w(g.value,!0);else{const P=ae(g.value);V(),e.modelValue!==P&&t("update:modelValue",P)}}),he(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&w(g.value,!0)}),he(()=>e.unmaskedValue,()=>{c.value===!0&&w(g.value)});function S(){if(V(),c.value===!0){const E=z(ae(e.modelValue));return e.fillMask!==!1?X(E):E}return e.modelValue}function q(E){if(E<n.length)return n.slice(-E);let P="",k=n;const M=k.indexOf(Le);if(M>-1){for(let Q=E-k.length;Q>0;Q--)P+=Le;k=k.slice(0,M)+P+k.slice(M)}return k}function V(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&F(),c.value===!1){u=void 0,n="",i="";return}const E=Dn[e.mask]===void 0?e.mask:Dn[e.mask],P=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",k=P.replace(Mn,"\\$&"),M=[],Q=[],le=[];let me=e.reverseFillMask===!0,ne="",O="";E.replace(Wr,(B,T,$,pe,J)=>{if(pe!==void 0){const H=bl[pe];le.push(H),O=H.negate,me===!0&&(Q.push("(?:"+O+"+)?("+H.pattern+"+)?(?:"+O+"+)?("+H.pattern+"+)?"),me=!1),Q.push("(?:"+O+"+)?("+H.pattern+")?")}else if($!==void 0)ne="\\"+($==="\\"?"":$),le.push($),M.push("([^"+ne+"]+)?"+ne+"?");else{const H=T!==void 0?T:J;ne=H==="\\"?"\\\\\\\\":H.replace(Mn,"\\\\$&"),le.push(H),M.push("([^"+ne+"]+)?"+ne+"?")}});const de=new RegExp("^"+M.join("")+"("+(ne===""?".":"[^"+ne+"]")+"+)?"+(ne===""?"":"["+ne+"]*")+"$"),we=Q.length-1,C=Q.map((B,T)=>T===0&&e.reverseFillMask===!0?new RegExp("^"+k+"*"+B):T===we?new RegExp("^"+B+"("+(O===""?".":O)+"+)?"+(e.reverseFillMask===!0?"$":k+"*")):new RegExp("^"+B));r=le,u=B=>{const T=de.exec(e.reverseFillMask===!0?B:B.slice(0,le.length+1));T!==null&&(B=T.slice(1).join(""));const $=[],pe=C.length;for(let J=0,H=B;J<pe;J++){const ee=C[J].exec(H);if(ee===null)break;H=H.slice(ee.shift().length),$.push(...ee)}return $.length!==0?$.join(""):B},n=le.map(B=>typeof B=="string"?B:Le).join(""),i=n.split(Le).join(P)}function w(E,P,k){const M=l.value,Q=M.selectionEnd,le=M.value.length-Q,me=ae(E);P===!0&&V();const ne=z(me),O=e.fillMask!==!1?X(ne):ne,de=g.value!==O;M.value!==O&&(M.value=O),de===!0&&(g.value=O),document.activeElement===M&&ze(()=>{if(O===i){const C=e.reverseFillMask===!0?i.length:0;M.setSelectionRange(C,C,"forward");return}if(k==="insertFromPaste"&&e.reverseFillMask!==!0){const C=M.selectionEnd;let B=Q-1;for(let T=d;T<=B&&T<C;T++)n[T]!==Le&&B++;Y.right(M,B);return}if(["deleteContentBackward","deleteContentForward"].indexOf(k)>-1){const C=e.reverseFillMask===!0?Q===0?O.length>ne.length?1:0:Math.max(0,O.length-(O===i?0:Math.min(ne.length,le)+1))+1:Q;M.setSelectionRange(C,C,"forward");return}if(e.reverseFillMask===!0)if(de===!0){const C=Math.max(0,O.length-(O===i?0:Math.min(ne.length,le+1)));C===1&&Q===1?M.setSelectionRange(C,C,"forward"):Y.rightReverse(M,C)}else{const C=O.length-le;M.setSelectionRange(C,C,"backward")}else if(de===!0){const C=Math.max(0,n.indexOf(Le),Math.min(ne.length,Q)-1);Y.right(M,C)}else{const C=Q-1;Y.right(M,C)}});const we=e.unmaskedValue===!0?ae(O):O;String(e.modelValue)!==we&&a(we,!0)}function W(E,P,k){const M=z(ae(E.value));P=Math.max(0,n.indexOf(Le),Math.min(M.length,P)),d=P,E.setSelectionRange(P,k,"forward")}const Y={left(E,P){const k=n.slice(P-1).indexOf(Le)===-1;let M=Math.max(0,P-1);for(;M>=0;M--)if(n[M]===Le){P=M,k===!0&&P++;break}if(M<0&&n[P]!==void 0&&n[P]!==Le)return Y.right(E,0);P>=0&&E.setSelectionRange(P,P,"backward")},right(E,P){const k=E.value.length;let M=Math.min(k,P+1);for(;M<=k;M++)if(n[M]===Le){P=M;break}else n[M-1]===Le&&(P=M);if(M>k&&n[P-1]!==void 0&&n[P-1]!==Le)return Y.left(E,k);E.setSelectionRange(P,P,"forward")},leftReverse(E,P){const k=q(E.value.length);let M=Math.max(0,P-1);for(;M>=0;M--)if(k[M-1]===Le){P=M;break}else if(k[M]===Le&&(P=M,M===0))break;if(M<0&&k[P]!==void 0&&k[P]!==Le)return Y.rightReverse(E,0);P>=0&&E.setSelectionRange(P,P,"backward")},rightReverse(E,P){const k=E.value.length,M=q(k),Q=M.slice(0,P+1).indexOf(Le)===-1;let le=Math.min(k,P+1);for(;le<=k;le++)if(M[le-1]===Le){P=le,P>0&&Q===!0&&P--;break}if(le>k&&M[P-1]!==void 0&&M[P-1]!==Le)return Y.leftReverse(E,k);E.setSelectionRange(P,P,"forward")}};function I(E){t("click",E),p=void 0}function R(E){if(t("keydown",E),oi(E)===!0||E.altKey===!0)return;const P=l.value,k=P.selectionStart,M=P.selectionEnd;if(E.shiftKey||(p=void 0),E.keyCode===37||E.keyCode===39){E.shiftKey&&p===void 0&&(p=P.selectionDirection==="forward"?k:M);const Q=Y[(E.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(E.preventDefault(),Q(P,p===k?M:k),E.shiftKey){const le=P.selectionStart;P.setSelectionRange(Math.min(p,le),Math.max(p,le),"forward")}}else E.keyCode===8&&e.reverseFillMask!==!0&&k===M?(Y.left(P,k),P.setSelectionRange(P.selectionStart,M,"backward")):E.keyCode===46&&e.reverseFillMask===!0&&k===M&&(Y.rightReverse(P,M),P.setSelectionRange(k,P.selectionEnd,"forward"))}function z(E){if(E==null||E==="")return"";if(e.reverseFillMask===!0)return ie(E);const P=r;let k=0,M="";for(let Q=0;Q<P.length;Q++){const le=E[k],me=P[Q];if(typeof me=="string")M+=me,le===me&&k++;else if(le!==void 0&&me.regex.test(le))M+=me.transform!==void 0?me.transform(le):le,k++;else return M}return M}function ie(E){const P=r,k=n.indexOf(Le);let M=E.length-1,Q="";for(let le=P.length-1;le>=0&&M>-1;le--){const me=P[le];let ne=E[M];if(typeof me=="string")Q=me+Q,ne===me&&M--;else if(ne!==void 0&&me.regex.test(ne))do Q=(me.transform!==void 0?me.transform(ne):ne)+Q,M--,ne=E[M];while(k===le&&ne!==void 0&&me.regex.test(ne));else return Q}return Q}function ae(E){return typeof E!="string"||u===void 0?typeof E=="number"?u(""+E):E:u(E)}function X(E){return i.length-E.length<=0?E:e.reverseFillMask===!0&&E.length!==0?i.slice(0,-E.length)+E:E+i.slice(E.length)}return{innerValue:g,hasMask:c,moveCursorForPaste:W,updateMaskValue:w,onMaskedKeydown:R,onMaskedClick:I}}function Jr(e,t){function a(){const l=e.modelValue;try{const n="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(l)===l&&("length"in l?Array.from(l):[l]).forEach(i=>{n.items.add(i)}),{files:n.files}}catch{return{files:void 0}}}return t===!0?m(()=>{if(e.type==="file")return a()}):m(a)}const Zr=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Yr=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Xr=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,eo=/[a-z0-9_ -]$/i;function Mi(e){return function(a){if(a.type==="compositionend"||a.type==="change"){if(a.target.qComposing!==!0)return;a.target.qComposing=!1,e(a)}else a.type==="compositionupdate"&&a.target.qComposing!==!0&&typeof a.data=="string"&&(ti.is.firefox===!0?eo.test(a.data)===!1:Zr.test(a.data)===!0||Yr.test(a.data)===!0||Xr.test(a.data)===!0)===!0&&(a.target.qComposing=!0)}}var Ve=Ie({name:"QInput",inheritAttrs:!1,props:{...Pl,...jr,...xl,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ln,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:a}){const{proxy:l}=Ke(),{$q:n}=l,i={};let r=NaN,u,d,p=null,c;const g=Z(null),F=ki(e),{innerValue:S,hasMask:q,moveCursorForPaste:V,updateMaskValue:w,onMaskedKeydown:W,onMaskedClick:Y}=Qr(e,t,ne,g),I=Jr(e,!0),R=m(()=>Wa(S.value)),z=Mi(le),ie=nn(),ae=m(()=>e.type==="textarea"||e.autogrow===!0),X=m(()=>ae.value===!0||["text","search","url","tel","password"].includes(e.type)),E=m(()=>{const T={...ie.splitAttrs.listeners.value,onInput:le,onPaste:Q,onChange:de,onBlur:we,onFocus:Zt};return T.onCompositionstart=T.onCompositionupdate=T.onCompositionend=z,q.value===!0&&(T.onKeydown=W,T.onClick=Y),e.autogrow===!0&&(T.onAnimationend=me),T}),P=m(()=>{const T={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:F.value,...ie.splitAttrs.attributes.value,id:ie.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return ae.value===!1&&(T.type=e.type),e.autogrow===!0&&(T.rows=1),T});he(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),he(()=>e.modelValue,T=>{if(q.value===!0){if(d===!0&&(d=!1,String(T)===r))return;w(T)}else S.value!==T&&(S.value=T,e.type==="number"&&i.hasOwnProperty("value")===!0&&(u===!0?u=!1:delete i.value));e.autogrow===!0&&ze(O)}),he(()=>e.autogrow,T=>{T===!0?ze(O):g.value!==null&&a.rows>0&&(g.value.style.height="auto")}),he(()=>e.dense,()=>{e.autogrow===!0&&ze(O)});function k(){Za(()=>{const T=document.activeElement;g.value!==null&&g.value!==T&&(T===null||T.id!==ie.targetUid.value)&&g.value.focus({preventScroll:!0})})}function M(){g.value!==null&&g.value.select()}function Q(T){if(q.value===!0&&e.reverseFillMask!==!0){const $=T.target;V($,$.selectionStart,$.selectionEnd)}t("paste",T)}function le(T){if(!T||!T.target)return;if(e.type==="file"){t("update:modelValue",T.target.files);return}const $=T.target.value;if(T.target.qComposing===!0){i.value=$;return}if(q.value===!0)w($,!1,T.inputType);else if(ne($),X.value===!0&&T.target===document.activeElement){const{selectionStart:pe,selectionEnd:J}=T.target;pe!==void 0&&J!==void 0&&ze(()=>{T.target===document.activeElement&&$.indexOf(T.target.value)===0&&T.target.setSelectionRange(pe,J)})}e.autogrow===!0&&O()}function me(T){t("animationend",T),O()}function ne(T,$){c=()=>{p=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==T&&r!==T&&(r=T,$===!0&&(d=!0),t("update:modelValue",T),ze(()=>{r===T&&(r=NaN)})),c=void 0},e.type==="number"&&(u=!0,i.value=T),e.debounce!==void 0?(p!==null&&clearTimeout(p),i.value=T,p=setTimeout(c,e.debounce)):c()}function O(){requestAnimationFrame(()=>{const T=g.value;if(T!==null){const $=T.parentNode.style,{scrollTop:pe}=T,{overflowY:J,maxHeight:H}=n.platform.is.firefox===!0?{}:window.getComputedStyle(T),ee=J!==void 0&&J!=="scroll";ee===!0&&(T.style.overflowY="hidden"),$.marginBottom=T.scrollHeight-1+"px",T.style.height="1px",T.style.height=T.scrollHeight+"px",ee===!0&&(T.style.overflowY=parseInt(H,10)<T.scrollHeight?"auto":"hidden"),$.marginBottom="",T.scrollTop=pe}})}function de(T){z(T),p!==null&&(clearTimeout(p),p=null),c!==void 0&&c(),t("change",T.target.value)}function we(T){T!==void 0&&Zt(T),p!==null&&(clearTimeout(p),p=null),c!==void 0&&c(),u=!1,d=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=S.value!==void 0?S.value:"")})}function C(){return i.hasOwnProperty("value")===!0?i.value:S.value!==void 0?S.value:""}Pt(()=>{we()}),Ma(()=>{e.autogrow===!0&&O()}),Object.assign(ie,{innerValue:S,fieldClass:m(()=>`q-${ae.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:m(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:ne,hasValue:R,floatingLabel:m(()=>R.value===!0&&(e.type!=="number"||isNaN(S.value)===!1)||Wa(e.displayValue)),getControl:()=>h(ae.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...P.value,...E.value,...e.type!=="file"?{value:C()}:I.value}),getShadowControl:()=>h("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(ae.value===!0?"":" text-no-wrap")},[h("span",{class:"invisible"},C()),h("span",e.shadowText)])});const B=rn(ie);return Object.assign(l,{focus:k,select:M,getNativeElement:()=>g.value}),ea(l,"nativeEl",()=>g.value),B}}),to=Ie({name:"QField",inheritAttrs:!1,props:Pl,emits:ln,setup(){return rn(nn())}});const ao={xs:8,sm:10,md:14,lg:20,xl:24};var lo=Ie({name:"QChip",props:{...zt,..._l,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:a}){const{proxy:{$q:l}}=Ke(),n=Lt(e,l),i=Cl(e,ao),r=m(()=>e.selected===!0||e.icon!==void 0),u=m(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),d=m(()=>e.iconRemove||l.iconSet.chip.remove),p=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=m(()=>{const w=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(w?` text-${w} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(p.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(n.value===!0?" q-chip--dark q-dark":"")}),g=m(()=>{const w=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},W={...w,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:w,remove:W}});function F(w){w.keyCode===13&&S(w)}function S(w){e.disable||(a("update:selected",!e.selected),a("click",w))}function q(w){(w.keyCode===void 0||w.keyCode===13)&&(nt(w),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function V(){const w=[];p.value===!0&&w.push(h("div",{class:"q-focus-helper"})),r.value===!0&&w.push(h(St,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const W=e.label!==void 0?[h("div",{class:"ellipsis"},[e.label])]:void 0;return w.push(h("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},rr(t.default,W))),e.iconRight&&w.push(h(St,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&w.push(h(St,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:d.value,...g.value.remove,onClick:q,onKeyup:q})),w}return()=>{if(e.modelValue===!1)return;const w={class:c.value,style:i.value};return p.value===!0&&Object.assign(w,g.value.chip,{onClick:S,onKeyup:F}),ir("div",w,V(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[$a,e.ripple]])}}}),xi=Ie({name:"QMenu",inheritAttrs:!1,props:{...Cr,...si,...zt,...mi,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:hn},self:{type:String,validator:hn},offset:{type:Array,validator:_r},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ui,"click","escapeKey"],setup(e,{slots:t,emit:a,attrs:l}){let n=null,i,r,u;const d=Ke(),{proxy:p}=d,{$q:c}=p,g=Z(null),F=Z(!1),S=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),q=Lt(e,c),{registerTick:V,removeTick:w}=vi(),{registerTimeout:W}=ci(),{transitionProps:Y,transitionStyle:I}=pi(e),{localScrollTarget:R,changeScrollEvent:z,unconfigureScrollTarget:ie}=Dr(e,$),{anchorEl:ae,canShow:X}=Mr({showing:F}),{hide:E}=di({showing:F,canShow:X,handleShow:C,handleHide:B,hideOnRouteChange:S,processOnMount:!0}),{showPortal:P,hidePortal:k,renderPortal:M}=gi(d,g,ge,"menu"),Q={anchorEl:ae,innerRef:g,onClickOutside(L){if(e.persistent!==!0&&F.value===!0)return E(L),(L.type==="touchstart"||L.target.classList.contains("q-dialog__backdrop"))&&nt(L),!0}},le=m(()=>kn(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),me=m(()=>e.cover===!0?le.value:kn(e.self||"top start",c.lang.rtl)),ne=m(()=>(e.square===!0?" q-menu--square":"")+(q.value===!0?" q-menu--dark q-dark":"")),O=m(()=>e.autoClose===!0?{onClick:pe}:{}),de=m(()=>F.value===!0&&e.persistent!==!0);he(de,L=>{L===!0?(_i(H),Pr(Q)):(hl(H),bn(Q))});function we(){Za(()=>{let L=g.value;L&&L.contains(document.activeElement)!==!0&&(L=L.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||L.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||L.querySelector("[autofocus], [data-autofocus]")||L,L.focus({preventScroll:!0}))})}function C(L){if(n=e.noRefocus===!1?document.activeElement:null,yi(J),P(),$(),i=void 0,L!==void 0&&(e.touchPosition||e.contextMenu)){const Ee=or(L);if(Ee.left!==void 0){const{top:Xe,left:et}=ae.value.getBoundingClientRect();i={left:Ee.left-et,top:Ee.top-Xe}}}r===void 0&&(r=he(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,ee)),e.noFocus!==!0&&document.activeElement.blur(),V(()=>{ee(),e.noFocus!==!0&&we()}),W(()=>{c.platform.is.ios===!0&&(u=e.autoClose,g.value.click()),ee(),P(!0),a("show",L)},e.transitionDuration)}function B(L){w(),k(),T(!0),n!==null&&(L===void 0||L.qClickOutside!==!0)&&(((L&&L.type.indexOf("key")===0?n.closest('[tabindex]:not([tabindex^="-"])'):void 0)||n).focus(),n=null),W(()=>{k(!0),a("hide",L)},e.transitionDuration)}function T(L){i=void 0,r!==void 0&&(r(),r=void 0),(L===!0||F.value===!0)&&(Jl(J),ie(),bn(Q),hl(H)),L!==!0&&(n=null)}function $(){(ae.value!==null||e.scrollTarget!==void 0)&&(R.value=fi(ae.value,e.scrollTarget),z(R.value,ee))}function pe(L){u!==!0?(Fr(p,L),a("click",L)):u=!1}function J(L){de.value===!0&&e.noFocus!==!0&&li(g.value,L.target)!==!0&&we()}function H(L){a("escapeKey"),E(L)}function ee(){xr({targetEl:g.value,offset:e.offset,anchorEl:ae.value,anchorOrigin:le.value,selfOrigin:me.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ge(){return h(vl,Y.value,()=>F.value===!0?h("div",{role:"menu",...l,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+ne.value,l.class],style:[l.style,I.value],...O.value},Ue(t.default)):null)}return Pt(T),Object.assign(p,{focus:we,updatePosition:ee}),M}});let kl=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,kl=e.scrollLeft>=0,e.remove()}const kt=1e3,no=["start","center","end","start-force","center-force","end-force"],Pi=Array.prototype.filter,io=window.getComputedStyle(document.body).overflowAnchor===void 0?sr:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const a=e.children||[];Pi.call(a,n=>n.dataset&&n.dataset.qVsAnchor!==void 0).forEach(n=>{delete n.dataset.qVsAnchor});const l=a[t];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function Aa(e,t){return e+t}function zl(e,t,a,l,n,i,r,u){const d=e===window?document.scrollingElement||document.documentElement:e,p=n===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-r-u,scrollMaxSize:0,offsetStart:-r,offsetEnd:-u};if(n===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=d.scrollLeft,c.scrollViewSize+=d.clientWidth),c.scrollMaxSize=d.scrollWidth,i===!0&&(c.scrollStart=(kl===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=d.scrollTop,c.scrollViewSize+=d.clientHeight),c.scrollMaxSize=d.scrollHeight),a!==null)for(let g=a.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=g[p]);if(l!==null)for(let g=l.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=g[p]);if(t!==e){const g=d.getBoundingClientRect(),F=t.getBoundingClientRect();n===!0?(c.offsetStart+=F.left-g.left,c.offsetEnd-=F.width):(c.offsetStart+=F.top-g.top,c.offsetEnd-=F.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function xn(e,t,a,l){t==="end"&&(t=(e===window?document.body:e)[a===!0?"scrollWidth":"scrollHeight"]),e===window?a===!0?(l===!0&&(t=(kl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):a===!0?(l===!0&&(t=(kl===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Ba(e,t,a,l){if(a>=l)return 0;const n=t.length,i=Math.floor(a/kt),r=Math.floor((l-1)/kt)+1;let u=e.slice(i,r).reduce(Aa,0);return a%kt!==0&&(u-=t.slice(i*kt,a).reduce(Aa,0)),l%kt!==0&&l!==n&&(u-=t.slice(l,r*kt).reduce(Aa,0)),u}const Fi={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ei=Object.keys(Fi),qi={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Fi};function Bi({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:a,virtualScrollItemSizeComputed:l}){const n=Ke(),{props:i,emit:r,proxy:u}=n,{$q:d}=u;let p,c,g,F=[],S;const q=Z(0),V=Z(0),w=Z({}),W=Z(null),Y=Z(null),I=Z(null),R=Z({from:0,to:0}),z=m(()=>i.tableColspan!==void 0?i.tableColspan:100);l===void 0&&(l=m(()=>i.virtualScrollItemSize));const ie=m(()=>l.value+";"+i.virtualScrollHorizontal),ae=m(()=>ie.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);he(ae,()=>{ne()}),he(ie,X);function X(){me(c,!0)}function E(B){me(B===void 0?c:B)}function P(B,T){const $=t();if($==null||$.nodeType===8)return;const pe=zl($,a(),W.value,Y.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);g!==pe.scrollViewSize&&ne(pe.scrollViewSize),M($,pe,Math.min(e.value-1,Math.max(0,parseInt(B,10)||0)),0,no.indexOf(T)>-1?T:c>-1&&B>c?"end":"start")}function k(){const B=t();if(B==null||B.nodeType===8)return;const T=zl(B,a(),W.value,Y.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),$=e.value-1,pe=T.scrollMaxSize-T.offsetStart-T.offsetEnd-V.value;if(p===T.scrollStart)return;if(T.scrollMaxSize<=0){M(B,T,0,0);return}g!==T.scrollViewSize&&ne(T.scrollViewSize),Q(R.value.from);const J=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(S[$],T.scrollViewSize/2));if(J>0&&Math.ceil(T.scrollStart)>=J){M(B,T,$,T.scrollMaxSize-T.offsetEnd-F.reduce(Aa,0));return}let H=0,ee=T.scrollStart-T.offsetStart,ge=ee;if(ee<=pe&&ee+T.scrollViewSize>=q.value)ee-=q.value,H=R.value.from,ge=ee;else for(let L=0;ee>=F[L]&&H<$;L++)ee-=F[L],H+=kt;for(;ee>0&&H<$;)ee-=S[H],ee>-T.scrollViewSize?(H++,ge=ee):ge=S[H]+ee;M(B,T,H,ge)}function M(B,T,$,pe,J){const H=typeof J=="string"&&J.indexOf("-force")>-1,ee=H===!0?J.replace("-force",""):J,ge=ee!==void 0?ee:"start";let L=Math.max(0,$-w.value[ge]),Ee=L+w.value.total;Ee>e.value&&(Ee=e.value,L=Math.max(0,Ee-w.value.total)),p=T.scrollStart;const Xe=L!==R.value.from||Ee!==R.value.to;if(Xe===!1&&ee===void 0){de($);return}const{activeElement:et}=document,Ne=I.value;Xe===!0&&Ne!==null&&Ne!==et&&Ne.contains(et)===!0&&(Ne.addEventListener("focusout",le),setTimeout(()=>{Ne!==null&&Ne.removeEventListener("focusout",le)})),io(Ne,$-L);const ct=ee!==void 0?S.slice(L,$).reduce(Aa,0):0;if(Xe===!0){const st=Ee>=R.value.from&&L<=R.value.to?R.value.to:Ee;R.value={from:L,to:st},q.value=Ba(F,S,0,L),V.value=Ba(F,S,Ee,e.value),requestAnimationFrame(()=>{R.value.to!==Ee&&p===T.scrollStart&&(R.value={from:R.value.from,to:Ee},V.value=Ba(F,S,Ee,e.value))})}requestAnimationFrame(()=>{if(p!==T.scrollStart)return;Xe===!0&&Q(L);const st=S.slice(L,$).reduce(Aa,0),dt=st+T.offsetStart+q.value,rt=dt+S[$];let Se=dt+pe;if(ee!==void 0){const Et=st-ct,He=T.scrollStart+Et;Se=H!==!0&&He<dt&&rt<He+T.scrollViewSize?He:ee==="end"?rt-T.scrollViewSize:dt-(ee==="start"?0:Math.round((T.scrollViewSize-S[$])/2))}p=Se,xn(B,Se,i.virtualScrollHorizontal,d.lang.rtl),de($)})}function Q(B){const T=I.value;if(T){const $=Pi.call(T.children,L=>L.classList&&L.classList.contains("q-virtual-scroll--skip")===!1),pe=$.length,J=i.virtualScrollHorizontal===!0?L=>L.getBoundingClientRect().width:L=>L.offsetHeight;let H=B,ee,ge;for(let L=0;L<pe;){for(ee=J($[L]),L++;L<pe&&$[L].classList.contains("q-virtual-scroll--with-prev")===!0;)ee+=J($[L]),L++;ge=ee-S[H],ge!==0&&(S[H]+=ge,F[Math.floor(H/kt)]+=ge),H++}}}function le(){I.value!==null&&I.value!==void 0&&I.value.focus()}function me(B,T){const $=1*l.value;(T===!0||Array.isArray(S)===!1)&&(S=[]);const pe=S.length;S.length=e.value;for(let H=e.value-1;H>=pe;H--)S[H]=$;const J=Math.floor((e.value-1)/kt);F=[];for(let H=0;H<=J;H++){let ee=0;const ge=Math.min((H+1)*kt,e.value);for(let L=H*kt;L<ge;L++)ee+=S[L];F.push(ee)}c=-1,p=void 0,q.value=Ba(F,S,0,R.value.from),V.value=Ba(F,S,R.value.to,e.value),B>=0?(Q(R.value.from),ze(()=>{P(B)})):we()}function ne(B){if(B===void 0&&typeof window!="undefined"){const ee=t();ee!=null&&ee.nodeType!==8&&(B=zl(ee,a(),W.value,Y.value,i.virtualScrollHorizontal,d.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}g=B;const T=parseFloat(i.virtualScrollSliceRatioBefore)||0,$=parseFloat(i.virtualScrollSliceRatioAfter)||0,pe=1+T+$,J=B===void 0||B<=0?1:Math.ceil(B/l.value),H=Math.max(1,J,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/pe));w.value={total:Math.ceil(H*pe),start:Math.ceil(H*T),center:Math.ceil(H*(.5+T)),end:Math.ceil(H*(1+T)),view:J}}function O(B,T){const $=i.virtualScrollHorizontal===!0?"width":"height",pe={["--q-virtual-scroll-item-"+$]:l.value+"px"};return[B==="tbody"?h(B,{class:"q-virtual-scroll__padding",key:"before",ref:W},[h("tr",[h("td",{style:{[$]:`${q.value}px`,...pe},colspan:z.value})])]):h(B,{class:"q-virtual-scroll__padding",key:"before",ref:W,style:{[$]:`${q.value}px`,...pe}}),h(B,{class:"q-virtual-scroll__content",key:"content",ref:I,tabindex:-1},T.flat()),B==="tbody"?h(B,{class:"q-virtual-scroll__padding",key:"after",ref:Y},[h("tr",[h("td",{style:{[$]:`${V.value}px`,...pe},colspan:z.value})])]):h(B,{class:"q-virtual-scroll__padding",key:"after",ref:Y,style:{[$]:`${V.value}px`,...pe}})]}function de(B){c!==B&&(i.onVirtualScroll!==void 0&&r("virtualScroll",{index:B,from:R.value.from,to:R.value.to-1,direction:B<c?"decrease":"increase",ref:u}),c=B)}ne();const we=ii(k,d.platform.is.ios===!0?120:35);tn(()=>{ne()});let C=!1;return Dl(()=>{C=!0}),Ml(()=>{if(C!==!0)return;const B=t();p!==void 0&&B!==void 0&&B!==null&&B.nodeType!==8?xn(B,p,i.virtualScrollHorizontal,d.lang.rtl):P(c)}),Pt(()=>{we.cancel()}),Object.assign(u,{scrollTo:P,reset:X,refresh:E}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:w,setVirtualScrollSize:ne,onVirtualScrollEvt:we,localResetVirtualScroll:me,padVirtualScroll:O,scrollTo:P,reset:X,refresh:E}}const Pn=e=>["add","add-unique","toggle"].includes(e),ro=".*+?^${}()|[]\\",oo=Object.keys(Pl);var ot=Ie({name:"QSelect",inheritAttrs:!1,props:{...qi,...xl,...Pl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Pn},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...ln,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:a}){const{proxy:l}=Ke(),{$q:n}=l,i=Z(!1),r=Z(!1),u=Z(-1),d=Z(""),p=Z(!1),c=Z(!1);let g=null,F,S,q,V=null,w,W,Y,I;const R=Z(null),z=Z(null),ie=Z(null),ae=Z(null),X=Z(null),E=ki(e),P=Mi(_),k=m(()=>Array.isArray(e.options)?e.options.length:0),M=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Q,virtualScrollSliceSizeComputed:le,localResetVirtualScroll:me,padVirtualScroll:ne,onVirtualScrollEvt:O,scrollTo:de,setVirtualScrollSize:we}=Bi({virtualScrollLength:k,getVirtualScrollTarget:Vt,getVirtualScrollEl:Wt,virtualScrollItemSizeComputed:M}),C=nn(),B=m(()=>{const f=e.mapOptions===!0&&e.multiple!==!0,j=e.modelValue!==void 0&&(e.modelValue!==null||f===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const G=e.mapOptions===!0&&F!==void 0?F:[],ve=j.map(Fe=>yt(Fe,G));return e.modelValue===null&&f===!0?ve.filter(Fe=>Fe!==null):ve}return j}),T=m(()=>{const f={};return oo.forEach(j=>{const G=e[j];G!==void 0&&(f[j]=G)}),f}),$=m(()=>e.optionsDark===null?C.isDark.value:e.optionsDark),pe=m(()=>Wa(B.value)),J=m(()=>{let f="q-field__input q-placeholder col";return e.hideSelected===!0||B.value.length===0?[f,e.inputClass]:(f+=" q-field__input--padding",e.inputClass===void 0?f:[f,e.inputClass])}),H=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ee=m(()=>k.value===0),ge=m(()=>B.value.map(f=>Me.value(f)).join(", ")),L=m(()=>e.displayValue!==void 0?e.displayValue:ge.value),Ee=m(()=>e.optionsHtml===!0?()=>!0:f=>f!=null&&f.html===!0),Xe=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||B.value.some(Ee.value))),et=m(()=>C.focused.value===!0?e.tabindex:-1),Ne=m(()=>{const f={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${C.targetUid.value}_lb`};return u.value>=0&&(f["aria-activedescendant"]=`${C.targetUid.value}_${u.value}`),f}),ct=m(()=>({id:`${C.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),st=m(()=>B.value.map((f,j)=>({index:j,opt:f,html:Ee.value(f),selected:!0,removeAtIndex:va,toggleOption:ft,tabindex:et.value}))),dt=m(()=>{if(k.value===0)return[];const{from:f,to:j}=Q.value;return e.options.slice(f,j).map((G,ve)=>{const Fe=gt.value(G)===!0,Ce=f+ve,Be={clickable:!0,active:!1,activeClass:Et.value,manualFocus:!0,focused:!1,disable:Fe,tabindex:-1,dense:e.optionsDense,dark:$.value,role:"option",id:`${C.targetUid.value}_${Ce}`,onClick:()=>{ft(G)}};return Fe!==!0&&(_t(G)===!0&&(Be.active=!0),u.value===Ce&&(Be.focused=!0),Be["aria-selected"]=Be.active===!0?"true":"false",n.platform.is.desktop===!0&&(Be.onMousemove=()=>{i.value===!0&&ut(Ce)})),{index:Ce,opt:G,html:Ee.value(G),label:Me.value(G),selected:Be.active,focused:Be.focused,toggleOption:ft,setOptionIndex:ut,itemProps:Be}})}),rt=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:n.iconSet.arrow.dropdown),Se=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Et=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),He=m(()=>ra(e.optionValue,"value")),Me=m(()=>ra(e.optionLabel,"label")),gt=m(()=>ra(e.optionDisable,"disable")),Ut=m(()=>B.value.map(f=>He.value(f))),la=m(()=>{const f={onInput:_,onChange:P,onKeydown:ht,onKeyup:qt,onKeypress:Bt,onFocus:oa,onClick(j){S===!0&&Zt(j)}};return f.onCompositionstart=f.onCompositionupdate=f.onCompositionend=P,f});he(B,f=>{F=f,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&C.innerLoading.value!==!0&&(r.value!==!0&&i.value!==!0||pe.value!==!0)&&(q!==!0&&y(),(r.value===!0||i.value===!0)&&se(""))},{immediate:!0}),he(()=>e.fillInput,y),he(i,b),he(k,s);function na(f){return e.emitValue===!0?He.value(f):f}function ia(f){if(f>-1&&f<B.value.length)if(e.multiple===!0){const j=e.modelValue.slice();a("remove",{index:f,value:j.splice(f,1)[0]}),a("update:modelValue",j)}else a("update:modelValue",null)}function va(f){ia(f),C.focus()}function pa(f,j){const G=na(f);if(e.multiple!==!0){e.fillInput===!0&&re(Me.value(f),!0,!0),a("update:modelValue",G);return}if(B.value.length===0){a("add",{index:0,value:G}),a("update:modelValue",e.multiple===!0?[G]:G);return}if(j===!0&&_t(f)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ve=e.modelValue.slice();a("add",{index:ve.length,value:G}),ve.push(G),a("update:modelValue",ve)}function ft(f,j){if(C.editable.value!==!0||f===void 0||gt.value(f)===!0)return;const G=He.value(f);if(e.multiple!==!0){j!==!0&&(re(e.fillInput===!0?Me.value(f):"",!0,!0),Mt()),z.value!==null&&z.value.focus(),(B.value.length===0||ka(He.value(B.value[0]),G)!==!0)&&a("update:modelValue",e.emitValue===!0?G:f);return}if((S!==!0||p.value===!0)&&C.focus(),oa(),B.value.length===0){const Ce=e.emitValue===!0?G:f;a("add",{index:0,value:Ce}),a("update:modelValue",e.multiple===!0?[Ce]:Ce);return}const ve=e.modelValue.slice(),Fe=Ut.value.findIndex(Ce=>ka(Ce,G));if(Fe>-1)a("remove",{index:Fe,value:ve.splice(Fe,1)[0]});else{if(e.maxValues!==void 0&&ve.length>=e.maxValues)return;const Ce=e.emitValue===!0?G:f;a("add",{index:ve.length,value:Ce}),ve.push(Ce)}a("update:modelValue",ve)}function ut(f){if(n.platform.is.desktop!==!0)return;const j=f>-1&&f<k.value?f:-1;u.value!==j&&(u.value=j)}function tt(f=1,j){if(i.value===!0){let G=u.value;do G=yn(G+f,-1,k.value-1);while(G!==-1&&G!==u.value&&gt.value(e.options[G])===!0);u.value!==G&&(ut(G),de(G),j!==!0&&e.useInput===!0&&e.fillInput===!0&&U(G>=0?Me.value(e.options[G]):w))}}function yt(f,j){const G=ve=>ka(He.value(ve),f);return e.options.find(G)||j.find(G)||f}function ra(f,j){const G=f!==void 0?f:j;return typeof G=="function"?G:ve=>ve!==null&&typeof ve=="object"&&G in ve?ve[G]:ve}function _t(f){const j=He.value(f);return Ut.value.find(G=>ka(G,j))!==void 0}function oa(f){e.useInput===!0&&z.value!==null&&(f===void 0||z.value===f.target&&f.target.value===ge.value)&&z.value.select()}function ga(f){ai(f,27)===!0&&i.value===!0&&(Zt(f),Mt(),y()),a("keyup",f)}function qt(f){const{value:j}=f.target;if(f.keyCode!==void 0){ga(f);return}if(f.target.value="",g!==null&&(clearTimeout(g),g=null),y(),typeof j=="string"&&j.length!==0){const G=j.toLocaleLowerCase(),ve=Ce=>{const Be=e.options.find(lt=>Ce.value(lt).toLocaleLowerCase()===G);return Be===void 0?!1:(B.value.indexOf(Be)===-1?ft(Be):Mt(),!0)},Fe=Ce=>{ve(He)!==!0&&(ve(Me)===!0||Ce===!0||se(j,!0,()=>Fe(!0)))};Fe()}else C.clearValue(f)}function Bt(f){a("keypress",f)}function ht(f){if(a("keydown",f),oi(f)===!0)return;const j=d.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),G=f.shiftKey!==!0&&e.multiple!==!0&&(u.value>-1||j===!0);if(f.keyCode===27){ta(f);return}if(f.keyCode===9&&G===!1){Ot();return}if(f.target===void 0||f.target.id!==C.targetUid.value||C.editable.value!==!0)return;if(f.keyCode===40&&C.innerLoading.value!==!0&&i.value===!1){nt(f),Rt();return}if(f.keyCode===8&&e.hideSelected!==!0&&d.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ia(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&a("update:modelValue",null);return}(f.keyCode===35||f.keyCode===36)&&(typeof d.value!="string"||d.value.length===0)&&(nt(f),u.value=-1,tt(f.keyCode===36?1:-1,e.multiple)),(f.keyCode===33||f.keyCode===34)&&le.value!==void 0&&(nt(f),u.value=Math.max(-1,Math.min(k.value,u.value+(f.keyCode===33?-1:1)*le.value.view)),tt(f.keyCode===33?1:-1,e.multiple)),(f.keyCode===38||f.keyCode===40)&&(nt(f),tt(f.keyCode===38?-1:1,e.multiple));const ve=k.value;if((Y===void 0||I<Date.now())&&(Y=""),ve>0&&e.useInput!==!0&&f.key!==void 0&&f.key.length===1&&f.altKey===!1&&f.ctrlKey===!1&&f.metaKey===!1&&(f.keyCode!==32||Y.length!==0)){i.value!==!0&&Rt(f);const Fe=f.key.toLocaleLowerCase(),Ce=Y.length===1&&Y[0]===Fe;I=Date.now()+1500,Ce===!1&&(nt(f),Y+=Fe);const Be=new RegExp("^"+Y.split("").map(Rl=>ro.indexOf(Rl)>-1?"\\"+Rl:Rl).join(".*"),"i");let lt=u.value;if(Ce===!0||lt<0||Be.test(Me.value(e.options[lt]))!==!0)do lt=yn(lt+1,-1,ve-1);while(lt!==u.value&&(gt.value(e.options[lt])===!0||Be.test(Me.value(e.options[lt]))!==!0));u.value!==lt&&ze(()=>{ut(lt),de(lt),lt>=0&&e.useInput===!0&&e.fillInput===!0&&U(Me.value(e.options[lt]))});return}if(!(f.keyCode!==13&&(f.keyCode!==32||e.useInput===!0||Y!=="")&&(f.keyCode!==9||G===!1))){if(f.keyCode!==9&&nt(f),u.value>-1&&u.value<ve){ft(e.options[u.value]);return}if(j===!0){const Fe=(Ce,Be)=>{if(Be){if(Pn(Be)!==!0)return}else Be=e.newValueMode;if(re("",e.multiple!==!0,!0),Ce==null)return;(Be==="toggle"?ft:pa)(Ce,Be==="add-unique"),e.multiple!==!0&&(z.value!==null&&z.value.focus(),Mt())};if(e.onNewValue!==void 0?a("newValue",d.value,Fe):Fe(d.value),e.multiple!==!0)return}i.value===!0?Ot():C.innerLoading.value!==!0&&Rt()}}function Wt(){return S===!0?X.value:ie.value!==null&&ie.value.contentEl!==null?ie.value.contentEl:void 0}function Vt(){return Wt()}function mt(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?st.value.map(f=>t["selected-item"](f)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?st.value.map((f,j)=>h(lo,{key:"option-"+j,removable:C.editable.value===!0&&gt.value(f.opt)!==!0,dense:!0,textColor:e.color,tabindex:et.value,onRemove(){f.removeAtIndex(j)}},()=>h("span",{class:"ellipsis",[f.html===!0?"innerHTML":"textContent"]:Me.value(f.opt)}))):[h("span",{[Xe.value===!0?"innerHTML":"textContent"]:L.value})]}function bt(){if(ee.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:d.value}):void 0;const f=t.option!==void 0?t.option:G=>h(Na,{key:G.index,...G.itemProps},()=>h(xt,()=>h(Ca,()=>h("span",{[G.html===!0?"innerHTML":"textContent"]:G.label}))));let j=ne("div",dt.value.map(f));return t["before-options"]!==void 0&&(j=t["before-options"]().concat(j)),Ja(t["after-options"],j)}function Dt(f,j){const G=j===!0?{...Ne.value,...C.splitAttrs.attributes.value}:void 0,ve={ref:j===!0?z:void 0,key:"i_t",class:J.value,style:e.inputStyle,value:d.value!==void 0?d.value:"",type:"search",...G,id:j===!0?C.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":f===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...la.value};return f!==!0&&S===!0&&(Array.isArray(ve.class)===!0?ve.class=[...ve.class,"no-pointer-events"]:ve.class+=" no-pointer-events"),h("input",ve)}function _(f){g!==null&&(clearTimeout(g),g=null),!(f&&f.target&&f.target.qComposing===!0)&&(U(f.target.value||""),q=!0,w=d.value,C.focused.value!==!0&&(S!==!0||p.value===!0)&&C.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,se(d.value)},e.inputDebounce)))}function U(f){d.value!==f&&(d.value=f,a("inputValue",f))}function re(f,j,G){q=G!==!0,e.useInput===!0&&(U(f),(j===!0||G!==!0)&&(w=f),j!==!0&&se(f))}function se(f,j,G){if(e.onFilter===void 0||j!==!0&&C.focused.value!==!0)return;C.innerLoading.value===!0?a("filterAbort"):(C.innerLoading.value=!0,c.value=!0),f!==""&&e.multiple!==!0&&B.value.length!==0&&q!==!0&&f===Me.value(B.value[0])&&(f="");const ve=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);V!==null&&clearTimeout(V),V=ve,a("filter",f,(Fe,Ce)=>{(j===!0||C.focused.value===!0)&&V===ve&&(clearTimeout(V),typeof Fe=="function"&&Fe(),c.value=!1,ze(()=>{C.innerLoading.value=!1,C.editable.value===!0&&(j===!0?i.value===!0&&Mt():i.value===!0?b(!0):i.value=!0),typeof Ce=="function"&&ze(()=>{Ce(l)}),typeof G=="function"&&ze(()=>{G(l)})}))},()=>{C.focused.value===!0&&V===ve&&(clearTimeout(V),C.innerLoading.value=!1,c.value=!1),i.value===!0&&(i.value=!1)})}function ye(){return h(xi,{ref:ie,class:H.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ee.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:$.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Se.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ct.value,onScrollPassive:O,onBeforeShow:Ae,onBeforeHide:_e,onShow:Te},bt)}function _e(f){ya(f),Ot()}function Te(){we()}function at(f){Zt(f),z.value!==null&&z.value.focus(),p.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function qe(f){Zt(f),ze(()=>{p.value=!1})}function jt(){const f=[h(to,{class:`col-auto ${C.fieldClass.value}`,...T.value,for:C.targetUid.value,dark:$.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:d.value.length!==0,...C.splitAttrs.listeners.value,onFocus:at,onBlur:qe},{...t,rawControl:()=>C.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&f.push(h("div",{ref:X,class:H.value+" scroll",style:e.popupContentStyle,...ct.value,onClick:ta,onScrollPassive:O},bt())),h(Ua,{ref:ae,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Ae,onBeforeHide:Qt,onHide:Ea,onShow:Ol},()=>h("div",{class:"q-select__dialog"+($.value===!0?" q-select__dialog--dark q-dark":"")+(p.value===!0?" q-select__dialog--focused":"")},f))}function Qt(f){ya(f),ae.value!==null&&ae.value.__updateRefocusTarget(C.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),C.focused.value=!1}function Ea(f){Mt(),C.focused.value===!1&&a("blur",f),y()}function Ol(){const f=document.activeElement;(f===null||f.id!==C.targetUid.value)&&z.value!==null&&z.value!==f&&z.value.focus(),we()}function Ot(){r.value!==!0&&(u.value=-1,i.value===!0&&(i.value=!1),C.focused.value===!1&&(V!==null&&(clearTimeout(V),V=null),C.innerLoading.value===!0&&(a("filterAbort"),C.innerLoading.value=!1,c.value=!1)))}function Rt(f){C.editable.value===!0&&(S===!0?(C.onControlFocusin(f),r.value=!0,ze(()=>{C.focus()})):C.focus(),e.onFilter!==void 0?se(d.value):(ee.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function Mt(){r.value=!1,Ot()}function y(){e.useInput===!0&&re(e.multiple!==!0&&e.fillInput===!0&&B.value.length!==0&&Me.value(B.value[0])||"",!0,!0)}function b(f){let j=-1;if(f===!0){if(B.value.length!==0){const G=He.value(B.value[0]);j=e.options.findIndex(ve=>ka(He.value(ve),G))}me(j)}ut(j)}function s(f,j){i.value===!0&&C.innerLoading.value===!1&&(me(-1,!0),ze(()=>{i.value===!0&&C.innerLoading.value===!1&&(f>j?me():b(!0))}))}function K(){r.value===!1&&ie.value!==null&&ie.value.updatePosition()}function Ae(f){f!==void 0&&Zt(f),a("popupShow",f),C.hasPopupOpen=!0,C.onControlFocusin(f)}function ya(f){f!==void 0&&Zt(f),a("popupHide",f),C.hasPopupOpen=!1,C.onControlFocusout(f)}function al(){S=n.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ee.value===!1:!0),W=n.platform.is.ios===!0&&S===!0&&e.useInput===!0?"fade":e.transitionShow}return ri(al),ur(K),al(),Pt(()=>{g!==null&&clearTimeout(g)}),Object.assign(l,{showPopup:Rt,hidePopup:Mt,removeAtIndex:ia,add:pa,toggleOption:ft,getOptionIndex:()=>u.value,setOptionIndex:ut,moveOptionSelection:tt,filter:se,updateMenuPosition:K,updateInputValue:re,isOptionSelected:_t,getEmittingOptionValue:na,isOptionDisabled:(...f)=>gt.value.apply(null,f)===!0,getOptionValue:(...f)=>He.value.apply(null,f),getOptionLabel:(...f)=>Me.value.apply(null,f)}),Object.assign(C,{innerValue:B,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:R,targetRef:z,hasValue:pe,showPopup:Rt,floatingLabel:m(()=>e.hideSelected!==!0&&pe.value===!0||typeof d.value=="number"||d.value.length!==0||Wa(e.displayValue)),getControlChild:()=>{if(C.editable.value!==!1&&(r.value===!0||ee.value!==!0||t["no-option"]!==void 0))return S===!0?jt():ye();C.hasPopupOpen===!0&&(C.hasPopupOpen=!1)},controlEvents:{onFocusin(f){C.onControlFocusin(f)},onFocusout(f){C.onControlFocusout(f,()=>{y(),Ot()})},onClick(f){if(ta(f),S!==!0&&i.value===!0){Ot(),z.value!==null&&z.value.focus();return}Rt(f)}},getControl:f=>{const j=mt(),G=f===!0||r.value!==!0||S!==!0;if(e.useInput===!0)j.push(Dt(f,G));else if(C.editable.value===!0){const Fe=G===!0?Ne.value:void 0;j.push(h("input",{ref:G===!0?z:void 0,key:"d_t",class:"q-select__focus-target",id:G===!0?C.targetUid.value:void 0,value:L.value,readonly:!0,"data-autofocus":f===!0||e.autofocus===!0||void 0,...Fe,onKeydown:ht,onKeyup:ga,onKeypress:Bt})),G===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&j.push(h("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:qt}))}if(E.value!==void 0&&e.disable!==!0&&Ut.value.length!==0){const Fe=Ut.value.map(Ce=>h("option",{value:Ce,selected:!0}));j.push(h("select",{class:"hidden",name:E.value,multiple:e.multiple},Fe))}const ve=e.useInput===!0||G!==!0?void 0:C.splitAttrs.attributes.value;return h("div",{class:"q-field__native row items-center",...ve,...C.splitAttrs.listeners.value},j)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[h(St,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:rt.value})]:null}),rn(C)}});const so=h("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[h("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),h("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var Fn=Ie({name:"QRadio",props:{...zt,..._l,...xl,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:a}){const{proxy:l}=Ke(),n=Lt(e,l.$q),i=Cl(e,Si),r=Z(null),{refocusTargetEl:u,refocusTarget:d}=hi(e,r),p=m(()=>Jt(e.modelValue)===Jt(e.val)),c=m(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(n.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),g=m(()=>{const I=e.color!==void 0&&(e.keepColor===!0||p.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${p.value===!0?"truthy":"falsy"}${I}`}),F=m(()=>(p.value===!0?e.checkedIcon:e.uncheckedIcon)||null),S=m(()=>e.disable===!0?-1:e.tabindex||0),q=m(()=>{const I={type:"radio"};return e.name!==void 0&&Object.assign(I,{".checked":p.value===!0,"^checked":p.value===!0?"checked":void 0,name:e.name,value:e.val}),I}),V=bi(q);function w(I){I!==void 0&&(nt(I),d(I)),e.disable!==!0&&p.value!==!0&&a("update:modelValue",e.val,I)}function W(I){(I.keyCode===13||I.keyCode===32)&&nt(I)}function Y(I){(I.keyCode===13||I.keyCode===32)&&w(I)}return Object.assign(l,{set:w}),()=>{const I=F.value!==null?[h("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[h(St,{class:"q-radio__icon",name:F.value})])]:[so];e.disable!==!0&&V(I,"unshift"," q-radio__native q-ma-none q-pa-none");const R=[h("div",{class:g.value,style:i.value,"aria-hidden":"true"},I)];u.value!==null&&R.push(u.value);const z=e.label!==void 0?Ja(t.default,[e.label]):Ue(t.default);return z!==void 0&&R.push(h("div",{class:"q-radio__label q-anchor--skip"},z)),h("div",{ref:r,class:c.value,tabindex:S.value,role:"radio","aria-label":e.label,"aria-checked":p.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:w,onKeydown:W,onKeyup:Y},R)}}});const uo=h("div",{key:"svg",class:"q-checkbox__bg absolute"},[h("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[h("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),h("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var Ta=Ie({name:"QCheckbox",props:wi,emits:Ai,setup(e){function t(a,l){const n=m(()=>(a.value===!0?e.checkedIcon:l.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>n.value!==null?[h("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[h(St,{class:"q-checkbox__icon",name:n.value})])]:[uo]}return Ti("checkbox",t)}}),En=Ie({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:a}){const l=Ke(),n=Z(null);let i=0;const r=[];function u(S){const q=typeof S=="boolean"?S:e.noErrorFocus!==!0,V=++i,w=(I,R)=>{a("validation"+(I===!0?"Success":"Error"),R)},W=I=>{const R=I.validate();return typeof R.then=="function"?R.then(z=>({valid:z,comp:I}),z=>({valid:!1,comp:I,err:z})):Promise.resolve({valid:R,comp:I})};return(e.greedy===!0?Promise.all(r.map(W)).then(I=>I.filter(R=>R.valid!==!0)):r.reduce((I,R)=>I.then(()=>W(R).then(z=>{if(z.valid===!1)return Promise.reject(z)})),Promise.resolve()).catch(I=>[I])).then(I=>{if(I===void 0||I.length===0)return V===i&&w(!0),!0;if(V===i){const{comp:R,err:z}=I[0];if(z!==void 0&&console.error(z),w(!1,R),q===!0){const ie=I.find(({comp:ae})=>typeof ae.focus=="function"&&dr(ae.$)===!1);ie!==void 0&&ie.comp.focus()}}return!1})}function d(){i++,r.forEach(S=>{typeof S.resetValidation=="function"&&S.resetValidation()})}function p(S){S!==void 0&&nt(S);const q=i+1;u().then(V=>{q===i&&V===!0&&(e.onSubmit!==void 0?a("submit",S):S!==void 0&&S.target!==void 0&&typeof S.target.submit=="function"&&S.target.submit())})}function c(S){S!==void 0&&nt(S),a("reset"),ze(()=>{d(),e.autofocus===!0&&e.noResetFocus!==!0&&g()})}function g(){Za(()=>{if(n.value===null)return;const S=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),q=>q.tabIndex>-1);S!=null&&S.focus({preventScroll:!0})})}cr(ni,{bindComponent(S){r.push(S)},unbindComponent(S){const q=r.indexOf(S);q>-1&&r.splice(q,1)}});let F=!1;return Dl(()=>{F=!0}),Ml(()=>{F===!0&&e.autofocus===!0&&g()}),Ma(()=>{e.autofocus===!0&&g()}),Object.assign(l.proxy,{validate:u,resetValidation:d,submit:p,reset:c,focus:g,getValidationComponents:()=>r}),()=>h("form",{class:"q-form",ref:n,onSubmit:p,onReset:c},Ue(t.default))}}),Je=Ie({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const a=Ke(),l=m(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return h("td",{class:l.value},Ue(t.default));const n=a.vnode.key,i=(e.props.colsMap!==void 0?e.props.colsMap[n]:null)||e.props.col;if(i===void 0)return;const{row:r}=e.props;return h("td",{class:l.value+i.__tdClass(r),style:i.__tdStyle(r)},Ue(t.default))}}}),qn=Ie({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const a=m(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>h("tr",{class:a.value},Ue(t.default))}}),co=Ie({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:a}){const l=Ke(),{proxy:{$q:n}}=l,i=r=>{a("click",r)};return()=>{if(e.props===void 0)return h("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},Ue(t.default));let r,u;const d=l.vnode.key;if(d){if(r=e.props.colsMap[d],r===void 0)return}else r=e.props.col;if(r.sortable===!0){const c=r.align==="right"?"unshift":"push";u=fr(t.default,[]),u[c](h(St,{class:r.__iconClass,name:n.iconSet.table.arrowUp}))}else u=Ue(t.default);const p={class:r.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:r.headerStyle,onClick:c=>{r.sortable===!0&&e.props.sort(r),i(c)}};return h("th",p,u)}}});function Vi(e,t){return h("div",e,[h("table",{class:"q-table"},t)])}const fo={list:Ga,table:Er},mo=["list","table","__qtable"];var vo=Ie({name:"QVirtualScroll",props:{...qi,type:{type:String,default:"list",validator:e=>mo.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:a}){let l;const n=Z(null),i=m(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:r,localResetVirtualScroll:u,padVirtualScroll:d,onVirtualScrollEvt:p}=Bi({virtualScrollLength:i,getVirtualScrollTarget:q,getVirtualScrollEl:S}),c=m(()=>{if(i.value===0)return[];const Y=(I,R)=>({index:r.value.from+R,item:I});return e.itemsFn===void 0?e.items.slice(r.value.from,r.value.to).map(Y):e.itemsFn(r.value.from,r.value.to-r.value.from).map(Y)}),g=m(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),F=m(()=>e.scrollTarget!==void 0?{}:{tabindex:0});he(i,()=>{u()}),he(()=>e.scrollTarget,()=>{w(),V()});function S(){return n.value.$el||n.value}function q(){return l}function V(){l=fi(S(),e.scrollTarget),l.addEventListener("scroll",p,vn.passive)}function w(){l!==void 0&&(l.removeEventListener("scroll",p,vn.passive),l=void 0)}function W(){let Y=d(e.type==="list"?"div":"tbody",c.value.map(t.default));return t.before!==void 0&&(Y=t.before().concat(Y)),Ja(t.after,Y)}return tn(()=>{u()}),Ma(()=>{V()}),Ml(()=>{V()}),Dl(()=>{w()}),Pt(()=>{w()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Vi({ref:n,class:"q-table__middle "+g.value},W()):h(fo[e.type],{...a,ref:n,class:[a.class,g.value],...F.value},W)}}});const po={xs:2,sm:4,md:6,lg:10,xl:14};function Bn(e,t,a){return{transform:t===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var go=Ie({name:"QLinearProgress",props:{...zt,..._l,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:a}=Ke(),l=Lt(e,a.$q),n=Cl(e,po),i=m(()=>e.indeterminate===!0||e.query===!0),r=m(()=>e.reverse!==e.query),u=m(()=>({...n.value!==null?n.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),d=m(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),p=m(()=>Bn(e.buffer!==void 0?e.buffer:1,r.value,a.$q)),c=m(()=>`with${e.instantFeedback===!0?"out":""}-transition`),g=m(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${c.value} q-linear-progress__track--${l.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),F=m(()=>Bn(i.value===!0?1:e.value,r.value,a.$q)),S=m(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${c.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),q=m(()=>({width:`${e.value*100}%`})),V=m(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${c.value}`);return()=>{const w=[h("div",{class:g.value,style:p.value}),h("div",{class:S.value,style:F.value})];return e.stripe===!0&&i.value===!1&&w.push(h("div",{class:V.value,style:q.value})),h("div",{class:d.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Ja(t.default,w))}}});let Va=0;const yo={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ho=["update:fullscreen","fullscreen"];function bo(){const e=Ke(),{props:t,emit:a,proxy:l}=e;let n,i,r;const u=Z(!1);mr(e)===!0&&he(()=>l.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),he(()=>t.fullscreen,g=>{u.value!==g&&d()}),he(u,g=>{a("update:fullscreen",g),a("fullscreen",g)});function d(){u.value===!0?c():p()}function p(){u.value!==!0&&(u.value=!0,r=l.$el.parentNode,r.replaceChild(i,l.$el),document.body.appendChild(l.$el),Va++,Va===1&&document.body.classList.add("q-body--fullscreen-mixin"),n={handler:c},pn.add(n))}function c(){u.value===!0&&(n!==void 0&&(pn.remove(n),n=void 0),r.replaceChild(l.$el,i),u.value=!1,Va=Math.max(0,Va-1),Va===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return tn(()=>{i=document.createElement("span")}),Ma(()=>{t.fullscreen===!0&&p()}),Pt(c),Object.assign(l,{toggleFullscreen:d,setFullscreen:p,exitFullscreen:c}),{inFullscreen:u,toggleFullscreen:d}}function ko(e,t){return new Date(e)-new Date(t)}const So={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function wo(e,t,a,l){const n=m(()=>{const{sortBy:u}=t.value;return u&&a.value.find(d=>d.name===u)||null}),i=m(()=>e.sortMethod!==void 0?e.sortMethod:(u,d,p)=>{const c=a.value.find(S=>S.name===d);if(c===void 0||c.field===void 0)return u;const g=p===!0?-1:1,F=typeof c.field=="function"?S=>c.field(S):S=>S[c.field];return u.sort((S,q)=>{let V=F(S),w=F(q);return V==null?-1*g:w==null?1*g:c.sort!==void 0?c.sort(V,w,S,q)*g:jl(V)===!0&&jl(w)===!0?(V-w)*g:gn(V)===!0&&gn(w)===!0?ko(V,w)*g:typeof V=="boolean"&&typeof w=="boolean"?(V-w)*g:([V,w]=[V,w].map(W=>(W+"").toLocaleString().toLowerCase()),V<w?-1*g:V===w?0:g)})});function r(u){let d=e.columnSortOrder;if(vr(u)===!0)u.sortOrder&&(d=u.sortOrder),u=u.name;else{const g=a.value.find(F=>F.name===u);g!==void 0&&g.sortOrder&&(d=g.sortOrder)}let{sortBy:p,descending:c}=t.value;p!==u?(p=u,c=d==="da"):e.binaryStateSort===!0?c=!c:c===!0?d==="ad"?p=null:c=!1:d==="ad"?c=!0:p=null,l({sortBy:p,descending:c,page:1})}return{columnToSort:n,computedSortMethod:i,sort:r}}const Ao={filter:[String,Object],filterMethod:Function};function To(e,t){const a=m(()=>e.filterMethod!==void 0?e.filterMethod:(l,n,i,r)=>{const u=n?n.toLowerCase():"";return l.filter(d=>i.some(p=>{const c=r(p,d)+"";return(c==="undefined"||c==="null"?"":c.toLowerCase()).indexOf(u)!==-1}))});return he(()=>e.filter,()=>{ze(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function Co(e,t){for(const a in t)if(t[a]!==e[a])return!1;return!0}function Vn(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const _o={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Do(e,t){const{props:a,emit:l}=e,n=Z(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),i=m(()=>{const c=a["onUpdate:pagination"]!==void 0?{...n.value,...a.pagination}:n.value;return Vn(c)}),r=m(()=>i.value.rowsNumber!==void 0);function u(c){d({pagination:c,filter:a.filter})}function d(c={}){ze(()=>{l("request",{pagination:c.pagination||i.value,filter:c.filter||a.filter,getCellValue:t})})}function p(c,g){const F=Vn({...i.value,...c});if(Co(i.value,F)===!0){r.value===!0&&g===!0&&u(F);return}if(r.value===!0){u(F);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?l("update:pagination",F):n.value=F}return{innerPagination:n,computedPagination:i,isServerSide:r,requestServerInteraction:d,setPagination:p}}function Mo(e,t,a,l,n,i){const{props:r,emit:u,proxy:{$q:d}}=e,p=m(()=>l.value===!0?a.value.rowsNumber||0:i.value),c=m(()=>{const{page:R,rowsPerPage:z}=a.value;return(R-1)*z}),g=m(()=>{const{page:R,rowsPerPage:z}=a.value;return R*z}),F=m(()=>a.value.page===1),S=m(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(p.value/a.value.rowsPerPage))),q=m(()=>g.value===0?!0:a.value.page>=S.value),V=m(()=>(r.rowsPerPageOptions.includes(t.value.rowsPerPage)?r.rowsPerPageOptions:[t.value.rowsPerPage].concat(r.rowsPerPageOptions)).map(z=>({label:z===0?d.lang.table.allRows:""+z,value:z})));he(S,(R,z)=>{if(R===z)return;const ie=a.value.page;R&&!ie?n({page:1}):R<ie&&n({page:R})});function w(){n({page:1})}function W(){const{page:R}=a.value;R>1&&n({page:R-1})}function Y(){const{page:R,rowsPerPage:z}=a.value;g.value>0&&R*z<p.value&&n({page:R+1})}function I(){n({page:S.value})}return r["onUpdate:pagination"]!==void 0&&u("update:pagination",{...a.value}),{firstRowIndex:c,lastRowIndex:g,isFirstPage:F,isLastPage:q,pagesNumber:S,computedRowsPerPageOptions:V,computedRowsNumber:p,firstPage:w,prevPage:W,nextPage:Y,lastPage:I}}const xo={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Po=["update:selected","selection"];function Fo(e,t,a,l){const n=m(()=>{const q={};return e.selected.map(l.value).forEach(V=>{q[V]=!0}),q}),i=m(()=>e.selection!=="none"),r=m(()=>e.selection==="single"),u=m(()=>e.selection==="multiple"),d=m(()=>a.value.length!==0&&a.value.every(q=>n.value[l.value(q)]===!0)),p=m(()=>d.value!==!0&&a.value.some(q=>n.value[l.value(q)]===!0)),c=m(()=>e.selected.length);function g(q){return n.value[q]===!0}function F(){t("update:selected",[])}function S(q,V,w,W){t("selection",{rows:V,added:w,keys:q,evt:W});const Y=r.value===!0?w===!0?V:[]:w===!0?e.selected.concat(V):e.selected.filter(I=>q.includes(l.value(I))===!1);t("update:selected",Y)}return{hasSelectionMode:i,singleSelection:r,multipleSelection:u,allRowsSelected:d,someRowsSelected:p,rowsSelectedNumber:c,isRowSelected:g,clearSelection:F,updateSelection:S}}function On(e){return Array.isArray(e)?e.slice():[]}const Eo={expanded:Array},qo=["update:expanded"];function Bo(e,t){const a=Z(On(e.expanded));he(()=>e.expanded,r=>{a.value=On(r)});function l(r){return a.value.includes(r)}function n(r){e.expanded!==void 0?t("update:expanded",r):a.value=r}function i(r,u){const d=a.value.slice(),p=d.indexOf(r);u===!0?p===-1&&(d.push(r),n(d)):p!==-1&&(d.splice(p,1),n(d))}return{isRowExpanded:l,setExpanded:n,updateExpanded:i}}const Vo={visibleColumns:Array};function Oo(e,t,a){const l=m(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(d=>({name:d,label:d.toUpperCase(),field:d,align:jl(u[d])?"right":"left",sortable:!0})):[]}),n=m(()=>{const{sortBy:u,descending:d}=t.value;return(e.visibleColumns!==void 0?l.value.filter(c=>c.required===!0||e.visibleColumns.includes(c.name)===!0):l.value).map(c=>{const g=c.align||"right",F=`text-${g}`;return{...c,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:F+(c.headerClasses!==void 0?" "+c.headerClasses:"")+(c.sortable===!0?" sortable":"")+(c.name===u?` sorted ${d===!0?"sort-desc":""}`:""),__tdStyle:c.style!==void 0?typeof c.style!="function"?()=>c.style:c.style:()=>null,__tdClass:c.classes!==void 0?typeof c.classes!="function"?()=>F+" "+c.classes:S=>F+" "+c.classes(S):()=>F}})}),i=m(()=>{const u={};return n.value.forEach(d=>{u[d.name]=d}),u}),r=m(()=>e.tableColspan!==void 0?e.tableColspan:n.value.length+(a.value===!0?1:0));return{colList:l,computedCols:n,computedColsMap:i,computedColspan:r}}const ul="q-table__bottom row items-center",Oi={};Ei.forEach(e=>{Oi[e]={}});var Rn=Ie({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Oi,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...zt,...yo,...Vo,...Ao,..._o,...Eo,...xo,...So},emits:["request","virtualScroll",...ho,...qo,...Po],setup(e,{slots:t,emit:a}){const l=Ke(),{proxy:{$q:n}}=l,i=Lt(e,n),{inFullscreen:r,toggleFullscreen:u}=bo(),d=m(()=>typeof e.rowKey=="function"?e.rowKey:_=>_[e.rowKey]),p=Z(null),c=Z(null),g=m(()=>e.grid!==!0&&e.virtualScroll===!0),F=m(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),S=m(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":F.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(r.value===!0?" fullscreen scroll":"")),q=m(()=>S.value+(e.loading===!0?" q-table--loading":""));he(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+S.value,()=>{g.value===!0&&c.value!==null&&c.value.reset()});const{innerPagination:V,computedPagination:w,isServerSide:W,requestServerInteraction:Y,setPagination:I}=Do(l,tt),{computedFilterMethod:R}=To(e,I),{isRowExpanded:z,setExpanded:ie,updateExpanded:ae}=Bo(e,a),X=m(()=>{let _=e.rows;if(W.value===!0||_.length===0)return _;const{sortBy:U,descending:re}=w.value;return e.filter&&(_=R.value(_,e.filter,B.value,tt)),pe.value!==null&&(_=J.value(e.rows===_?_.slice():_,U,re)),_}),E=m(()=>X.value.length),P=m(()=>{let _=X.value;if(W.value===!0)return _;const{rowsPerPage:U}=w.value;return U!==0&&(ee.value===0&&e.rows!==_?_.length>ge.value&&(_=_.slice(0,ge.value)):_=_.slice(ee.value,ge.value)),_}),{hasSelectionMode:k,singleSelection:M,multipleSelection:Q,allRowsSelected:le,someRowsSelected:me,rowsSelectedNumber:ne,isRowSelected:O,clearSelection:de,updateSelection:we}=Fo(e,a,P,d),{colList:C,computedCols:B,computedColsMap:T,computedColspan:$}=Oo(e,w,k),{columnToSort:pe,computedSortMethod:J,sort:H}=wo(e,w,C,I),{firstRowIndex:ee,lastRowIndex:ge,isFirstPage:L,isLastPage:Ee,pagesNumber:Xe,computedRowsPerPageOptions:et,computedRowsNumber:Ne,firstPage:ct,prevPage:st,nextPage:dt,lastPage:rt}=Mo(l,V,w,W,I,E),Se=m(()=>P.value.length===0),Et=m(()=>{const _={};return Ei.forEach(U=>{_[U]=e[U]}),_.virtualScrollItemSize===void 0&&(_.virtualScrollItemSize=e.dense===!0?28:48),_});function He(){g.value===!0&&c.value.reset()}function Me(){if(e.grid===!0)return Dt();const _=e.hideHeader!==!0?oa:null;if(g.value===!0){const re=t["top-row"],se=t["bottom-row"],ye={default:_e=>na(_e.item,t.body,_e.index)};if(re!==void 0){const _e=h("tbody",re({cols:B.value}));ye.before=_===null?()=>_e:()=>[_()].concat(_e)}else _!==null&&(ye.before=_);return se!==void 0&&(ye.after=()=>h("tbody",se({cols:B.value}))),h(vo,{ref:c,class:e.tableClass,style:e.tableStyle,...Et.value,scrollTarget:e.virtualScrollTarget,items:P.value,type:"__qtable",tableColspan:$.value,onVirtualScroll:Ut},ye)}const U=[ia()];return _!==null&&U.unshift(_()),Vi({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},U)}function gt(_,U){if(c.value!==null){c.value.scrollTo(_,U);return}_=parseInt(_,10);const re=p.value.querySelector(`tbody tr:nth-of-type(${_+1})`);if(re!==null){const se=p.value.querySelector(".q-table__middle.scroll"),ye=re.offsetTop-e.virtualScrollStickySizeStart,_e=ye<se.scrollTop?"decrease":"increase";se.scrollTop=ye,a("virtualScroll",{index:_,from:0,to:V.value.rowsPerPage-1,direction:_e})}}function Ut(_){a("virtualScroll",_)}function la(){return[h(go,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function na(_,U,re){const se=d.value(_),ye=O(se);if(U!==void 0)return U(va({key:se,row:_,pageIndex:re,__trClass:ye?"selected":""}));const _e=t["body-cell"],Te=B.value.map(qe=>{const jt=t[`body-cell-${qe.name}`],Qt=jt!==void 0?jt:_e;return Qt!==void 0?Qt(pa({key:se,row:_,pageIndex:re,col:qe})):h("td",{class:qe.__tdClass(_),style:qe.__tdStyle(_)},tt(qe,_))});if(k.value===!0){const qe=t["body-selection"],jt=qe!==void 0?qe(ft({key:se,row:_,pageIndex:re})):[h(Ta,{modelValue:ye,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Qt,Ea)=>{we([se],[_],Qt,Ea)}})];Te.unshift(h("td",{class:"q-table--col-auto-width"},jt))}const at={key:se,class:{selected:ye}};return e.onRowClick!==void 0&&(at.class["cursor-pointer"]=!0,at.onClick=qe=>{a("RowClick",qe,_,re)}),e.onRowDblclick!==void 0&&(at.class["cursor-pointer"]=!0,at.onDblclick=qe=>{a("RowDblclick",qe,_,re)}),e.onRowContextmenu!==void 0&&(at.class["cursor-pointer"]=!0,at.onContextmenu=qe=>{a("RowContextmenu",qe,_,re)}),h("tr",at,Te)}function ia(){const _=t.body,U=t["top-row"],re=t["bottom-row"];let se=P.value.map((ye,_e)=>na(ye,_,_e));return U!==void 0&&(se=U({cols:B.value}).concat(se)),re!==void 0&&(se=se.concat(re({cols:B.value}))),h("tbody",se)}function va(_){return ut(_),_.cols=_.cols.map(U=>ea({...U},"value",()=>tt(U,_.row))),_}function pa(_){return ut(_),ea(_,"value",()=>tt(_.col,_.row)),_}function ft(_){return ut(_),_}function ut(_){Object.assign(_,{cols:B.value,colsMap:T.value,sort:H,rowIndex:ee.value+_.pageIndex,color:e.color,dark:i.value,dense:e.dense}),k.value===!0&&ea(_,"selected",()=>O(_.key),(U,re)=>{we([_.key],[_.row],U,re)}),ea(_,"expand",()=>z(_.key),U=>{ae(_.key,U)})}function tt(_,U){const re=typeof _.field=="function"?_.field(U):U[_.field];return _.format!==void 0?_.format(re,U):re}const yt=m(()=>({pagination:w.value,pagesNumber:Xe.value,isFirstPage:L.value,isLastPage:Ee.value,firstPage:ct,prevPage:st,nextPage:dt,lastPage:rt,inFullscreen:r.value,toggleFullscreen:u}));function ra(){const _=t.top,U=t["top-left"],re=t["top-right"],se=t["top-selection"],ye=k.value===!0&&se!==void 0&&ne.value>0,_e="q-table__top relative-position row items-center";if(_!==void 0)return h("div",{class:_e},[_(yt.value)]);let Te;if(ye===!0?Te=se(yt.value).slice():(Te=[],U!==void 0?Te.push(h("div",{class:"q-table__control"},[U(yt.value)])):e.title&&Te.push(h("div",{class:"q-table__control"},[h("div",{class:["q-table__title",e.titleClass]},e.title)]))),re!==void 0&&(Te.push(h("div",{class:"q-table__separator col"})),Te.push(h("div",{class:"q-table__control"},[re(yt.value)]))),Te.length!==0)return h("div",{class:_e},Te)}const _t=m(()=>me.value===!0?null:le.value);function oa(){const _=ga();return e.loading===!0&&t.loading===void 0&&_.push(h("tr",{class:"q-table__progress"},[h("th",{class:"relative-position",colspan:$.value},la())])),h("thead",_)}function ga(){const _=t.header,U=t["header-cell"];if(_!==void 0)return _(qt({header:!0})).slice();const re=B.value.map(se=>{const ye=t[`header-cell-${se.name}`],_e=ye!==void 0?ye:U,Te=qt({col:se});return _e!==void 0?_e(Te):h(co,{key:se.name,props:Te},()=>se.label)});if(M.value===!0&&e.grid!==!0)re.unshift(h("th",{class:"q-table--col-auto-width"}," "));else if(Q.value===!0){const se=t["header-selection"],ye=se!==void 0?se(qt({})):[h(Ta,{color:e.color,modelValue:_t.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":Bt})];re.unshift(h("th",{class:"q-table--col-auto-width"},ye))}return[h("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},re)]}function qt(_){return Object.assign(_,{cols:B.value,sort:H,colsMap:T.value,color:e.color,dark:i.value,dense:e.dense}),Q.value===!0&&ea(_,"selected",()=>_t.value,Bt),_}function Bt(_){me.value===!0&&(_=!1),we(P.value.map(d.value),P.value,_)}const ht=m(()=>{const _=[e.iconFirstPage||n.iconSet.table.firstPage,e.iconPrevPage||n.iconSet.table.prevPage,e.iconNextPage||n.iconSet.table.nextPage,e.iconLastPage||n.iconSet.table.lastPage];return n.lang.rtl===!0?_.reverse():_});function Wt(){if(e.hideBottom===!0)return;if(Se.value===!0){if(e.hideNoData===!0)return;const re=e.loading===!0?e.loadingLabel||n.lang.table.loading:e.filter?e.noResultsLabel||n.lang.table.noResults:e.noDataLabel||n.lang.table.noData,se=t["no-data"],ye=se!==void 0?[se({message:re,icon:n.iconSet.table.warning,filter:e.filter})]:[h(St,{class:"q-table__bottom-nodata-icon",name:n.iconSet.table.warning}),re];return h("div",{class:ul+" q-table__bottom--nodata"},ye)}const _=t.bottom;if(_!==void 0)return h("div",{class:ul},[_(yt.value)]);const U=e.hideSelectedBanner!==!0&&k.value===!0&&ne.value>0?[h("div",{class:"q-table__control"},[h("div",[(e.selectedRowsLabel||n.lang.table.selectedRecords)(ne.value)])])]:[];if(e.hidePagination!==!0)return h("div",{class:ul+" justify-end"},mt(U));if(U.length!==0)return h("div",{class:ul},U)}function Vt(_){I({page:1,rowsPerPage:_.value})}function mt(_){let U;const{rowsPerPage:re}=w.value,se=e.paginationLabel||n.lang.table.pagination,ye=t.pagination,_e=e.rowsPerPageOptions.length>1;if(_.push(h("div",{class:"q-table__separator col"})),_e===!0&&_.push(h("div",{class:"q-table__control"},[h("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||n.lang.table.recordsPerPage]),h(ot,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:re,options:et.value,displayValue:re===0?n.lang.table.allRows:re,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Vt})])),ye!==void 0)U=ye(yt.value);else if(U=[h("span",re!==0?{class:"q-table__bottom-item"}:{},[re?se(ee.value+1,Math.min(ge.value,Ne.value),Ne.value):se(1,E.value,Ne.value)])],re!==0&&Xe.value>1){const Te={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(Te.size="sm"),Xe.value>2&&U.push(h($e,{key:"pgFirst",...Te,icon:ht.value[0],disable:L.value,onClick:ct})),U.push(h($e,{key:"pgPrev",...Te,icon:ht.value[1],disable:L.value,onClick:st}),h($e,{key:"pgNext",...Te,icon:ht.value[2],disable:Ee.value,onClick:dt})),Xe.value>2&&U.push(h($e,{key:"pgLast",...Te,icon:ht.value[3],disable:Ee.value,onClick:rt}))}return _.push(h("div",{class:"q-table__control"},U)),_}function bt(){const _=e.gridHeader===!0?[h("table",{class:"q-table"},[oa()])]:e.loading===!0&&t.loading===void 0?la():void 0;return h("div",{class:"q-table__middle"},_)}function Dt(){const _=t.item!==void 0?t.item:U=>{const re=U.cols.map(ye=>h("div",{class:"q-table__grid-item-row"},[h("div",{class:"q-table__grid-item-title"},[ye.label]),h("div",{class:"q-table__grid-item-value"},[ye.value])]));if(k.value===!0){const ye=t["body-selection"],_e=ye!==void 0?ye(U):[h(Ta,{modelValue:U.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Te,at)=>{we([U.key],[U.row],Te,at)}})];re.unshift(h("div",{class:"q-table__grid-item-row"},_e),h(Sa,{dark:i.value}))}const se={class:["q-table__grid-item-card"+F.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(se.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(se.onClick=ye=>{a("RowClick",ye,U.row,U.pageIndex)}),e.onRowDblclick!==void 0&&(se.onDblclick=ye=>{a("RowDblclick",ye,U.row,U.pageIndex)})),h("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(U.selected===!0?" q-table__grid-item--selected":"")},[h("div",se,re)])};return h("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},P.value.map((U,re)=>_(va({key:d.value(U),row:U,pageIndex:re}))))}return Object.assign(l.proxy,{requestServerInteraction:Y,setPagination:I,firstPage:ct,prevPage:st,nextPage:dt,lastPage:rt,isRowSelected:O,clearSelection:de,isRowExpanded:z,setExpanded:ie,sort:H,resetVirtualScroll:He,scrollTo:gt,getCellValue:tt}),pr(l.proxy,{filteredSortedRows:()=>X.value,computedRows:()=>P.value,computedRowsNumber:()=>Ne.value}),()=>{const _=[ra()],U={ref:p,class:q.value};return e.grid===!0?_.push(bt()):Object.assign(U,{class:[U.class,e.cardClass],style:e.cardStyle}),_.push(Me(),Wt()),e.loading===!0&&t.loading!==void 0&&_.push(t.loading()),h("div",U,_)}}});function La(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const a=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const l=e.valueOf();if(Object(l)!==l){const n=new e.constructor(l);return t.set(e,n),n}}return t.set(e,a),e instanceof Set?e.forEach(l=>{a.add(La(l,t))}):e instanceof Map&&e.forEach((l,n)=>{a.set(n,La(l,t))}),Object.assign(a,...Object.keys(e).map(l=>({[l]:La(e[l],t)})))}var Oa=Ie({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:a}){const{proxy:l}=Ke(),{$q:n}=l,i=Z(null),r=Z(""),u=Z("");let d=!1;const p=m(()=>ea({initialValue:r.value,validate:e.validate,set:c,cancel:g,updatePosition:F},"value",()=>u.value,R=>{u.value=R}));function c(){e.validate(u.value)!==!1&&(S()===!0&&(a("save",u.value,r.value),a("update:modelValue",u.value)),q())}function g(){S()===!0&&a("cancel",u.value,r.value),q()}function F(){ze(()=>{i.value.updatePosition()})}function S(){return ka(u.value,r.value)===!1}function q(){d=!0,i.value.hide()}function V(){d=!1,r.value=La(e.modelValue),u.value=La(e.modelValue),a("beforeShow")}function w(){a("show")}function W(){d===!1&&S()===!0&&(e.autoSave===!0&&e.validate(u.value)===!0?(a("save",u.value,r.value),a("update:modelValue",u.value)):a("cancel",u.value,r.value)),a("beforeHide")}function Y(){a("hide")}function I(){const R=t.default!==void 0?[].concat(t.default(p.value)):[];return e.title&&R.unshift(h("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&R.push(h("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[h($e,{flat:!0,color:e.color,label:e.labelCancel||n.lang.label.cancel,onClick:g}),h($e,{flat:!0,color:e.color,label:e.labelSet||n.lang.label.set,onClick:c})])),R}return Object.assign(l,{set:c,cancel:g,show(R){i.value!==null&&i.value.show(R)},hide(R){i.value!==null&&i.value.hide(R)},updatePosition:F}),()=>{if(e.disable!==!0)return h(xi,{ref:i,class:"q-popup-edit",cover:e.cover,onBeforeShow:V,onShow:w,onBeforeHide:W,onHide:Y,onEscapeKey:g},I)}}}),v=(e=>(e.Kinetic="Kinetic",e.Chaos="Chaos",e.Thermal="Thermal",e.Frost="Frost",e.Electrical="Electrical",e))(v||{}),Yl=function(e,t){return Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(a[n]=l[n])},Yl(e,t)};function Ya(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yl(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var ma=function(){return ma=Object.assign||function(t){for(var a,l=1,n=arguments.length;l<n;l++){a=arguments[l];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},ma.apply(this,arguments)};function Sl(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;for(var l=Array(e),n=0,t=0;t<a;t++)for(var i=arguments[t],r=0,u=i.length;r<u;r++,n++)l[n]=i[r];return l}var Xa=function(){function e(t){this.ctor=t}return e.prototype.getTypes=function(){return[this.ctor]},e.prototype.hasFriendlyName=function(){return this.ctor.name!=="Object"},e}(),on=function(e){Ya(t,e);function t(a){return e.call(this,a)||this}return t}(Xa),sn=function(e){Ya(t,e);function t(a){return e.call(this,a)||this}return t}(Xa),ja=function(e){Ya(t,e);function t(a){var l=e.call(this,Array)||this;return l.elementType=a,l}return t.prototype.getTypes=function(){return e.prototype.getTypes.call(this).concat(this.elementType.getTypes())},t}(sn),Fl=function(e){Ya(t,e);function t(a){var l=e.call(this,Set)||this;return l.elementType=a,l}return t.prototype.getTypes=function(){return e.prototype.getTypes.call(this).concat(this.elementType.getTypes())},t}(sn);function Kn(e){return new Fl(Ze(e))}var El=function(e){Ya(t,e);function t(a,l,n){var i=e.call(this,Map)||this;return i.keyType=a,i.valueType=l,i.options=n,i}return t.prototype.getTypes=function(){return e.prototype.getTypes.call(this).concat(this.keyType.getTypes(),this.valueType.getTypes())},t.prototype.getCompleteOptions=function(){var a,l;return{shape:(l=(a=this.options)===null||a===void 0?void 0:a.shape)!==null&&l!==void 0?l:0}},t}(sn);function In(e,t,a){return new El(Ze(e),Ze(t),a)}var un=new on(function(){});function Ro(e){return e!=null&&(typeof e=="function"||e instanceof Xa)}function Ri(e){return typeof e=="function"&&e.name===""}function Ze(e){return e instanceof Xa?e:new on(e)}function Ki(e,t){if(e==null)throw new Error("No type given on "+t+". "+wl);return Ri(e)?e:function(){return e}}var wl="If the type is not yet defined, for example due to circular references, add '() => ' before it. E.g. @jsonMember(() => Foo)",Ii='Make sure that you have both "experimentalDecorators" and "emitDecoratorMetadata" enabled in your tsconfig.json';function Ko(e){return[Date,Number,String,Boolean].indexOf(e)!==-1}function Io(e){return[Float32Array,Float64Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array].indexOf(e)!==-1}function Lo(e){return typeof e=="object"}function zo(e,t){var a=t===String||t===ArrayBuffer||t===DataView,l=e.length>=2&&e[0]==='"'&&e[e.length-1]==='"';if(t===Date){var n=!isNaN(Number(e.trim()));return!l&&!n}return a&&!l}function cl(e,t){return typeof e!="string"||zo(e,t)?e:JSON.parse(e)}function Li(e,t){return e===t||e.prototype instanceof t}function Ye(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];typeof console=="object"&&typeof console.error=="function"?console.error.apply(console,Sl([e],t)):typeof console=="object"&&typeof console.log=="function"&&console.log.apply(console,Sl(["ERROR: "+e],t))}function zi(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];typeof console=="object"&&typeof console.warn=="function"?console.warn.apply(console,Sl([e],t)):typeof console=="object"&&typeof console.log=="function"&&console.log.apply(console,Sl(["WARNING: "+e],t))}function wt(e){return!(typeof e=="undefined"||e===null)}function Hi(e,t){return t===un.ctor?!0:typeof e=="number"?t===Number:typeof e=="string"?t===String:typeof e=="boolean"?t===Boolean:Lo(e)?e instanceof t:!1}var Al=typeof Reflect=="object"&&typeof Reflect.getMetadata=="function";function Pe(e){return typeof e.name=="string"?e.name:"undefined"}function wa(e){return e}var ha="__typedJsonJsonObjectMetadataInformation__",It=function(){function e(t){this.dataMembers=new Map,this.knownTypes=new Set,this.knownTypesDeferred=[],this.isExplicitlyMarked=!1,this.isHandledWithoutAnnotation=!1,this.classType=t}return e.getJsonObjectName=function(t){var a=e.getFromConstructor(t);return Pe(a===void 0?t:a.classType)},e.getFromConstructor=function(t){var a=t.prototype;if(a!=null){var l;if(Object.prototype.hasOwnProperty.call(a,ha)&&(l=a[ha]),(l==null?void 0:l.isExplicitlyMarked)===!0)return l;if(e.doesHandleWithoutAnnotation(t)){var n=new e(t);return n.isExplicitlyMarked=!0,n}}},e.ensurePresentInPrototype=function(t){if(Object.prototype.hasOwnProperty.call(t,ha))return t[ha];var a=new e(t.constructor),l=t[ha];return l!==void 0&&(l.dataMembers.forEach(function(n,i){a.dataMembers.set(i,n)}),l.knownTypes.forEach(function(n){a.knownTypes.add(n)}),a.typeResolver=l.typeResolver,a.typeHintEmitter=l.typeHintEmitter),Object.defineProperty(t,ha,{enumerable:!1,configurable:!1,writable:!1,value:a}),a},e.getKnownTypeNameFromType=function(t){var a=e.getFromConstructor(t);return Pe(a===void 0?t:a.classType)},e.doesHandleWithoutAnnotation=function(t){return Ko(t)||Io(t)||t===DataView||t===ArrayBuffer},e.prototype.processDeferredKnownTypes=function(){var t=this;this.knownTypesDeferred.forEach(function(a){a().getTypes().forEach(function(l){return t.knownTypes.add(l)})}),this.knownTypesDeferred=[]},e}();function cn(e,t,a){var l="@jsonMember on "+Pe(e.constructor)+"."+String(t);if(typeof e=="function"){Ye(l+": cannot use a static property.");return}if(typeof e[t]=="function"){Ye(l+": cannot use a method property.");return}if(a==null||a.type===void 0&&a.deserializer===void 0){Ye(l+": JsonMemberMetadata has unknown type.");return}var n=It.ensurePresentInPrototype(e);a.deserializer===void 0&&n.knownTypesDeferred.push(a.type),Object.keys(a).forEach(function(i){return a[i]===void 0&&delete a[i]}),n.dataMembers.set(a.name,a)}var Ho=["preserveNull"];function ql(e){var t=Object.keys(e).filter(function(a){return Ho.indexOf(a)>-1}).reduce(function(a,l){return a[l]=e[l],a},{});return Object.keys(t).length>0?t:void 0}function $o(e){switch(e){case"preserveNull":return!1}return null}function $i(e,t){return t!=null&&t[e]!=null?t[e]:$o(e)}function Da(e,t){return t==null?e:ma(ma({},e),t)}function No(e,t){if(e.__type!=null)return t.get(e.__type)}var Go=function(){function e(){this.typeResolver=No,this.errorHandler=Ye,this.deserializationStrategy=new Map([[un.ctor,wa],[Number,Hl],[String,Hl],[Boolean,Hl],[Date,Zo],[ArrayBuffer,Yo],[DataView,Xo],[Array,Wo],[Set,jo],[Map,Jo],[Float32Array,Ln],[Float64Array,Ln],[Uint8Array,dl],[Uint8ClampedArray,dl],[Uint16Array,dl],[Uint32Array,dl]])}return e.prototype.setDeserializationStrategy=function(t,a){this.deserializationStrategy.set(t,a)},e.prototype.setNameResolver=function(t){this.nameResolver=t},e.prototype.setTypeResolver=function(t){if(typeof t!="function")throw new TypeError("'typeResolverCallback' is not a function.");this.typeResolver=t},e.prototype.getTypeResolver=function(){return this.typeResolver},e.prototype.setErrorHandler=function(t){if(typeof t!="function")throw new TypeError("'errorHandlerCallback' is not a function.");this.errorHandler=t},e.prototype.getErrorHandler=function(){return this.errorHandler},e.prototype.convertSingleValue=function(t,a,l,n,i){if(n===void 0&&(n="object"),this.retrievePreserveNull(i)&&t===null)return null;if(!wt(t))return;var r=this.deserializationStrategy.get(a.ctor);if(r!==void 0)return r(t,a,l,n,this,i);if(typeof t=="object")return Uo(t,a,l,n,this);var u="Could not deserialize '"+n+"'; don't know how to deserialize type";a.hasFriendlyName()&&(u+=" '"+a.ctor.name+"'"),this.errorHandler(new TypeError(u+"."))},e.prototype.instantiateType=function(t){return new t},e.prototype.mergeKnownTypes=function(){for(var t=this,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var n=new Map;return a.forEach(function(i){i.forEach(function(r,u){t.nameResolver===void 0?n.set(u,r):n.set(t.nameResolver(r),r)})}),n},e.prototype.createKnownTypesMap=function(t){var a=this,l=new Map;return t.forEach(function(n){if(a.nameResolver===void 0){var i=It.getFromConstructor(n),r=(i==null?void 0:i.isExplicitlyMarked)===!0?i.name:null;l.set(r!=null?r:n.name,n)}else l.set(a.nameResolver(n),n)}),l},e.prototype.retrievePreserveNull=function(t){return $i("preserveNull",Da(this.options,t))},e}();function el(e,t,a,l){throw new TypeError("Could not deserialize "+l+" as "+e+":"+(" expected "+t+", got "+a+"."))}function Bl(e,t,a){var l=typeof e=="function"?Pe(e):e,n=typeof t=="function"?Pe(t):t;return"Could not deserialize "+a+": expected '"+l+"',"+(" got '"+n+"'.")}function tl(e){return e==null?"undefined":Pe(e.constructor)}function Hl(e,t,a,l){if(e.constructor!==t.ctor)throw new TypeError(Bl(Pe(t.ctor),e.constructor,l));return e}function Uo(e,t,a,l,n){if(typeof e!="object"||e===null){n.getErrorHandler()(new TypeError("Cannot deserialize "+l+": 'sourceObject' must be a defined object."));return}var i=t.ctor,r=It.getFromConstructor(i),u=a,d=n.getTypeResolver();r!==void 0&&(r.processDeferredKnownTypes(),u=n.mergeKnownTypes(u,n.createKnownTypesMap(r.knownTypes)),r.typeResolver!=null&&(d=r.typeResolver));var p=d(e,u);if(p!=null&&Li(p,i)&&(i=p,r=It.getFromConstructor(p),r!==void 0&&(u=n.mergeKnownTypes(u,n.createKnownTypesMap(r.knownTypes)))),(r==null?void 0:r.isExplicitlyMarked)===!0){var c=r,g={},F=Da(n.options,c.options);c.dataMembers.forEach(function(w,W){var Y=e[W],I=Pe(c.classType)+"."+W,R=Da(F,w.options),z;if(w.deserializer!=null)z=w.deserializer(Y,{fallback:function(ie,ae){return n.convertSingleValue(ie,Ze(ae),a)}});else{if(w.type==null)throw new TypeError("Cannot deserialize "+I+" there is no constructor nor deserialization function to use.");z=n.convertSingleValue(Y,w.type(),u,I,R)}wt(z)||n.retrievePreserveNull(R)&&z===null?g[w.key]=z:w.isRequired===!0&&n.getErrorHandler()(new TypeError("Missing required member '"+I+"'."))});var S=void 0;if(typeof r.initializerCallback=="function")try{if(S=r.initializerCallback(g,e),S==null)throw new TypeError("Cannot deserialize "+l+": 'initializer' function returned undefined/null"+(", but '"+Pe(r.classType)+"' was expected."));if(!(S instanceof r.classType))throw new TypeError("Cannot deserialize "+l+":"+("'initializer' returned '"+Pe(S.constructor)+"'")+(", but '"+Pe(r.classType)+"' was expected")+(", and '"+Pe(S.constructor)+"' is not a subtype of")+(" '"+Pe(r.classType)+"'"))}catch(w){n.getErrorHandler()(w);return}else S=n.instantiateType(i);Object.assign(S,g);var q=r.onDeserializedMethodName;return q!=null&&(typeof S[q]=="function"?S[q]():typeof S.constructor[q]=="function"?S.constructor[q]():n.getErrorHandler()(new TypeError("onDeserialized callback"+("'"+Pe(r.classType)+"."+q+"' is not a method.")))),S}else{var V={};return Object.keys(e).forEach(function(w){V[w]=n.convertSingleValue(e[w],new on(e[w].constructor),a,w)}),V}}function Wo(e,t,a,l,n,i){if(!(t instanceof ja))throw new TypeError("Could not deserialize "+l+" as Array: incorrect TypeDescriptor detected, please use proper annotation or function for this type");return Array.isArray(e)?t.elementType==null?(n.getErrorHandler()(new TypeError("Could not deserialize "+l+" as Array: missing constructor reference of Array elements.")),[]):e.map(function(r,u){try{return n.convertSingleValue(r,t.elementType,a,l+"["+u+"]",i)}catch(d){n.getErrorHandler()(d);return}}):(n.getErrorHandler()(new TypeError(Bl(Array,e.constructor,l))),[])}function jo(e,t,a,l,n,i){if(!(t instanceof Fl))throw new TypeError("Could not deserialize "+l+" as Set: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(!Array.isArray(e))return n.getErrorHandler()(new TypeError(Bl(Array,e.constructor,l))),new Set;if(t.elementType==null)return n.getErrorHandler()(new TypeError("Could not deserialize "+l+" as Set: missing constructor reference of Set elements.")),new Set;var r=new Set;return e.forEach(function(u,d){try{r.add(n.convertSingleValue(u,t.elementType,a,l+"["+d+"]",i))}catch(p){n.getErrorHandler()(p)}}),r}function Qo(e,t){return t===0&&Array.isArray(e)||t===1&&typeof e=="object"}function Jo(e,t,a,l,n,i){if(!(t instanceof El))throw new TypeError("Could not deserialize "+l+" as Map: incorrect TypeDescriptor detected,please use proper annotation or function for this type");var r=t.getCompleteOptions().shape;if(!Qo(e,r)){var u=r===0?Array:Object;return n.getErrorHandler()(new TypeError(Bl(u,e.constructor,l))),new Map}if(t.keyType==null)return n.getErrorHandler()(new TypeError("Could not deserialize "+l+" as Map: missing key constructor.")),new Map;if(t.valueType==null)return n.getErrorHandler()(new TypeError("Could not deserialize "+l+" as Map: missing value constructor.")),new Map;var d=l+"[].key",p=l+"[].value",c=new Map;return r===1?Object.keys(e).forEach(function(g){try{var F=n.convertSingleValue(g,t.keyType,a,d,i);wt(F)&&c.set(F,n.convertSingleValue(e[g],t.valueType,a,p,i))}catch(S){n.getErrorHandler()(S)}}):e.forEach(function(g){try{var F=n.convertSingleValue(g.key,t.keyType,a,d,i);wt(F)&&c.set(F,n.convertSingleValue(g.value,t.valueType,a,p,i))}catch(S){n.getErrorHandler()(S)}}),c}function Zo(e,t,a,l){if(typeof e=="number"){var n=e%1===0;if(!n)throw new TypeError("Could not deserialize "+l+" as Date: expected an integer, got a number with decimal places.");return new Date(e)}else{if(typeof e=="string")return new Date(e);if(e instanceof Date)return e;el("Date","an ISO-8601 string",tl(e),l)}}function Yo(e,t,a,l){return typeof e!="string"&&el("ArrayBuffer","a string source",tl(e),l),Ni(e)}function Xo(e,t,a,l){return typeof e!="string"&&el("DataView","a string source",tl(e),l),new DataView(Ni(e))}function Ni(e){for(var t=new ArrayBuffer(e.length*2),a=new Uint16Array(t),l=0,n=e.length;l<n;l++)a[l]=e.charCodeAt(l);return t}function Ln(e,t,a,l){var n=t.ctor;return Array.isArray(e)&&e.every(function(i){return!isNaN(i)})?new n(e):el(n.name,"a numeric source array",tl(e),l)}function dl(e,t,a,l){var n=t.ctor;return Array.isArray(e)&&e.every(function(i){return!isNaN(i)})?new n(e.map(function(i){return~~i})):el(t.ctor.name,"a numeric source array",tl(e),l)}function Ht(e,t){return t===void 0&&(t={}),function(a,l){var n,i="@jsonArrayMember on "+Pe(a.constructor)+"."+String(l),r=Ki(e,i),u=t.dimensions==null?1:t.dimensions;if(!isNaN(u)&&u<1){Ye(i+": 'dimensions' option must be at least 1.");return}var d=Al?Reflect.getMetadata("design:type",a,l):null;if(d!=null&&d!==Array&&d!==Object){Ye(i+": property is not an Array. "+Ii);return}cn(a,l,{type:function(){return Xl(Ze(r()),u)},emitDefaultValue:t.emitDefaultValue,isRequired:t.isRequired,options:ql(t),key:l.toString(),name:(n=t.name)!==null&&n!==void 0?n:l.toString(),deserializer:t.deserializer,serializer:t.serializer})}}function Xl(e,t){for(var a=new ja(e),l=1;l<t;++l)a=new ja(a);return a}function es(e,t,a,l){var n;t.constructor!==a&&(e.__type=(n=l==null?void 0:l.name)!==null&&n!==void 0?n:Pe(t.constructor))}var ts=function(){function e(){this.typeHintEmitter=es,this.errorHandler=Ye,this.serializationStrategy=new Map([[un.ctor,wa],[Date,wa],[Number,wa],[String,wa],[Boolean,wa],[ArrayBuffer,Gi],[DataView,rs],[Array,ls],[Set,ns],[Map,is],[Float32Array,Kt],[Float64Array,Kt],[Int8Array,Kt],[Uint8Array,Kt],[Uint8ClampedArray,Kt],[Int16Array,Kt],[Uint16Array,Kt],[Int32Array,Kt],[Uint32Array,Kt]])}return e.prototype.setSerializationStrategy=function(t,a){this.serializationStrategy.set(t,a)},e.prototype.setTypeHintEmitter=function(t){if(typeof t!="function")throw new TypeError("'typeEmitterCallback' is not a function.");this.typeHintEmitter=t},e.prototype.getTypeHintEmitter=function(){return this.typeHintEmitter},e.prototype.setErrorHandler=function(t){if(typeof t!="function")throw new TypeError("'errorHandlerCallback' is not a function.");this.errorHandler=t},e.prototype.getErrorHandler=function(){return this.errorHandler},e.prototype.retrievePreserveNull=function(t){return $i("preserveNull",Da(this.options,t))},e.prototype.convertSingleValue=function(t,a,l,n){if(l===void 0&&(l="object"),this.retrievePreserveNull(n)&&t===null)return null;if(!!wt(t)){if(!Hi(t,a.ctor)){var i=Pe(a.ctor),r=Pe(t.constructor);this.errorHandler(new TypeError("Could not serialize '"+l+"': expected '"+i+"',"+(" got '"+r+"'.")));return}var u=this.serializationStrategy.get(a.ctor);if(u!==void 0)return u(t,a,l,this,n);if(typeof t=="object")return as(t,a,l,this);var d="Could not serialize '"+l+"'; don't know how to serialize type";a.hasFriendlyName()&&(d+=" '"+a.ctor.name+"'"),this.errorHandler(new TypeError(d+"."))}},e}();function as(e,t,a,l,n){var i,r,u=l.getTypeHintEmitter();if(e.constructor!==t.ctor&&e instanceof t.ctor?i=It.getFromConstructor(e.constructor):i=It.getFromConstructor(t.ctor),i===void 0)r=ma({},e);else{var d=i.beforeSerializationMethodName;d!=null&&(typeof e[d]=="function"?e[d]():typeof e.constructor[d]=="function"?e.constructor[d]():l.getErrorHandler()(new TypeError("beforeSerialization callback '"+(Pe(i.classType)+"."+d)+"' is not a method.")));var p=i;r={};var c=Da(l.options,p.options);p.typeHintEmitter!=null&&(u=p.typeHintEmitter),p.dataMembers.forEach(function(g){var F=Da(c,g.options),S;if(g.serializer!=null)S=g.serializer(e[g.key],{fallback:function(q,V){return l.convertSingleValue(q,Ze(V))}});else{if(g.type==null)throw new TypeError("Could not serialize "+g.name+", there is no constructor nor serialization function to use.");S=l.convertSingleValue(e[g.key],g.type(),Pe(p.classType)+"."+g.key,F)}(l.retrievePreserveNull(F)&&S===null||wt(S))&&(r[g.name]=S)})}return u(r,e,t.ctor,i),r}function ls(e,t,a,l,n){if(!(t instanceof ja))throw new TypeError("Could not serialize "+a+" as Array: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(t.elementType==null)throw new TypeError("Could not serialize "+a+" as Array: missing element type definition.");return e.forEach(function(i,r){if(!(l.retrievePreserveNull(n)&&i===null)&&!Hi(i,t.elementType.ctor)){var u=Pe(t.elementType.ctor),d=i&&Pe(i.constructor);throw new TypeError("Could not serialize "+a+"["+r+"]:"+(" expected '"+u+"', got '"+d+"'."))}}),e.map(function(i,r){return l.convertSingleValue(i,t.elementType,a+"["+r+"]",n)})}function ns(e,t,a,l,n){if(!(t instanceof Fl))throw new TypeError("Could not serialize "+a+" as Set: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(t.elementType==null)throw new TypeError("Could not serialize "+a+" as Set: missing element type definition.");a+="[]";var i=[];return e.forEach(function(r){var u=l.convertSingleValue(r,t.elementType,a,n);(!wt(r)||wt(u))&&i.push(u)}),i}function is(e,t,a,l,n){if(!(t instanceof El))throw new TypeError("Could not serialize "+a+" as Map: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(t.valueType==null)throw new TypeError("Could not serialize "+a+" as Map: missing value type definition.");if(t.keyType==null)throw new TypeError("Could not serialize "+a+" as Map: missing key type definition.");var i=a+"[].key",r=a+"[].value",u=t.getCompleteOptions().shape,d=u===1?{}:[],p=l.retrievePreserveNull(n);return e.forEach(function(c,g){var F={key:l.convertSingleValue(g,t.keyType,i,n),value:l.convertSingleValue(c,t.valueType,r,n)},S=wt(F.key),q=F.value===null&&p||wt(F.value);S&&q&&(u===1?d[F.key]=F.value:d.push(F))}),d}function Kt(e){return Array.from(e)}function Gi(e){return Array.from(new Uint16Array(e)).map(function(t){return String.fromCharCode(t)}).join("")}function rs(e){return Gi(e.buffer)}var xa=function(){function e(t,a){this.serializer=new ts,this.deserializer=new Go,this.globalKnownTypes=[],this.indent=0;var l=It.getFromConstructor(t);if(l===void 0||!l.isExplicitlyMarked&&!l.isHandledWithoutAnnotation)throw new TypeError("The TypedJSON root data type must have the @jsonObject decorator used.");this.nameResolver=function(n){return Pe(n)},this.rootConstructor=t,this.errorHandler=function(n){return Ye(n)},this.config(a)}return e.parse=function(t,a,l){return new e(a,l).parse(t)},e.parseAsArray=function(t,a,l,n){return new e(a,l).parseAsArray(t,n)},e.parseAsSet=function(t,a,l){return new e(a,l).parseAsSet(t)},e.parseAsMap=function(t,a,l,n){return new e(l,n).parseAsMap(t,a)},e.toPlainJson=function(t,a,l){return new e(a,l).toPlainJson(t)},e.toPlainArray=function(t,a,l,n){return new e(a,n).toPlainArray(t,l)},e.toPlainSet=function(t,a,l){return new e(a,l).toPlainSet(t)},e.toPlainMap=function(t,a,l,n){return new e(l,n).toPlainMap(t,a)},e.stringify=function(t,a,l){return new e(a,l).stringify(t)},e.stringifyAsArray=function(t,a,l,n){return new e(a,n).stringifyAsArray(t,l)},e.stringifyAsSet=function(t,a,l){return new e(a,l).stringifyAsSet(t)},e.stringifyAsMap=function(t,a,l,n){return new e(l,n).stringifyAsMap(t,a)},e.setGlobalConfig=function(t){Object.assign(this._globalConfig,t)},e.mapType=function(t,a){this._globalConfig.mappedTypes==null&&(this._globalConfig.mappedTypes=new Map),this._globalConfig.mappedTypes.set(t,a)},e.prototype.config=function(t){var a=this;t=ma(ma({},e._globalConfig),t),t.knownTypes!=null&&e._globalConfig.knownTypes!=null&&(t.knownTypes=Array.from(new Set(t.knownTypes.concat(e._globalConfig.knownTypes))));var l=ql(t);this.serializer.options=l,this.deserializer.options=l,t.errorHandler!=null&&(this.errorHandler=t.errorHandler,this.deserializer.setErrorHandler(t.errorHandler),this.serializer.setErrorHandler(t.errorHandler)),t.replacer!=null&&(this.replacer=t.replacer),t.typeResolver!=null&&this.deserializer.setTypeResolver(t.typeResolver),t.typeHintEmitter!=null&&this.serializer.setTypeHintEmitter(t.typeHintEmitter),t.indent!=null&&(this.indent=t.indent),t.mappedTypes!=null&&t.mappedTypes.forEach(function(n,i){a.setSerializationStrategies(i,n)}),t.nameResolver!=null&&(this.nameResolver=t.nameResolver,this.deserializer.setNameResolver(t.nameResolver)),t.knownTypes!=null&&(t.knownTypes.forEach(function(n,i){(typeof n=="undefined"||n===null)&&zi("TypedJSON.config: 'knownTypes' contains an undefined/null value"+(" (element "+i+")."))}),this.globalKnownTypes=t.knownTypes)},e.prototype.mapType=function(t,a){this.setSerializationStrategies(t,a)},e.prototype.parse=function(t){var a=cl(t,this.rootConstructor),l;try{l=this.deserializer.convertSingleValue(a,Ze(this.rootConstructor),this.getKnownTypes())}catch(n){this.errorHandler(n)}return l},e.prototype.parseAsArray=function(t,a){a===void 0&&(a=1);var l=cl(t,Array);return this.deserializer.convertSingleValue(l,Xl(Ze(this.rootConstructor),a),this._mapKnownTypes(this.globalKnownTypes))},e.prototype.parseAsSet=function(t){var a=cl(t,Set);return this.deserializer.convertSingleValue(a,Kn(this.rootConstructor),this._mapKnownTypes(this.globalKnownTypes))},e.prototype.parseAsMap=function(t,a){var l=cl(t,Map);return this.deserializer.convertSingleValue(l,In(a,this.rootConstructor),this._mapKnownTypes(this.globalKnownTypes))},e.prototype.toPlainJson=function(t){try{return this.serializer.convertSingleValue(t,Ze(this.rootConstructor))}catch(a){this.errorHandler(a)}},e.prototype.toPlainArray=function(t,a){a===void 0&&(a=1);try{return this.serializer.convertSingleValue(t,Xl(Ze(this.rootConstructor),a))}catch(l){this.errorHandler(l)}},e.prototype.toPlainSet=function(t){try{return this.serializer.convertSingleValue(t,Kn(this.rootConstructor))}catch(a){this.errorHandler(a)}},e.prototype.toPlainMap=function(t,a){try{return this.serializer.convertSingleValue(t,In(a,this.rootConstructor))}catch(l){this.errorHandler(l)}},e.prototype.stringify=function(t){var a=this.toPlainJson(t);return a===void 0?"":JSON.stringify(a,this.replacer,this.indent)},e.prototype.stringifyAsArray=function(t,a){return JSON.stringify(this.toPlainArray(t,a),this.replacer,this.indent)},e.prototype.stringifyAsSet=function(t){return JSON.stringify(this.toPlainSet(t),this.replacer,this.indent)},e.prototype.stringifyAsMap=function(t,a){return JSON.stringify(this.toPlainMap(t,a),this.replacer,this.indent)},e.prototype.getKnownTypes=function(){var t=this,a=It.getFromConstructor(this.rootConstructor),l=new Map;return this.globalKnownTypes.filter(function(n){return n}).forEach(function(n){l.set(t.nameResolver(n),n)}),a!==void 0&&(a.processDeferredKnownTypes(),a.knownTypes.forEach(function(n){l.set(t.nameResolver(n),n)})),l},e.prototype._mapKnownTypes=function(t){var a=this,l=new Map;return t.filter(function(n){return n}).forEach(function(n){return l.set(a.nameResolver(n),n)}),l},e.prototype.setSerializationStrategies=function(t,a){var l=this;a.deserializer!=null&&this.deserializer.setDeserializationStrategy(t,function(n){return a.deserializer(n,{fallback:function(i,r){return l.deserializer.convertSingleValue(i,Ze(r),l.getKnownTypes())}})}),a.serializer!=null&&this.serializer.setSerializationStrategy(t,function(n){return a.serializer(n,{fallback:function(i,r){return l.serializer.convertSingleValue(i,Ze(r))}})})},e._globalConfig={},e}();function Pa(e){var t;typeof e=="function"?t={}:t=e!=null?e:{};function a(l){var n=It.ensurePresentInPrototype(l.prototype);n.isExplicitlyMarked=!0,n.onDeserializedMethodName=t.onDeserialized,n.beforeSerializationMethodName=t.beforeSerialization,t.typeResolver!=null&&(n.typeResolver=t.typeResolver),t.typeHintEmitter!=null&&(n.typeHintEmitter=t.typeHintEmitter),n.initializerCallback=t.initializer,t.name!=null&&(n.name=t.name);var i=ql(t);i!==void 0&&(n.options=i),t.knownTypes!=null&&t.knownTypes.filter(function(r){return Boolean(r)}).forEach(function(r){return n.knownTypes.add(r)})}if(typeof e=="function")a(e);else return a}function fe(e,t){if(typeof t=="string"||typeof t=="symbol"){var a=t,l=e,n="@jsonMember on "+Pe(l.constructor)+"."+String(a);if(!Al){Ye(n+": ReflectDecorators is required if the type is not explicitly provided with e.g. @jsonMember(Number)");return}var i=Reflect.getMetadata("design:type",l,a);if(i==null){Ye(n+`: could not resolve detected property constructor at runtime. Potential solutions:
 - `+wl+`
 - `+Ii);return}var r=Ze(i);if(Ui(n,r))return;cn(l,a,{type:function(){return r},key:t.toString(),name:t.toString()});return}return os(e,t)}function os(e,t){return function(a,l){var n,i="@jsonMember on "+Pe(a.constructor)+"."+String(l),r;if(Ro(e)||Ri(e)?r=Ki(e,i):t=e,t=t!=null?t:{},Object.prototype.hasOwnProperty.call(t,"constructor")){if(r!==void 0)throw new Error("Cannot both define constructor option and type. Only one allowed.");if(!wt(t.constructor)){Ye(i+": cannot resolve specified property constructor at runtime. "+wl);return}var u=Ze(t.constructor);r=function(){return u},Al&&!Li(u.ctor,Reflect.getMetadata("design:type",a,l))&&zi(i+": detected property type does not match 'constructor' option.")}else if(r===void 0){if(Al){var d=Reflect.getMetadata("design:type",a,l);if(d==null){Ye(i+": cannot resolve detected property constructor at runtime. "+wl);return}r=function(){return Ze(d)}}else if(t.deserializer===void 0){Ye(i+": Cannot determine type");return}}var p=r==null?void 0:r();p!==void 0&&Ui(i,p)||cn(a,l,{type:r===void 0?void 0:function(){return Ze(r())},emitDefaultValue:t.emitDefaultValue,isRequired:t.isRequired,options:ql(t),key:l.toString(),name:(n=t.name)!==null&&n!==void 0?n:l.toString(),deserializer:t.deserializer,serializer:t.serializer})}}function $l(e,t){return e instanceof Xa?e.ctor===t:e===t}function Ui(e,t){return!(t instanceof ja)&&$l(t,Array)?(Ye(e+": property is an Array. Use the jsonArrayMember decorator to serialize this property."),!0):!(t instanceof Fl)&&$l(t,Set)?(Ye(e+": property is a Set. Use the jsonSetMember decorator to serialize this property."),!0):!(t instanceof El)&&$l(t,Map)?(Ye(e+": property is a Map. Use the jsonMapMember decorator to serialize this property."),!0):!1}var ss=Object.defineProperty,us=Object.getOwnPropertyDescriptor,$t=(e,t,a,l)=>{for(var n=l>1?void 0:l?us(t,a):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(n=(l?r(t,a,n):r(n))||n);return l&&n&&ss(t,a,n),n},o=(e=>(e.AlignmentIndex="Alignment index",e.AtkPercent="ATK% buff",e.FlatAtk="Flat ATK buff",e.CritDmgAmp="Critical damage amp",e.CritRate="Crit rate",e.ElementalDamage="Elemental damage",e.BallisticDamage="Ballistic damage",e.SkillDamage="Skill damage",e.AuxiliaryDamage="Auxiliary units strength",e.Generic="Generic buff",e.DamageTaken="Damage taken debuff",e.ElementalResist="Elemental resist debuff",e.FinalDamage="Final damage buff",e.FinalBallisticDamage="Final damage (ballistic)",e.FinalSkillDamage="Final damage (skill)",e.RateOfFire="Rate of fire increase",e.FlatDefenseReduction="Flat defense reduction",e.DefensePenetration="Defense penetration%",e.MagSizeBoost="Magazine size boost",e))(o||{});let We=class{constructor(e,t,a,l,n,i,r,u){te(this,"active");te(this,"name");te(this,"description");te(this,"type");te(this,"value");te(this,"alignmentIncrease");te(this,"element");te(this,"target");this.active=e,this.name=t,this.description=a,this.type=l,this.value=n,this.alignmentIncrease=i,this.element=r,this.target=u}};$t([fe(Boolean)],We.prototype,"active",2);$t([fe(String)],We.prototype,"name",2);$t([fe(String)],We.prototype,"description",2);$t([fe(String)],We.prototype,"type",2);$t([fe(Number)],We.prototype,"value",2);$t([fe(Number)],We.prototype,"alignmentIncrease",2);$t([fe(String)],We.prototype,"element",2);$t([fe(String)],We.prototype,"target",2);We=$t([Pa],We);const cs=new xa(We);class Xt extends We{constructor(a,l,n,i,r,u,d,p,c,g){super(a,l,n,i,r,u,d,p);te(this,"id");te(this,"lockSource");this.id=c||Math.random(),this.lockSource=g}static fromModifier(a){return new Xt(a.active,a.name,a.description,a.type,a.value,a.alignmentIncrease,a.element,a.target)}}const Nl=["Elemental damage","Ballistic damage","Elemental resist debuff"];var x=(e=>(e.Orange="Orange",e.Purple="Purple",e.Blue="Blue",e))(x||{});function Fa(e){const t=Reflect.ownKeys(e);for(const a of t){const l=e[a];(l&&typeof l=="object"||typeof l=="function")&&Fa(l)}return Object.freeze(e)}var ds=Object.defineProperty,fs=Object.getOwnPropertyDescriptor,Ct=(e,t,a,l)=>{for(var n=l>1?void 0:l?fs(t,a):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(n=(l?r(t,a,n):r(n))||n);return l&&n&&ds(t,a,n),n},ke=(e=>(e.CanCrit="Can crit",e.CanCritWeakspot="Can crit on weakspot",e.BasedOnBulletDamage="Based on bullet damage",e.RecalculateDefense="No defense calculation",e.SupportSkill="Support skill",e.CloudShot="Cloud shot",e.Auxiliary="Auxiliary",e))(ke||{});let je=class{constructor(e,t,a,l,n,i,r,u,d,p){te(this,"name");te(this,"description");te(this,"active");te(this,"element");te(this,"damagePercent");te(this,"alignmentIncrease");te(this,"damageFlat");te(this,"frequency");te(this,"isAptitude");te(this,"specialModifiers");this.name=e,this.description=t,this.active=a,this.element=l,this.damagePercent=n,this.alignmentIncrease=i,this.damageFlat=r,this.frequency=u,this.isAptitude=d,this.specialModifiers=p}};Ct([fe(String)],je.prototype,"name",2);Ct([fe(String)],je.prototype,"description",2);Ct([fe(Boolean)],je.prototype,"active",2);Ct([fe(String)],je.prototype,"element",2);Ct([fe(Number)],je.prototype,"damagePercent",2);Ct([fe(Number)],je.prototype,"alignmentIncrease",2);Ct([fe(Number)],je.prototype,"damageFlat",2);Ct([fe(Number)],je.prototype,"frequency",2);Ct([fe(Boolean)],je.prototype,"isAptitude",2);Ct([Ht(String)],je.prototype,"specialModifiers",2);je=Ct([Pa],je);new xa(je);class za extends je{constructor(a,l,n,i,r,u,d,p,c,g,F,S){super(a,l,n,i,r,u,d,p,c,g);te(this,"id");te(this,"lockSource");this.id=F||Math.random(),this.lockSource=S}static fromSkill(a){return new za(a.name,a.description,a.active,a.element,a.damagePercent,a.alignmentIncrease,a.damageFlat,a.frequency,a.isAptitude,a.specialModifiers)}}var ms=Object.defineProperty,vs=Object.getOwnPropertyDescriptor,it=(e,t,a,l)=>{for(var n=l>1?void 0:l?vs(t,a):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(n=(l?r(t,a,n):r(n))||n);return l&&n&&ms(t,a,n),n},oe=(e=>(e.Shotgun="Shotgun",e.SMG="SMG",e.Sniper="Sniper rifle",e.AssaultRifle="Assault rifle",e.Pistol="Pistol",e.Crossbow="Crossbow",e))(oe||{}),Qa=(e=>(e.SniperBolt="Bolt-action sniper",e.SniperSemi="Semi-auto sniper",e.ShotgunPump="Pump-action shotgun (60 rpm)",e.ShotgunSemi="Semi-auto shotgun (75 rpm)",e.ShotgunDoubleBarrel="Double-barrel shotgun",e.PistolRevolver="Revolver",e.PistolSemi="Semi-auto Pistol",e))(Qa||{});let Qe=class{constructor(){te(this,"name");te(this,"type");te(this,"subtype");te(this,"element");te(this,"rarity");te(this,"atk");te(this,"rateOfFire");te(this,"ammoCapacity");te(this,"reloadSpeed");te(this,"compatibility");te(this,"critDamage");te(this,"atkPercent");te(this,"modifiers");te(this,"skillDamage")}};it([fe(String)],Qe.prototype,"name",2);it([fe(String)],Qe.prototype,"type",2);it([fe(String)],Qe.prototype,"subtype",2);it([fe(String)],Qe.prototype,"element",2);it([fe(String)],Qe.prototype,"rarity",2);it([fe(Number)],Qe.prototype,"atk",2);it([fe(Number)],Qe.prototype,"rateOfFire",2);it([fe(Number)],Qe.prototype,"ammoCapacity",2);it([fe(Number)],Qe.prototype,"reloadSpeed",2);it([fe(Number)],Qe.prototype,"compatibility",2);it([fe(Number)],Qe.prototype,"critDamage",2);it([fe(Number)],Qe.prototype,"atkPercent",2);it([Ht(We)],Qe.prototype,"modifiers",2);it([Ht(je)],Qe.prototype,"skillDamage",2);Qe=it([Pa],Qe);const Gl=new xa(Qe),ps={Shotgun:[{name:"Sunny Payback (T1)",type:"Shotgun",subtype:"Pump-action shotgun (60 rpm)",element:v.Electrical,rarity:x.Orange,atk:781,rateOfFire:60,compatibility:41,ammoCapacity:7,critDamage:30,reloadSpeed:2.62,atkPercent:46,modifiers:[{active:!0,name:"Sunny Payback passive",description:"",type:o.ElementalDamage,element:v.Electrical,value:18},{active:!0,name:"Sunny Payback passive",description:"Each shot has a 60% chance to fire extra 1 pellets (12.5 * .6)",type:o.FinalDamage,value:7.5}]},{name:"Tiny Brains (T1)",type:"Shotgun",subtype:"Pump-action shotgun (60 rpm)",element:v.Kinetic,rarity:x.Orange,atk:811,rateOfFire:60,compatibility:41,ammoCapacity:7,critDamage:30,reloadSpeed:2.62,atkPercent:52,modifiers:[{active:!0,name:"Tiny Brains passive",description:"",type:o.AtkPercent,value:18},{active:!1,name:"Tiny Brains passive",description:"Increases enemy damage taken when taking damage",type:o.DamageTaken,value:9.6}]},{name:"Discordance",type:"Shotgun",subtype:"Semi-auto shotgun (75 rpm)",element:v.Electrical,rarity:x.Purple,atk:642,rateOfFire:75,compatibility:35.6,ammoCapacity:8,critDamage:30,reloadSpeed:2.89,atkPercent:43,modifiers:[],skillDamage:[{name:"Discordance passive (T5)",description:"Deals extra damage based on 1.2% of ATK times the number of bullets in the magazine before firing. 5.4 is average over 8 shots, use 9.6 if reloading and shooting only 1 bullet.",active:!0,element:v.Electrical,damagePercent:5.4,damageFlat:0,isAptitude:!0,frequency:0},{name:"Discordance passive (T1)",description:"Deals extra damage based on .72% of ATK times the number of bullets in the magazine before firing. 3.24 is average over 8 shots, use 5.76 if reloading and shooting only 1 bullet.",active:!1,element:v.Electrical,damagePercent:3.24,damageFlat:0,isAptitude:!0,frequency:0}]},{name:"Mechanized Cope (T5)",type:"Shotgun",subtype:"Double-barrel shotgun",element:v.Kinetic,rarity:x.Purple,atk:661,rateOfFire:120,compatibility:59.72,ammoCapacity:1,critDamage:30,reloadSpeed:1.458,atkPercent:45,modifiers:[]},{name:"Full Alert",type:"Shotgun",subtype:"Pump-action shotgun (60 rpm)",element:v.Kinetic,rarity:x.Purple,atk:674,rateOfFire:60,compatibility:40.66,ammoCapacity:7,critDamage:30,reloadSpeed:2.62,atkPercent:37,modifiers:[{active:!0,name:"Full Alert passive (T1)",description:"When in battle, increases ATK by Operative Level x 1. Max 6 stacks",type:o.FlatAtk,value:480},{active:!1,name:"Full Alert passive (T5)",description:"When in battle, increases ATK by Operative Level x 1. Max 10 stacks",type:o.FlatAtk,value:800}]},{name:"Maritime Scout",type:"Shotgun",subtype:"Pump-action shotgun (60 rpm)",element:v.Kinetic,rarity:x.Purple,atk:645,rateOfFire:60,compatibility:40.66,ammoCapacity:7,critDamage:30,reloadSpeed:2.62,atkPercent:40,modifiers:[{active:!0,name:"Maritime Scout passive (T1)",description:"Increases ballistic, skill, and ultimate DMG.",type:o.BallisticDamage,value:16.8},{active:!0,name:"Maritime Scout passive (T1)",description:"Increases ballistic, skill, and ultimate DMG.",type:o.SkillDamage,value:16.8},{active:!1,name:"Maritime Scout passive (T5)",description:"Increases ballistic, skill, and ultimate DMG.",type:o.BallisticDamage,value:28},{active:!1,name:"Maritime Scout passive (T5)",description:"Increases ballistic, skill, and ultimate DMG.",type:o.SkillDamage,value:28}]},{name:"Malbec (T5)",type:"Shotgun",subtype:"Semi-auto shotgun (75 rpm)",element:v.Electrical,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:35.6,ammoCapacity:8,critDamage:30,reloadSpeed:2.89,atkPercent:32.5,modifiers:[{active:!0,name:"Malbec passive",description:"",type:o.ElementalDamage,element:v.Electrical,value:25}]},{name:"Silenced Truth (T5)",type:"Shotgun",subtype:"Semi-auto shotgun (75 rpm)",element:v.Chaos,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:35.6,ammoCapacity:8,critDamage:30,reloadSpeed:2.89,atkPercent:32.5,modifiers:[{active:!0,name:"Silenced Truth passive",description:"",type:o.ElementalDamage,element:v.Chaos,value:25}]},{name:"Flock of Birds (T5)",type:"Shotgun",subtype:"Double-barrel shotgun",element:v.Frost,rarity:x.Blue,atk:528,rateOfFire:120,compatibility:59.72,ammoCapacity:1,critDamage:30,reloadSpeed:1.62,atkPercent:32.5,modifiers:[{active:!0,name:"Flock of Birds passive",description:"",type:o.ElementalDamage,element:v.Frost,value:25}]},{name:"Brutish Folk (T5)",type:"Shotgun",subtype:"Pump-action shotgun (60 rpm)",element:v.Thermal,rarity:x.Blue,atk:528,rateOfFire:60,compatibility:41,ammoCapacity:7,critDamage:30,reloadSpeed:2.62,atkPercent:32.5,modifiers:[{active:!0,name:"Brutish Folk passive",description:"",type:o.ElementalDamage,element:v.Thermal,value:25}]},{name:"Knock Knock (T5)",type:"Shotgun",subtype:"Semi-auto shotgun (75 rpm)",element:v.Kinetic,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:36.01,ammoCapacity:8,critDamage:30,reloadSpeed:2.62,atkPercent:32.5,modifiers:[{active:!0,name:"Knock Knock passive",description:"",type:o.ElementalDamage,element:v.Kinetic,value:25}]}],SMG:[{name:"Uninvited Adieu",type:"SMG",element:v.Chaos,rarity:x.Orange,atk:798,rateOfFire:950,compatibility:27.22,ammoCapacity:80,critDamage:30,reloadSpeed:1.35,atkPercent:50,modifiers:[{active:!0,name:"Uninvited Adieu passive (T1)",description:"",type:o.ElementalDamage,element:v.Chaos,value:18},{active:!1,name:"Uninvited Adieu passive (T2)",description:"",type:o.ElementalDamage,element:v.Chaos,value:30},{active:!0,name:"Uninvited Adieu passive (T1)",description:"Increases damage taken from Dazed by 6%, plus 1.2% per stack when dealing damage, up to 20s.",type:o.DamageTaken,element:v.Chaos,value:30,target:"DoT"},{active:!1,name:"Uninvited Adieu passive (T2)",description:"Increases damage taken from Dazed by 10%, plus 2% per stack when dealing damage, up to 20s.",type:o.DamageTaken,element:v.Chaos,value:50,target:"DoT"},{active:!0,name:"Uninvited Adieu passive (T1)",description:"When at max stacks, increase ATK by 18%",type:o.AtkPercent,value:18},{active:!1,name:"Uninvited Adieu passive (T2)",description:"When at max stacks, increase ATK by 30%",type:o.AtkPercent,value:30}]},{name:"100 Battle Veteran",type:"SMG",element:v.Chaos,rarity:x.Orange,atk:799,rateOfFire:800,compatibility:35.2,ammoCapacity:45,critDamage:30,reloadSpeed:1.35,atkPercent:51,modifiers:[{active:!0,name:"100 Battle Vet passive (T1)",description:"",type:o.AtkPercent,value:18},{active:!0,name:"100 Battle Vet passive (T1)",description:"Ballistic DMG increases linearly with fewer bullets in magazine, max 42% for an average of 21%",type:o.BallisticDamage,value:21},{active:!1,name:"100 Battle Vet passive (T2)",description:"",type:o.AtkPercent,value:30},{active:!1,name:"100 Battle Vet passive (T2)",description:"Ballistic DMG increases linearly with fewer bullets in magazine, max 70% for an average of 35%",type:o.BallisticDamage,value:35}]},{name:"Stardust Memory",type:"SMG",element:v.Frost,rarity:x.Orange,atk:781,rateOfFire:950,compatibility:29.52,ammoCapacity:50,critDamage:30,reloadSpeed:1.35,atkPercent:42,modifiers:[{active:!0,name:"Stardust Memory passive (T1)",description:"",type:o.ElementalDamage,element:v.Frost,value:18},{active:!0,name:"Stardust Memory passive (T1)",description:"Gain 6 stacks when using standard skill and 1 stack when standard skill deals DMG. Each stack increases skill DMG by 3%, max 12 stacks.",type:o.SkillDamage,value:36},{active:!1,name:"Stardust Memory passive (T2)",description:"",type:o.ElementalDamage,element:v.Frost,value:30},{active:!1,name:"Stardust Memory passive (T2)",description:"Gain 6 stacks when using standard skill and 1 stack when standard skill deals DMG. Each stack increases skill DMG by 5%, max 12 stacks.",type:o.SkillDamage,value:60}]},{name:"Halo of Hope",type:"SMG",element:v.Chaos,rarity:x.Purple,atk:610,rateOfFire:900,compatibility:30.33,ammoCapacity:60,critDamage:30,reloadSpeed:1.35,atkPercent:36,modifiers:[{active:!0,name:"Halo of Hope passive (T5)",description:"For each Dazed stack, increase damage dealt to the target by 2%, max 20 stacks",type:o.Generic,value:40},{active:!1,name:"Halo of Hope passive (T1)",description:"For each Dazed stack, increase damage dealt to the target by 1.2%, max 20 stacks",type:o.Generic,value:24}]},{name:"Atrium Frontline",type:"SMG",element:v.Kinetic,rarity:x.Purple,atk:674,rateOfFire:850,compatibility:33.9,ammoCapacity:45,critDamage:30,reloadSpeed:1.35,atkPercent:36,modifiers:[{active:!0,name:"Atrium Frontline passive (T1)",description:"When in battle, increase ATK by 1.5x operative level, max 6 stacks.",type:o.FlatAtk,value:720},{active:!1,name:"Atrium Frontline passive (T5)",description:"When in battle, increase ATK by 1.5x operative level, max 10 stacks.",type:o.FlatAtk,value:1200}]},{name:"Homecoming",type:"SMG",element:v.Kinetic,rarity:x.Purple,atk:626,rateOfFire:950,compatibility:33.3,ammoCapacity:40,critDamage:30,reloadSpeed:1.35,atkPercent:38,modifiers:[{active:!0,name:"Homecoming passive (T5)",description:"Upon entry, increases ATK by 4.5% per second. Max 10 stacks.",type:o.AtkPercent,value:45},{active:!1,name:"Homecoming passive (T1)",description:"Upon entry, increases ATK by 4.5% per second. Max 6 stacks.",type:o.AtkPercent,value:27}]},{name:"Work-in-Progress",type:"SMG",element:v.Electrical,rarity:x.Purple,atk:652,rateOfFire:950,compatibility:29.52,ammoCapacity:50,critDamage:30,reloadSpeed:1.35,atkPercent:43,modifiers:[],skillDamage:[{name:"Work-in-Progress passive (T5)",description:"Hitting an enemy deals 42% ATK of damage in an AoE, 5s CD.",active:!1,element:v.Electrical,damagePercent:42,damageFlat:0,isAptitude:!1,frequency:60/5},{name:"Work-in-Progress passive (T5)",description:"Hitting an enemy deals 70% ATK of damage in an AoE, 5s CD.",active:!0,element:v.Electrical,damagePercent:70,damageFlat:0,isAptitude:!1,frequency:60/5}]},{name:"Safety Line (T5)",type:"SMG",element:v.Frost,rarity:x.Blue,atk:528,rateOfFire:950,compatibility:30.66,ammoCapacity:45,critDamage:30,reloadSpeed:1.35,atkPercent:32.5,modifiers:[{active:!0,name:"Safety Line passive",description:"",type:o.ElementalDamage,element:v.Frost,value:25}]},{name:"Napoleon in Black (T5)",type:"SMG",element:v.Electrical,rarity:x.Blue,atk:528,rateOfFire:900,compatibility:32.83,ammoCapacity:45,critDamage:30,reloadSpeed:1.35,atkPercent:32.5,modifiers:[{active:!0,name:"Napoleon in Black passive",description:"",type:o.ElementalDamage,element:v.Electrical,value:25}]},{name:"Tension Headache (T5)",type:"SMG",element:v.Chaos,rarity:x.Blue,atk:528,rateOfFire:800,compatibility:35.2,ammoCapacity:45,critDamage:30,reloadSpeed:1.35,atkPercent:32.5,modifiers:[{active:!0,name:"Tension Headache passive",description:"",type:o.ElementalDamage,element:v.Chaos,value:25}]},{name:"Iron Guardian (T5)",type:"SMG",element:v.Thermal,rarity:x.Blue,atk:528,rateOfFire:950,compatibility:33.33,ammoCapacity:40,critDamage:30,reloadSpeed:1.35,atkPercent:32.5,modifiers:[{active:!0,name:"Iron Guardian passive",description:"",type:o.ElementalDamage,element:v.Thermal,value:25}]},{name:"Quiet Lightning (T5)",type:"SMG",element:v.Kinetic,rarity:x.Blue,atk:528,rateOfFire:950,compatibility:31.89,ammoCapacity:40,critDamage:30,reloadSpeed:1.35,atkPercent:32.5,modifiers:[{active:!0,name:"Quiet Lightning passive",description:"",type:o.ElementalDamage,element:v.Kinetic,value:25}]}],["Sniper rifle"]:[{name:"Space Cowboy",type:"Sniper rifle",subtype:"Bolt-action sniper",element:v.Thermal,rarity:x.Orange,atk:792,rateOfFire:40,compatibility:163.13,ammoCapacity:5,critDamage:100,reloadSpeed:1.8,atkPercent:46,modifiers:[{active:!0,name:"Space Cowboy passive (T1)",description:"",type:o.ElementalDamage,element:v.Thermal,value:18},{active:!1,name:"Space Cowboy passive (T1)",description:"Boost on next shot after reload",type:o.BallisticDamage,value:60},{active:!1,name:"Space Cowboy passive (T2)",description:"",type:o.ElementalDamage,element:v.Thermal,value:30},{active:!1,name:"Space Cowboy passive (T2)",description:"Boost on next shot after reload",type:o.BallisticDamage,value:100}]},{name:"Horn of the Orca",type:"Sniper rifle",subtype:"Bolt-action sniper",element:v.Kinetic,rarity:x.Orange,atk:797,rateOfFire:40,compatibility:181.26,ammoCapacity:5,critDamage:100,reloadSpeed:1.8,atkPercent:45,modifiers:[{active:!0,name:"Horn of the Orca passive (T1)",description:"",type:o.CritDmgAmp,value:21},{active:!0,name:"Horn of the Orca passive (T1)",description:"",type:o.BallisticDamage,value:4},{active:!1,name:"Horn of the Orca passive (T2)",description:"",type:o.CritDmgAmp,value:35},{active:!1,name:"Horn of the Orca passive (T2)",description:"",type:o.BallisticDamage,value:20}]},{name:"Chocolate Filling",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Chaos,rarity:x.Orange,atk:798,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:50,modifiers:[{active:!0,name:"Chocolate Filling passive (T1)",description:"",type:o.AtkPercent,value:18},{active:!1,name:"Chocolate Filling passive (T2)",description:"",type:o.AtkPercent,value:30}],skillDamage:[{name:"Chocolate Filling passive (T1)",description:"Shots deal an additional 60% of ATK as Chaos DMG, 5s cooldown.",active:!0,element:v.Chaos,damagePercent:60,damageFlat:0,isAptitude:!1,frequency:5},{name:"Chocolate Filling passive (T2)",description:"Shots deal an additional 100% of ATK as Chaos DMG, 5s cooldown.",active:!1,element:v.Chaos,damagePercent:100,damageFlat:0,isAptitude:!1,frequency:5}]},{name:"Crystal Drill",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Kinetic,rarity:x.Purple,atk:685,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:41,modifiers:[{active:!0,name:"Crystal Drill passive (T5)",description:"Increases ADS Ballistic DMG",type:o.BallisticDamage,value:45},{active:!1,name:"Crystal Drill passive (T1)",description:"Increases ADS Ballistic DMG",type:o.BallisticDamage,value:27}]},{name:"Wetland Park",type:"Sniper rifle",subtype:"Bolt-action sniper",element:v.Electrical,rarity:x.Purple,atk:625,rateOfFire:40,compatibility:181.26,ammoCapacity:5,critDamage:100,reloadSpeed:1.8,atkPercent:36,modifiers:[{active:!0,name:"Wetland Park passive (T5)",description:"",type:o.CritDmgAmp,value:50},{active:!1,name:"Wetland Park passive (T1)",description:"",type:o.CritDmgAmp,value:30}]},{name:"Mark of Mesmer",type:"Sniper rifle",subtype:"Bolt-action sniper",element:v.Chaos,rarity:x.Purple,atk:639,rateOfFire:40,compatibility:181.26,ammoCapacity:5,critDamage:100,reloadSpeed:1.8,atkPercent:38,modifiers:[{active:!0,name:"Mark of Mesmer passive (same at all tiers)",description:"Increases ADS Ballistic DMG",type:o.BallisticDamage,value:16},{active:!0,name:"Mark of Mesmer passive (T5)",description:"",type:o.CritDmgAmp,value:30},{active:!1,name:"Mark of Mesmer passive (T1)",description:"",type:o.CritDmgAmp,value:10}]},{name:"Sweet Soul",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Kinetic,rarity:x.Purple,atk:643,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:41,modifiers:[],skillDamage:[{name:"Sweet Soul passive (T5)",description:"Deals 10-40% extra damage based on the damage of the shot (goes through defense again). Averages out to 25%.",active:!0,element:v.Kinetic,damagePercent:25,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.BasedOnBulletDamage,ke.RecalculateDefense,ke.CanCrit]},{name:"Sweet Soul passive (T1)",description:"Deals 10-24% extra damage based on the damage of the shot (goes through defense again). Averages out to 17%.",active:!1,element:v.Kinetic,damagePercent:17,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.BasedOnBulletDamage,ke.RecalculateDefense,ke.CanCrit]}]},{name:"Infernal Decade",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Thermal,rarity:x.Purple,atk:625,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:39,modifiers:[]},{name:"Steel Birch Forest",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Chaos,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:32.5,modifiers:[{active:!0,name:"Steel Birch Forest passive (T5)",description:"",type:o.ElementalDamage,element:v.Chaos,value:25}]},{name:"Raven Feather Tempest",type:"Sniper rifle",subtype:"Bolt-action sniper",element:v.Electrical,rarity:x.Blue,atk:528,rateOfFire:40,compatibility:181.26,ammoCapacity:5,critDamage:100,reloadSpeed:1.8,atkPercent:32.5,modifiers:[{active:!0,name:"Raven Feather Tempest passive (T5)",description:"",type:o.ElementalDamage,element:v.Electrical,value:25}]},{name:"Snowbound Valkyrie",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Frost,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:32.5,modifiers:[{active:!0,name:"Snowbound Valkyrie passive (T5)",description:"",type:o.ElementalDamage,element:v.Frost,value:25}]},{name:"Mulberry",type:"Sniper rifle",subtype:"Bolt-action sniper",element:v.Thermal,rarity:x.Blue,atk:528,rateOfFire:40,compatibility:181.26,ammoCapacity:5,critDamage:100,reloadSpeed:1.8,atkPercent:32.5,modifiers:[{active:!0,name:"Mulberry passive (T5)",description:"",type:o.ElementalDamage,element:v.Thermal,value:25}]},{name:"The Wrench",type:"Sniper rifle",subtype:"Semi-auto sniper",element:v.Kinetic,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:152.59,ammoCapacity:8,critDamage:60,reloadSpeed:1.8,atkPercent:32.5,modifiers:[{active:!0,name:"The Wrench passive (T5)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:25}]}],["Assault rifle"]:[{name:"Anti-Evil Ward",type:"Assault rifle",element:v.Electrical,rarity:x.Orange,atk:793,rateOfFire:600,compatibility:32.78,ammoCapacity:30,critDamage:60,reloadSpeed:1.5,atkPercent:45,modifiers:[{active:!0,name:"Anti-Evil passive (T1)",description:"",type:o.ElementalDamage,element:v.Electrical,value:18},{active:!0,name:"Anti-Evil passive (T1)",description:"",type:o.CritDmgAmp,value:12},{active:!0,name:"Anti-Evil passive (T1)",description:"Crimson Skyshield state (after 50 instances of electrical damage)",type:o.AtkPercent,value:21},{active:!1,name:"Anti-Evil passive (T2)",description:"",type:o.ElementalDamage,element:v.Electrical,value:30},{active:!1,name:"Anti-Evil passive (T2)",description:"",type:o.CritDmgAmp,value:20},{active:!1,name:"Anti-Evil passive (T2)",description:"Crimson Skyshield state (after 50 instances of electrical damage)",type:o.AtkPercent,value:35}]},{name:"Indicator",type:"Assault rifle",element:v.Chaos,rarity:x.Purple,atk:655,rateOfFire:680,compatibility:28.85,ammoCapacity:30,critDamage:60,reloadSpeed:1.5,atkPercent:36,modifiers:[{active:!0,name:"Indicator passive (T5)",description:"Upon entry, increases Ballistic DMG by 5% every second. Max 10 stacks.",type:o.BallisticDamage,value:50},{active:!1,name:"Indicator passive (T1)",description:"Upon entry, increases Ballistic DMG by 5% every second. Max 6 stacks.",type:o.BallisticDamage,value:40}]},{name:"Wild Leer",type:"Assault rifle",element:v.Electrical,rarity:x.Purple,atk:600,rateOfFire:600,compatibility:34.9,ammoCapacity:25,critDamage:60,reloadSpeed:1.5,atkPercent:33,modifiers:[{active:!0,name:"Wild Leer passive (T5)",description:"",type:o.AtkPercent,value:20},{active:!0,name:"Wild Leer passive (T5)",description:"Increases ATK% after hitting a weakspot",type:o.AtkPercent,value:20},{active:!1,name:"Wild Leer passive (T1)",description:"",type:o.AtkPercent,value:12},{active:!1,name:"Wild Leer passive (T1)",description:"Increases ATK% after hitting a weakspot",type:o.AtkPercent,value:12}]},{name:"Fury",type:"Assault rifle",element:v.Thermal,rarity:x.Purple,atk:642,rateOfFire:600,compatibility:34.9,ammoCapacity:25,critDamage:60,reloadSpeed:1.5,atkPercent:33,modifiers:[],skillDamage:[{name:"Fury passive (T5)",description:"Bullets detonate and deal extra 7% of ATK thermal damage after 1-second.",active:!0,element:v.Thermal,damagePercent:7,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.CanCrit]},{name:"Fury passive (T1)",description:"Bullets detonate and deal extra 4.2% of ATK thermal damage after 1-second.",active:!1,element:v.Thermal,damagePercent:4.2,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.CanCrit]}]},{name:"Warhammer",type:"Assault rifle",element:v.Thermal,rarity:x.Blue,atk:528,rateOfFire:680,compatibility:28.85,ammoCapacity:30,critDamage:60,reloadSpeed:1.5,atkPercent:32.5,modifiers:[{active:!0,name:"Warhammer passive (T5)",description:"",type:o.ElementalDamage,element:v.Thermal,value:25}]},{name:"Ender",type:"Assault rifle",element:v.Electrical,rarity:x.Blue,atk:528,rateOfFire:680,compatibility:32.78,ammoCapacity:30,critDamage:60,reloadSpeed:1.5,atkPercent:32.5,modifiers:[{active:!0,name:"Ender passive (T5)",description:"",type:o.ElementalDamage,element:v.Electrical,value:25}]},{name:"Icy Dunes",type:"Assault rifle",element:v.Frost,rarity:x.Blue,atk:528,rateOfFire:600,compatibility:34.9,ammoCapacity:25,critDamage:60,reloadSpeed:1.5,atkPercent:32.5,modifiers:[{active:!0,name:"Icy Dunes passive (T5)",description:"",type:o.ElementalDamage,element:v.Frost,value:25}]},{name:"Ashen Dog",type:"Assault rifle",element:v.Chaos,rarity:x.Blue,atk:528,rateOfFire:680,compatibility:28.85,ammoCapacity:30,critDamage:60,reloadSpeed:1.5,atkPercent:32.5,modifiers:[{active:!0,name:"Ashen Dog passive (T5)",description:"",type:o.ElementalDamage,element:v.Chaos,value:25}]},{name:"Discipline",type:"Assault rifle",element:v.Kinetic,rarity:x.Blue,atk:528,rateOfFire:600,compatibility:34.9,ammoCapacity:25,critDamage:60,reloadSpeed:1.5,atkPercent:32.5,modifiers:[{active:!0,name:"Discipline passive (T5)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:25}]}],Pistol:[{name:"Star Ocean",type:"Pistol",subtype:"Revolver",element:v.Kinetic,rarity:x.Orange,atk:816,rateOfFire:75,compatibility:146.46,ammoCapacity:6,critDamage:60,reloadSpeed:1,atkPercent:52,modifiers:[{active:!0,name:"Star Ocean passive (T1)",description:"",type:o.SkillDamage,value:21},{active:!1,name:"Star Ocean passive (T2)",description:"",type:o.SkillDamage,value:35}],skillDamage:[{name:"Star Ocean passive skill (T1)",description:"When an active skill hits a target, deals Kinetic DMG equal to 9% ATK every 0.5s for 3s. The damage procs immediately on the initial hit, so add another skill DPS source if using multihit skills like Redacted.",active:!0,element:v.Kinetic,damagePercent:9,damageFlat:0,frequency:120,isAptitude:!1},{name:"Star Ocean passive skill (T2)",description:"When an active skill hits a target, deals Kinetic DMG equal to 15% ATK every 0.5s for 3s. The damage procs immediately on the initial hit, so add another skill DPS source if using multihit skills like Redacted.",active:!1,element:v.Kinetic,damagePercent:15,damageFlat:0,frequency:120,isAptitude:!1}]},{name:"Pine Aurora",type:"Pistol",subtype:"Revolver",element:v.Frost,rarity:x.Orange,atk:811,rateOfFire:75,compatibility:146.46,ammoCapacity:6,critDamage:60,reloadSpeed:1,atkPercent:0,modifiers:[{active:!0,name:"Pine Aurora passive (T1)",description:"",type:o.ElementalDamage,element:v.Frost,value:9},{active:!0,name:"Pine Aurora passive (T1)",description:"Increases full squad dmg by 3% when support skill hits (max 5 stacks)",type:o.Generic,value:15},{active:!1,name:"Pine Aurora passive (T2)",description:"",type:o.ElementalDamage,element:v.Frost,value:16},{active:!1,name:"Pine Aurora passive (T2)",description:"Increases full squad dmg by 5% when support skill hits (max 5 stacks)",type:o.Generic,value:25}]},{name:"Psyche-16",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Kinetic,rarity:x.Orange,atk:780,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:49,modifiers:[{active:!0,name:"Psyche-16 passive (T1)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:18},{active:!0,name:"Psyche-16 passive (T1)",description:"Defeating targets or using standard skill grants stacks of Corrosion for 5s. +6% ATK per stack, max 5 stacks.",type:o.AtkPercent,value:30},{active:!1,name:"Psyche-16 passive (T1)",description:"Upon using ult, gain 6% skill DMG per stack of Corrosion for 5s, max 5 stacks.",type:o.SkillDamage,value:30},{active:!1,name:"Psyche-16 passive (T2)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:30},{active:!1,name:"Psyche-16 passive (T2)",description:"Defeating targets or using standard skill grants stacks of Corrosion for 5s. +10% ATK per stack, max 5 stacks.",type:o.AtkPercent,value:50},{active:!1,name:"Psyche-16 passive (T2)",description:"Upon using ult, gain 10% skill DMG per stack of Corrosion for 5s, max 5 stacks.",type:o.SkillDamage,value:50}]},{name:"Wild Wasp Stinger",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Kinetic,rarity:x.Purple,atk:600,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:33,modifiers:[{active:!1,name:"Wild Wasp Stinger passive (T1)",description:"Repeated use of same skill grants stacks that increase ATK by 6%, max 4 stacks.",type:o.AtkPercent,value:24},{active:!0,name:"Wild Wasp Stinger passive (T5)",description:"Repeated use of same skill grants stacks that increase ATK by 10%, max 4 stacks.",type:o.AtkPercent,value:40}]},{name:"Yojimbo",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Kinetic,rarity:x.Purple,atk:685,rateOfFire:75,compatibility:146.46,ammoCapacity:6,critDamage:60,reloadSpeed:1,atkPercent:40,modifiers:[{active:!1,name:"Yojimbo passive (T1)",description:"",type:o.SkillDamage,value:25.2},{active:!0,name:"Yojimbo passive (T5)",description:"",type:o.SkillDamage,value:42}]},{name:"Concrete Jungle",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Kinetic,rarity:x.Purple,atk:645,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:40,modifiers:[{active:!0,name:"Concrete Jungle passive (T1)",description:"Increases Ballistic DMG, Standard Skill DMG, and Ultimate Skill DMG by 16.8%.",type:o.BallisticDamage,value:16.8},{active:!0,name:"Concrete Jungle passive (T1)",description:"Increases Ballistic DMG, Standard Skill DMG, and Ultimate Skill DMG by 16.8%.",type:o.SkillDamage,value:16.8},{active:!1,name:"Concrete Jungle passive (T5)",description:"Increases Ballistic DMG, Standard Skill DMG, and Ultimate Skill DMG by 28%.",type:o.BallisticDamage,value:28},{active:!1,name:"Concrete Jungle passive (T5)",description:"Increases Ballistic DMG, Standard Skill DMG, and Ultimate Skill DMG by 28%.",type:o.SkillDamage,value:28}]},{name:"Wild Construct",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Kinetic,rarity:x.Purple,atk:643,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:43,modifiers:[{active:!1,name:"Wild Construct passive (T1)",description:"Increases damage to targets with less than 30% HP by 24%. Value here is average (.3*.24)",type:o.Generic,value:7.2},{active:!0,name:"Wild Construct passive (T5)",description:"Increases damage to targets with less than 30% HP by 40%. Value here is average (.3*.4)",type:o.Generic,value:12}]},{name:"Lucky Times",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Thermal,rarity:x.Purple,atk:653,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:43,modifiers:[],skillDamage:[{name:"Lucky Times passive (T5)",description:"After a shot hits a weakspot, the next bullet deals aptitude DMG equal to 25% of ATK",active:!0,element:v.Thermal,damagePercent:25,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.CanCrit]},{name:"Lucky Times passive (T1)",description:"After a shot hits a weakspot, the next bullet deals aptitude DMG equal to 15% of ATK",active:!1,element:v.Thermal,damagePercent:15,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.CanCrit]}]},{name:"Nexus",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Chaos,rarity:x.Purple,atk:632,rateOfFire:75,compatibility:146.46,ammoCapacity:6,critDamage:60,reloadSpeed:1,atkPercent:40,modifiers:[{active:!1,name:"Nexus passive (T1)",description:"Increases skill DMG by 6% per second. Max 6 stacks.",type:o.SkillDamage,value:36},{active:!0,name:"Nexus passive (T5)",description:"Increases skill DMG by 6% per second. Max 10 stacks.",type:o.SkillDamage,value:60}]},{name:"Halftorch",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Thermal,rarity:x.Blue,atk:528,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:32.5,modifiers:[{active:!1,name:"Halftorch passive (T1)",description:"",type:o.ElementalDamage,element:v.Thermal,value:15},{active:!0,name:"Halftorch passive (T5)",description:"",type:o.ElementalDamage,element:v.Thermal,value:25}]},{name:"Skywall",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Electrical,rarity:x.Blue,atk:528,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:32.5,modifiers:[{active:!1,name:"Skywall passive (T1)",description:"",type:o.ElementalDamage,element:v.Electrical,value:15},{active:!0,name:"Skywall passive (T5)",description:"",type:o.ElementalDamage,element:v.Electrical,value:25}]},{name:"Pisco",type:"Pistol",subtype:"Semi-auto Pistol",element:v.Chaos,rarity:x.Blue,atk:528,rateOfFire:240,compatibility:94.93,ammoCapacity:12,critDamage:30,reloadSpeed:1.2,atkPercent:32.5,modifiers:[{active:!1,name:"Pisco passive (T1)",description:"",type:o.ElementalDamage,element:v.Chaos,value:15},{active:!0,name:"Pisco passive (T5)",description:"",type:o.ElementalDamage,element:v.Chaos,value:25}]},{name:"Muddy Snow",type:"Pistol",subtype:"Revolver",element:v.Frost,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:146.46,ammoCapacity:6,critDamage:60,reloadSpeed:1,atkPercent:32.5,modifiers:[{active:!1,name:"Muddy Snow passive (T1)",description:"",type:o.ElementalDamage,element:v.Frost,value:15},{active:!0,name:"Muddy Snow passive (T5)",description:"",type:o.ElementalDamage,element:v.Frost,value:25}]},{name:"Hammer Hit",type:"Pistol",subtype:"Revolver",element:v.Kinetic,rarity:x.Blue,atk:528,rateOfFire:75,compatibility:146.46,ammoCapacity:6,critDamage:60,reloadSpeed:1,atkPercent:32.5,modifiers:[{active:!1,name:"Hammer Hit passive (T1)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:15},{active:!0,name:"Hammer Hit passive (T5)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:25}]}],Crossbow:[{name:"Neptune Nova",type:"Crossbow",element:v.Frost,rarity:x.Orange,atk:793,rateOfFire:150,compatibility:112.78,ammoCapacity:1,critDamage:0,reloadSpeed:0,atkPercent:48,modifiers:[{active:!0,name:"Neptune Nova passive (T1)",description:"",type:o.ElementalDamage,element:v.Frost,value:18},{active:!1,name:"Neptune Nova passive (T2)",description:"",type:o.ElementalDamage,element:v.Frost,value:30},{active:!0,name:"Neptune Nova passive (T1)",description:"Gain 1 stack of Galaxy Wind every second when stationary and per dodge. +4.8% ATK per stack, max 5 stacks. Lose 1 stack per sec when moving.",type:o.AtkPercent,value:24},{active:!1,name:"Neptune Nova passive (T2)",description:"Gain 1 stack of Galaxy Wind every second when stationary and per dodge. +8% ATK per stack, max 5 stacks. Lose 1 stack per sec when moving.",type:o.AtkPercent,value:40}]},{name:"Alpine Gentian",type:"Crossbow",element:v.Frost,rarity:x.Purple,atk:600,rateOfFire:150,compatibility:112.78,ammoCapacity:1,critDamage:0,reloadSpeed:0,atkPercent:33,modifiers:[{active:!1,name:"Alpine Gentian passive (T1)",description:"Gain Chill stacks when using standard skill, dodging, or hitting a target. +0.6% ballistic DMG per stack, max 50 stacks. Lose 1 stacks per 0.2 sec.",type:o.BallisticDamage,value:30},{active:!0,name:"Alpine Gentian passive (T5)",description:"Gain Chill stacks when using standard skill, dodging, or hitting a target. +1% ballistic DMG per stack, max 50 stacks. Lose 1 stacks per 0.2 sec.",type:o.BallisticDamage,value:50}]},{name:"Burbank Sky",type:"Crossbow",element:v.Frost,rarity:x.Blue,atk:528,rateOfFire:150,compatibility:112.78,ammoCapacity:1,critDamage:0,reloadSpeed:0,atkPercent:32.5,modifiers:[{active:!1,name:"Burbank Sky passive (T1)",description:"",type:o.ElementalDamage,element:v.Frost,value:15},{active:!0,name:"Burbank Sky passive (T5)",description:"",type:o.ElementalDamage,element:v.Kinetic,value:25}]}]},gs=Fa(ps);function ys(e,t){switch(e){case oe.SMG:return 14+14+11+11;case oe.Sniper:return 11+11+11+14;case oe.Shotgun:return t===Qa.ShotgunDoubleBarrel?20+17:20+17+17;case oe.Pistol:return t===Qa.PistolSemi?11+14+11:11+14+11+11;case oe.AssaultRifle:return 11+11+9+15;case oe.Crossbow:return 15+20}}function hs(e){switch(e){case oe.SMG:return 113+89+106+75;case oe.Sniper:return 0;case oe.Shotgun:return 0;case oe.Pistol:return 0;case oe.AssaultRifle:return 0;case oe.Crossbow:return 0}return 0}var bs=Object.defineProperty,ks=Object.getOwnPropertyDescriptor,Ft=(e,t,a,l)=>{for(var n=l>1?void 0:l?ks(t,a):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(n=(l?r(t,a,n):r(n))||n);return l&&n&&bs(t,a,n),n};let pt=class{constructor(){te(this,"name");te(this,"description");te(this,"baseAtk");te(this,"baseHp");te(this,"weaponType");te(this,"weaponName");te(this,"rarity");te(this,"modifiers");te(this,"skillDamage")}};Ft([fe(String)],pt.prototype,"name",2);Ft([fe(String)],pt.prototype,"description",2);Ft([fe(Number)],pt.prototype,"baseAtk",2);Ft([fe(Number)],pt.prototype,"baseHp",2);Ft([fe(String)],pt.prototype,"weaponType",2);Ft([fe(String)],pt.prototype,"weaponName",2);Ft([fe(String)],pt.prototype,"rarity",2);Ft([Ht(We)],pt.prototype,"modifiers",2);Ft([Ht(je)],pt.prototype,"skillDamage",2);pt=Ft([Pa],pt);const Wi="Low investment: no ATK gun parts, +0 logistics, no ATK talents, M2",ji="Max investment: full ATK gun parts, +15 logis, 3x10% ATK talents, M5";function dn(e,t,a){const l=e.baseAtk+t+14,n=e.rarity===x.Purple?.1:.04,i=1+a+n+.04;return l*i}function fn(e,t,a,l,n){const i=e.baseAtk+t+ys(e.weaponType,l)+(n===void 0?200:n),r=.1,u=1+a+r+.2+.3;return i*u}const Ss=new xa(pt);function Re(e,t,a,l){const n=Ss.parse(e);return n.modifiers=n.modifiers.concat(t.map(i=>cs.parse(i))),n.description=a,n.weaponName=l,n}const Ul={name:"Acacia - Kaguya",description:"",baseAtk:1259,baseHp:22500,weaponType:oe.Pistol,weaponName:"",rarity:x.Orange,modifiers:[]},ws=[{active:!0,name:"Kaguya support skill (M2 + frost gun)",description:"Reduces all elemental resistances by 24% * 1.4 for 10s when equipped with a frost gun.",type:o.ElementalResist,value:33.6},{active:!1,name:"Kaguya support skill (M4 + frost gun)",description:"Reduces all elemental resistances by 26.4% * 1.4 for 10s when equipped with a frost gun.",type:o.ElementalResist,value:36.96},{active:!1,name:"Kaguya deiwos",description:"Increases team DMG vs move slowed enemies by 10%. +1% per 100 index. Assumes 849 index with Pine.",type:o.Generic,value:18.49},{active:!0,name:"Pine Aurora passive (T1)",description:"Increases full squad dmg by 3.6% when support skill hits (max 5 stacks)",type:o.Generic,value:18},{active:!0,name:"Pine Aurora passive (T1)",description:"Increase deployed operative's Frost DMG by 5.4%",type:o.ElementalDamage,element:v.Frost,value:5.4},{active:!1,name:"Pine Aurora passive (T2)",description:"Increases full squad dmg by 6% when support skill hits (max 5 stacks)",type:o.Generic,value:30},{active:!1,name:"Pine Aurora passive (T2)",description:"Increase deployed operative's Frost DMG by 9%",type:o.ElementalDamage,element:v.Frost,value:9}],As=[{active:!0,name:"Kaguya support skill",description:"Reduces all elemental resistances by 24% for 10s.",type:o.ElementalResist,value:24},{active:!1,name:"Kaguya support skill (M4)",description:"Reduces all elemental resistances by 26.4% for 10s.",type:o.ElementalResist,value:26.4},{active:!1,name:"Kaguya deiwos",description:"Increases team DMG vs move slowed enemies by 10%. +1% per 100 index. Assumes 300 index.",type:o.Generic,value:13},{active:!0,name:"Prismatic Igniter passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 2840 Kaguya ATK.",type:o.FlatAtk,value:Math.round(2840*.132)},{active:!1,name:"Prismatic Igniter passive (T5)",description:"Grants 22% of ATK for 15s. Based on 2840 Kaguya ATK.",type:o.FlatAtk,value:Math.round(2840*.22)}],Ts=[{active:!0,name:"Kaguya support skill",description:"Reduces all elemental resistances by 24% for 10s.",type:o.ElementalResist,value:24},{active:!1,name:"Kaguya support skill (M4)",description:"Reduces all elemental resistances by 26.4% for 10s.",type:o.ElementalResist,value:26.4},{active:!1,name:"Kaguya deiwos",description:"Increases team DMG vs move slowed enemies by 10%. +1% per 100 index. Assumes 300 index.",type:o.Generic,value:13},{active:!0,name:"Prismatic Igniter passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 4304 Kaguya ATK.",type:o.FlatAtk,value:Math.round(4304*.132)},{active:!1,name:"Prismatic Igniter passive (T5)",description:"Grants 22% of ATK for 15s. Based on 4304 Kaguya ATK.",type:o.FlatAtk,value:Math.round(4304*.22)}],Cs=[Re(Ul,ws,"","Pine Aurora"),Re(Ul,As,"Low investment: no ATK gun parts, +0 logistics, no ATK talents, and M2 (2840 ATK)","Prismatic Igniter"),Re(Ul,Ts,"Max investment: full ATK gun parts, +15 logis, 3x10% ATK talents, M5 (4304 ATK)","Prismatic Igniter")],zn={name:"Chenxing - The Observer",description:"",baseAtk:1554,baseHp:19800,weaponType:oe.AssaultRifle,weaponName:"",rarity:x.Purple,modifiers:[{active:!0,name:"Observer support skill",description:"Heal items grant 10% skill DMG for 3s.",type:o.SkillDamage,value:10},{active:!1,name:"Observer support skill (M1)",description:"Drop pod aura increases skill DMG by 15%.",type:o.SkillDamage,value:15},{active:!0,name:"Observer support skill (M3)",description:"Drop pod aura increases skill DMG by 30%.",type:o.SkillDamage,value:30}]},_s=[{active:!0,name:"Strawberry Shortcake - passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 3410 Observer ATK.",type:o.FlatAtk,value:Math.round(3410*.132)},{active:!1,name:"Strawberry Shortcake - passive (T5)",description:"Grants 22% of ATK for 15s. Based on 3410 Observer ATK.",type:o.FlatAtk,value:Math.round(3410*.22)}],Ds=[{active:!0,name:"Strawberry Shortcake - passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 4892 Observer ATK.",type:o.FlatAtk,value:Math.round(4892*.132)},{active:!1,name:"Strawberry Shortcake - passive (T5)",description:"Grants 22% of ATK for 15s. Based on 4892 Observer ATK.",type:o.FlatAtk,value:Math.round(4892*.22)}],Ms=[Re(zn,_s,"Low investment: no ATK gun parts, +0 logistics, no ATK talents, and M5 (3410 ATK)","Strawberry Shortcake"),Re(zn,Ds,"Max investment: full ATK gun parts, +15 logis, 3x10% ATK talents, M5 (4892 ATK)","Strawberry Shortcake")],Hn={name:"Acacia - Redacted",description:"",baseAtk:960,baseHp:19572,weaponType:oe.Pistol,weaponName:"",rarity:x.Purple,modifiers:[{active:!1,name:"Redacted ult",description:"Operatives within range of ult 10% ATK%.",type:o.AtkPercent,value:10}]},xs=[{active:!0,name:"Prismatic Igniter - passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 2495 Redacted ATK.",type:o.FlatAtk,value:Math.round(2495*.132)},{active:!1,name:"Prismatic Igniter - passive (T5)",description:"Grants 22% of ATK for 15s. Based on 2495 Redacted ATK.",type:o.FlatAtk,value:Math.round(2495*.22)}],Ps=[{active:!0,name:"Prismatic Igniter - passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 3706 Redacted ATK.",type:o.FlatAtk,value:Math.round(3706*.132)},{active:!1,name:"Prismatic Igniter - passive (T5)",description:"Grants 22% of ATK for 15s. Based on 3706 Redacted ATK.",type:o.FlatAtk,value:Math.round(3706*.22)}],Fs=[Re(Hn,xs,"Low investment: no ATK gun parts, +0 logistics, no ATK talents, and M5 (2495 ATK)","Prismatic Igniter"),Re(Hn,Ps,"Max investment: full ATK gun parts, +15 logis, 3x10% ATK talents, M5 (3706 ATK)","Prismatic Igniter")],ba={name:"Mauxir - Shadow Ka",description:"",baseAtk:1472,baseHp:27375,weaponType:oe.SMG,weaponName:"",rarity:x.Orange,modifiers:[{active:!0,name:"Shadow Ka support skill",description:"Shooting Kebechet transfers 110% of damage dealt.",type:o.FinalDamage,value:10},{active:!1,name:"Shadow Ka support skill (M5)",description:"Shooting Kebechet transfers 120% of damage dealt.",type:o.FinalDamage,value:20},{active:!1,name:"Shadow Ka deiwos",description:"1 shot every 10 seconds is a guaranteed crit and gains 140% crit DMG amp (300 index)",type:o.CritDmgAmp,value:140},{active:!1,name:"Shadow Ka deiwos (max alignment)",description:"1 shot every 10 seconds is a guaranteed crit and gains 203.6% crit DMG amp (300 index + 3 max rolls)",type:o.CritDmgAmp,value:80+20*6.18}]},Es=[{active:!0,name:"Alloy Truth passive (T1)",description:"Using support skill grants 15% crit dmg amp for 15s.",type:o.CritDmgAmp,value:15},{active:!1,name:"Alloy Truth passive (T2)",description:"Using support skill grants 25% crit dmg amp for 15s.",type:o.CritDmgAmp,value:25},{active:!0,name:"Alloy Truth passive (T1)",description:"Using support skill grants 1.8% loadout HP of ATK for 15s. Based on 44688 loadout HP.",type:o.FlatAtk,value:Math.round(44688*.018)},{active:!1,name:"Alloy Truth passive (T2)",description:"Using support skill grants 3% loadout HP of ATK for 15s. Based on 44688 loadout HP.",type:o.FlatAtk,value:Math.round(44688*.03)}],qs=[{active:!0,name:"Alloy Truth passive (T1)",description:"Using support skill grants 15% crit dmg amp for 15s.",type:o.CritDmgAmp,value:15},{active:!1,name:"Alloy Truth passive (T2)",description:"Using support skill grants 25% crit dmg amp for 15s.",type:o.CritDmgAmp,value:25},{active:!0,name:"Alloy Truth passive (T1)",description:"Using support skill grants 1.8% loadout HP of ATK for 15s. Based on 66173 loadout HP.",type:o.FlatAtk,value:Math.round(66173*.018)},{active:!1,name:"Alloy Truth passive (T2)",description:"Using support skill grants 3% loadout HP of ATK for 15s. Based on 66173 loadout HP.",type:o.FlatAtk,value:Math.round(66173*.03)}],Bs=[{active:!0,name:"Wave passive (T5)",description:"Grants 0.2% loadout HP of ATK every time support skill does damage, max 10 stacks. Based on 38894 loadout HP and half effectiveness due to very slow stacking w/ Mauxir.",type:o.FlatAtk,value:Math.round(38894*.02*.5)}],Vs=(27375+hs(oe.SMG)+3164)*(1+.33+.3+.2+.1),Os=[{active:!0,name:"Wave passive (T5)",description:"Grants 0.2% loadout HP of ATK every time support skill does damage, max 10 stacks. Based on 59679 loadout HP and 2/3 due to slow stacking w/ Mauxir but also M3 duration boost.",type:o.FlatAtk,value:Math.round(Vs*.02/3*2)}],Rs=[{active:!0,name:"Frigatebird passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 3155 Shadow Ka ATK.",type:o.FlatAtk,value:Math.round(3155*.132)},{active:!1,name:"Frigatebird passive (T5)",description:"Grants 22% of ATK for 15s. Based on 3155 Shadow Ka ATK.",type:o.FlatAtk,value:Math.round(3155*.22)}],Ks=[{active:!0,name:"Frigatebird passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 4736 Shadow Ka ATK.",type:o.FlatAtk,value:Math.round(4736*.132)},{active:!1,name:"Frigatebird passive (T5)",description:"Grants 22% of ATK for 15s. Based on 4736 Shadow Ka ATK.",type:o.FlatAtk,value:Math.round(4736*.22)}],Is=[Re(ba,Es,"Low investment: no HP gun parts, +0 logistics, no HP talents, and M2 (44688 loadout HP)","Alloy Truth"),Re(ba,qs,"Max investment: full HP gun parts, +15 logis, 3x10% HP talents, M5 (66173 loadout HP)","Alloy Truth"),Re(ba,Bs,"Low investment: no HP gun parts, +0 logistics, no HP talents, and M2 (38894 loadout HP)","Wave"),Re(ba,Os,"Max investment: full HP gun parts, +15 logis, 3x10% HP talents, M5 (59679 loadout HP)","Wave"),Re(ba,Rs,"Low investment: no ATK gun parts, +0 logistics, no ATK talents, and M2 (3155 ATK)","Frigatebird"),Re(ba,Ks,"Max investment: full ATK gun parts, +15 logis, 3x10% ATK talents, M5 (4736 ATK)","Frigatebird")],$n={name:"Fritia - Little Sunshine",description:"",baseAtk:1219,baseHp:20712,weaponType:oe.AssaultRifle,weaponName:"",rarity:x.Purple,modifiers:[{active:!0,name:"Sunshine Deiwos",description:"Increases team damage dealt towards burning targets by 8%. +1% per 100 alignment. Assumes 300 alignment index.",type:o.Generic,value:11}]},Ls=[{active:!0,name:"Strawberry Shortcake - passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 2894 Sunshine ATK.",type:o.FlatAtk,value:Math.round(2894*.132)},{active:!1,name:"Strawberry Shortcake - passive (T5)",description:"Grants 22% of ATK for 15s. Based on 2894 Sunshine ATK.",type:o.FlatAtk,value:Math.round(2894*.22)}],zs=[{active:!0,name:"Strawberry Shortcake - passive (T1)",description:"Grants 13.2% of ATK for 15s. Based on 4222 Sunshine ATK.",type:o.FlatAtk,value:Math.round(4222*.132)},{active:!1,name:"Strawberry Shortcake - passive (T5)",description:"Grants 22% of ATK for 15s. Based on 4222 Sunshine ATK.",type:o.FlatAtk,value:Math.round(4222*.22)}],Hs=[Re($n,Ls,"Low investment: no ATK gun parts, +0 logistics, no ATK talents, and M5 (2894 ATK)","Strawberry Shortcake"),Re($n,zs,"Max investment: full ATK gun parts, +15 logis, 3x10% ATK talents, M5 (4222 ATK)","Strawberry Shortcake")],fa={name:"Eatchel - The Cub",description:"",baseAtk:1328,baseHp:22382,weaponType:oe.Shotgun,weaponName:"",rarity:x.Orange,modifiers:[]},sa=Math.round(dn(fa,646,.4)),$s=[{active:!1,name:"Lapis Lazuli - passive (T1)",description:`Grants 13.2% of ATK for 15s. Based on ${sa} The Cub ATK.`,type:o.FlatAtk,value:Math.round(sa*.132)},{active:!0,name:"Lapis Lazuli - passive (T5)",description:`Grants 22% of ATK for 15s. Based on ${sa} The Cub ATK.`,type:o.FlatAtk,value:Math.round(sa*.22)},{active:!0,name:"The Cub Icebound Claws (M1)",description:`Two claws from M1. Based on ${sa} ATK, Lux logistics, 300 AI.`,type:o.FlatAtk,value:Math.round((sa*.5+240)*.05*2*(1+(.24+.38)/2))}],ua=Math.round(fn(fa,646,.4,Qa.ShotgunPump,198)),Ns=[{active:!1,name:"Lapis Lazuli - passive (T1)",description:`Grants 13.2% of ATK for 15s. Based on ${ua} The Cub ATK.`,type:o.FlatAtk,value:Math.round(ua*.132)},{active:!0,name:"Lapis Lazuli - passive (T5)",description:`Grants 22% of ATK for 15s. Based on ${ua} The Cub ATK.`,type:o.FlatAtk,value:Math.round(ua*.22)},{active:!0,name:"The Cub Icebound Claws (M1)",description:`Two claws from M1. Based on ${ua} ATK, Lux logistics, 3x 106 Alignment talents, 3x heal bonus talents.`,type:o.FlatAtk,value:Math.round((ua*.5+240)*.05*2*(1+(.24+.5708+.106*3)/2))}],Nn=Math.round(dn(fa,789,.5)),Gn=Math.round(fn(fa,789,.5,Qa.ShotgunPump,198)),Gs=[{active:!0,name:"Blitzing Fangs - passive (T1)",description:"Converts 10.8% of up to 10k stored healing into ATK",type:o.FlatAtk,value:1080},{active:!1,name:"Blitzing Fangs - passive (T2)",description:"Converts 18% of up to 10k stored healing into ATK",type:o.FlatAtk,value:1800},{active:!0,name:"The Cub Icebound Claws (M1, Fangs T1)",description:`Two claws from M1 with low investment. Based on ${Nn} ATK, T1 Fangs, Lux logistics, 300 AI.`,type:o.FlatAtk,value:Math.round((Nn*.5+240)*.05*2*(1+(.24+.18+.38)/2))},{active:!1,name:"The Cub Icebound Claws (M1, Fanges T2)",description:`Two claws from M1 with max investment. Based on ${Gn} ATK, T2 Fangs, Lux logistics, 3x 106 Alignment talents, 3x heal bonus talents.`,type:o.FlatAtk,value:Math.round((Gn*.5+240)*.05*2*(1+(.24+.3+.5708+.106*3)/2))}],Us=[Re(fa,$s,`${Wi} (${sa} ATK)`,"Lapis Lazuli"),Re(fa,Ns,`${ji} (${ua} ATK)`,"Lapis Lazuli"),Re(fa,Gs,"Signature weapon","Blitzing Fangs")],Ha={name:"Tess - The Magician",description:"",baseAtk:1253,baseHp:17975,weaponType:oe.Sniper,weaponName:"",rarity:x.Orange,modifiers:[{active:!0,name:"The Magician support",description:"Operatives gain 30% elemental damage boost for 10s, decreasing by 1% per second",type:o.ElementalDamage,value:30}]},Ka=Math.round(dn(Ha,646,.4)),Ws=[{active:!1,name:"Deep Sea's Call - passive (T1)",description:`Grants 13.2% of ATK for 15s. Based on ${Ka} The Magician ATK.`,type:o.FlatAtk,value:Math.round(Ka*.132)},{active:!0,name:"Deep Sea's Call - passive (T5)",description:`Grants 22% of ATK for 15s. Based on ${Ka} The Magician ATK.`,type:o.FlatAtk,value:Math.round(Ka*.22)}],Ia=Math.round(fn(Ha,646,.4)),js=[{active:!1,name:"Deep Sea's Call - passive (T1)",description:`Grants 13.2% of ATK for 15s. Based on ${Ia} The Magician ATK.`,type:o.FlatAtk,value:Math.round(Ia*.132)},{active:!0,name:"Deep Sea's Call - passive (T5)",description:`Grants 22% of ATK for 15s. Based on ${Ia} The Magician ATK.`,type:o.FlatAtk,value:Math.round(Ia*.22)}],Qs=[{active:!0,name:"Eccentric Joker - passive (T1)",description:"After using ult, grants 24% damage boost to deployed operative",type:o.Generic,value:24},{active:!1,name:"Eccentric Joker - passive (T2)",description:"After using ult, grants 40% damage boost to deployed operative",type:o.Generic,value:40}],Js=[Re(Ha,Ws,`${Wi} (${Ka} ATK)`,"Deep Sea's Call"),Re(Ha,js,`${ji} (${Ia} ATK)`,"Deep Sea's Call"),Re(Ha,Qs,"Max investment: signature weapon","Eccentric Joker")],Zs=[...Is,...Js,...Us,...Cs,...Fs,...Ms,...Hs],Ys=Fa(Zs);const Xs={style:{display:"inline-block"}},eu=A("div",{class:"text-h6"},"Choose support operative",-1),tu=["src"],au={class:"text-body1"},lu={class:"text-body1"},nu=["src"],iu="selected",ru=an({__name:"AddSupportOperativeButton",emits:["selected"],setup(e,{emit:t}){const a=Z(!1),l=Ys;function n(u){a.value=!1,t(iu,u)}function i(u){switch(u){case x.Orange:return"orange-rarity";case x.Purple:return"purple-rarity";case x.Blue:throw new Error("Operatives are never blue")}}function r(u){switch(u){case oe.Shotgun:return"weapon_type_shotgun.png";case oe.SMG:return"weapon_type_smg.png";case oe.Sniper:return"weapon_type_sniper.png";case oe.AssaultRifle:return"weapon_type_ar.png";case oe.Pistol:return"weapon_type_pistol.png"}}return(u,d)=>(be(),xe("div",Xs,[D($e,{label:"Add support operative",onClick:d[0]||(d[0]=p=>a.value=!0),color:"primary"}),D(Ua,{modelValue:a.value,"onUpdate:modelValue":d[1]||(d[1]=p=>a.value=p)},{default:N(()=>[D(yl,{style:{"max-width":"1000px"}},{default:N(()=>[D(aa,null,{default:N(()=>[eu]),_:1}),D(aa,null,{default:N(()=>[D(Ga,{bordered:"",separator:""},{default:N(()=>[(be(!0),xe(Yt,null,ca(De(l),p=>pl((be(),vt(Na,{key:p.name,class:gl(i(p.rarity)),clickable:"",onClick:c=>n(p)},{default:N(()=>[D(xt,{avatar:""},{default:N(()=>[D(Ql,{size:"100px",square:""},{default:N(()=>[A("img",{src:`character_icons/${p.name}.png`},null,8,tu)]),_:2},1024)]),_:2},1024),D(xt,null,{default:N(()=>[D(Ca,{class:"text-h6"},{default:N(()=>[ue(ce(p.name),1)]),_:2},1024),D(Ca,{caption:""},{default:N(()=>[A("div",au," Weapon: "+ce(p.weaponName),1),A("div",lu,ce(p.description),1)]),_:2},1024)]),_:2},1024),D(xt,{side:""},{default:N(()=>[A("img",{src:r(p.weaponType)},null,8,nu)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[$a]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});const ou={style:{display:"inline-block"}},su=A("div",{class:"text-h6"},"Choose a logistic",-1),uu={key:0,class:"text-body1"},cu={key:1,class:"text-body1"},du="selected",Un=an({__name:"PickLogisticsButton",props:{label:{},logisticList:{}},emits:["selected"],setup(e,{emit:t}){const a=e,l=Z(!1);function n(r){l.value=!1,t(du,r)}function i(r){switch(r){case x.Orange:return"orange-rarity";case x.Purple:return"purple-rarity";case x.Blue:return"blue-rarity"}}return(r,u)=>(be(),xe("div",ou,[D($e,{label:a.label,onClick:u[0]||(u[0]=d=>l.value=!0),color:"primary"},null,8,["label"]),D(Ua,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=d=>l.value=d)},{default:N(()=>[D(yl,null,{default:N(()=>[D(aa,null,{default:N(()=>[su]),_:1}),D(aa,null,{default:N(()=>[D(Ga,{bordered:"",separator:""},{default:N(()=>[(be(!0),xe(Yt,null,ca(r.logisticList,d=>pl((be(),vt(Na,{class:gl(i(d.rarity)),style:{"min-height":"60px"},key:d.name,clickable:"",onClick:p=>n(d)},{default:N(()=>[D(xt,{class:"text-h6"},{default:N(()=>[D(Ca,null,{default:N(()=>[ue(ce(d.name),1)]),_:2},1024),D(Ca,{caption:""},{default:N(()=>[d.modifiers2?(be(),xe("div",uu," 2-set: "+ce(d.modifiers2[0].description),1)):Oe("",!0),d.modifiers3?(be(),xe("div",cu," 3-set: "+ce(d.modifiers3.map(p=>p.description).join(`
`)),1)):Oe("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[$a]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),fu=[{name:"Amano-Iwato",rarity:x.Orange,maxAtk:200,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Amano-Iwato 2-set",description:"Ballistic DMG +24%",type:o.BallisticDamage,value:24}],modifiers3:[{active:!0,name:"Amano-Iwato 3-set",description:"ADS ballistic DMG +10% on crit, max 5 stacks. Cleared when operative leaves the field.",type:o.BallisticDamage,value:50}]},{name:"Dharma",rarity:x.Orange,maxAtk:196,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Dharma 2-set",description:"Ballistic DMG +24%",type:o.BallisticDamage,value:24}],modifiers3:[{active:!0,name:"Dharma 3-set",description:"After using standard skill, hipfire ballistic DMG +46% for 5s.",type:o.BallisticDamage,value:46}]},{name:"Dziady",rarity:x.Orange,maxAtk:222,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Dziady 2-set",description:"Skill DMG +24%",type:o.SkillDamage,value:24}],modifiers3:[{active:!0,name:"Dziady 3-set",description:"Increases damage of DoT effects by 50%",type:o.SkillDamage,value:50,target:"DoT"},{active:!0,name:"Dziady 3-set",description:`DoTs ignore 1% DEF per stack, up to 20 stacks.
Coded as a final damage multiplier (assuming 1000  DEF) as DPS calc doesn't support DEF pen on an individual skill yet.`,type:o.FinalSkillDamage,value:(1/(1+800/1e3)/.5-1)*100,target:"DoT"}]},{name:"Mingyi",rarity:x.Orange,maxAtk:194,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Mingyi 2-set",description:"Ballistic DMG +24%",type:o.BallisticDamage,value:24}],modifiers3:[{active:!0,name:"Mingyi 3-set",description:"Increases ATK by 1% for 3s when dealing electrical damage. Max 45 stacks.",type:o.AtkPercent,value:45}]},{name:"Mizuho",rarity:x.Orange,maxAtk:206,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Mizuho 2-set",description:"Ballistic DMG +24%",type:o.BallisticDamage,value:24}],modifiers3:[{active:!0,name:"Mizuho 3-set",description:"When shooting continuously, +3% ballistic DMG per shot. Max 20 stacks.",type:o.BallisticDamage,value:60}]},{name:"Eli",rarity:x.Orange,maxAtk:202,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Eli 2-set",description:"Atk +20%",type:o.AtkPercent,value:20}],modifiers3:[{active:!0,name:"Eli 3-set",description:"When shot doesn't crit, gain a stack of Cyclonic Fissure for 5s. +3% Frost DMG per stack, max 20 stacks. Crits remove 1 stack, dodging refreshes duration.",type:o.ElementalDamage,element:v.Frost,value:60}]},{name:"Thebes",rarity:x.Orange,maxAtk:212,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Thebes 2-set",description:"Skill DMG +24%",type:o.SkillDamage,value:24}],modifiers3:[{active:!0,name:"Thebes 3-set",description:"Each time a Standard/Support/Ultimate skill hits the target, increases own ATK +2% for 5s. Max 20 stacks.",type:o.AtkPercent,value:40}]},{name:"Akitsu",rarity:x.Orange,maxAtk:198,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Akitsu 2-set",description:"Skill DMG +24%",type:o.SkillDamage,value:24}],modifiers3:[{active:!0,name:"Akitsu 3-set",description:"Using standard skill grants 1 stack, defeating enemy 5 stacks, ult 10 stacks. At 15 stacks, increase ATK by 25% for 10s.",type:o.AtkPercent,value:25},{active:!0,name:"Akitsu 3-set",description:"At 30 stacks, increase kinetic DMG by 20% for 10s. Stacks cleared upon hitting 30.",type:o.ElementalDamage,element:v.Kinetic,value:20}]},{name:"Twilight",rarity:x.Orange,maxAtk:198,levelL:15,levelM:15,levelR:15,modifiers2:[{active:!0,name:"Twilight 2-set",description:"Skill DMG +24%",type:o.SkillDamage,value:24}],modifiers3:[{active:!0,name:"Twilight 3-set",description:"Dealing DMG with active skill reduces target's resistance to that type of DMG -16% for 5s.",type:o.ElementalResist,value:16}]},{name:"Troubadour",rarity:x.Purple,maxAtk:148,levelL:12,levelM:12,levelR:12,modifiers2:[{active:!0,name:"Troubadour 2-set",description:"Ballistic DMG +16%",type:o.BallisticDamage,value:16}],modifiers3:[{active:!0,name:"Troubadour 3-set",description:"Thermal/frost/electrical ballistic DMG + 32%",type:o.BallisticDamage,value:32}]},{name:"Argo",rarity:x.Purple,maxAtk:148,levelL:12,levelM:12,levelR:12,modifiers2:[{active:!0,name:"Argo 2-set",description:"Ballistic DMG +16%",type:o.BallisticDamage,value:16}],modifiers3:[{active:!0,name:"Argo 3-set",description:"Kinetic/Chaos ballistic DMG + 32%",type:o.BallisticDamage,value:32}]}],mu=Fa(fu),vu=[{name:"Amarna",rarity:x.Orange,maxAtk:200,levelL:15,levelM:15,levelR:15,modifiers3:[{active:!0,name:"Amarna 3-set",description:"Increases Ballistic DMG by 30% for 15s when support skill used.",type:o.BallisticDamage,value:30},{active:!0,name:"Amarna 3-set",description:"After support skill used, dealing damage with support skill increases ATK by 20% for 1.5s.",type:o.AtkPercent,value:20}]},{name:"Hjartagard",rarity:x.Orange,maxAtk:200,levelL:15,levelM:15,levelR:15,modifiers3:[{active:!0,name:"Hjartagard 3-set",description:"Using ultimate skill provides 20% DMG boost to deployed operative for 25s",type:o.Generic,value:20},{active:!0,name:"Hjartagard 3-set",description:"When first boost is active, any other operative using ultimate skill boost by 25%",type:o.Generic,value:25}]},{name:"Navigator",rarity:x.Orange,maxAtk:190,levelL:15,levelM:15,levelR:15,modifiers3:[{active:!0,name:"Navigator 3-set",description:"Applying control effect increases target DMG taken by 14% for 10s.",type:o.DamageTaken,value:14}]},{name:"Twilight",rarity:x.Orange,maxAtk:198,levelL:15,levelM:15,levelR:15,modifiers3:[{active:!0,name:"Twilight 3-set",description:"Dealing DMG with active skill reduces target's resistance to that type of DMG -16% for 5s.",type:o.ElementalResist,value:16}]}],pu=Fa(vu);var gu=Object.defineProperty,yu=Object.getOwnPropertyDescriptor,Nt=(e,t,a,l)=>{for(var n=l>1?void 0:l?yu(t,a):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(n=(l?r(t,a,n):r(n))||n);return l&&n&&gu(t,a,n),n};let At=class{constructor(){te(this,"name");te(this,"baseAtk");te(this,"weaponType");te(this,"rarity");te(this,"manifestLevel");te(this,"manifestStep");te(this,"modifiers");te(this,"skillDamage")}};Nt([fe(String)],At.prototype,"name",2);Nt([fe(Number)],At.prototype,"baseAtk",2);Nt([fe(String)],At.prototype,"weaponType",2);Nt([fe(String)],At.prototype,"rarity",2);Nt([fe(Number)],At.prototype,"manifestLevel",2);Nt([fe(Number)],At.prototype,"manifestStep",2);Nt([Ht(We)],At.prototype,"modifiers",2);Nt([Ht(je)],At.prototype,"skillDamage",2);At=Nt([Pa],At);const Wl=new xa(At),hu=[{name:"Cherno - Enigma",baseAtk:1211,weaponType:oe.SMG,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Enigma standard skill neuronic",description:"Detonation final damage increases by 20% when done at full stacks.",type:o.FinalSkillDamage,value:20,target:"Enigma - standard skill detonation"},{active:!0,name:"Enigma M2",description:"Detonation final damage increases by 30% when done with 3 voids on the field.",type:o.FinalSkillDamage,value:30,target:"Enigma - standard skill detonation"}],skillDamage:[{name:"Enigma - M2 rotation explanation",description:`Enigma skill DPS is based on a rotation of skill > shoot > skill > shoot > skill > detonate > reload.
With M2, this is enough to hit 300 stacks in one magazine.
The initial build up phase lasts 8s (though DoTs are only ticking for 7s as it takes ~1s for the first skill to animate), then the detonation takes 2s.
Then finally, reloading takes 1.35s.`,active:!1,element:v.Chaos,damagePercent:0,damageFlat:0,isAptitude:!1,frequency:1},{name:"Enigma - standard skill",description:"Cherno uses her skill 3x during the rotation",active:!0,element:v.Chaos,damagePercent:50,damageFlat:52,isAptitude:!1,frequency:60/11.35*3},{name:"Enigma - Enmity DoT (building phase)",description:"DoT damage during the build up phase (70% of the rotation), based on 150 average stacks.",active:!0,element:v.Chaos,damagePercent:30+.1*150,alignmentIncrease:5,damageFlat:0,isAptitude:!1,frequency:120*7/11.35},{name:"Enigma - Enmity DoT (detonate phase)",description:"DoT damage while charging the detonation (2s or 20% of the rotation), with 300 stacks.",active:!0,element:v.Chaos,damagePercent:30+.1*300,alignmentIncrease:5,damageFlat:0,isAptitude:!1,frequency:60/.35*2/11.35},{name:"Enigma - M3 damage",description:"Does an extra hit every 60 stacks of enmity, so 5x during the rotation",active:!1,element:v.Chaos,damagePercent:150,damageFlat:0,isAptitude:!1,frequency:60/11.35*5},{name:"Enigma - standard skill detonation (counts as DoT)",description:"Detonation at 300 stacks. Assumes 10 second rotation.",active:!0,element:v.Chaos,damagePercent:9*300,damageFlat:756,isAptitude:!1,frequency:60/11.35},{name:"Enigma - standard skill detonation (M4, counts as DoT)",description:"Detonation at 300 stacks. Assumes 10 second rotation.",active:!1,element:v.Chaos,damagePercent:9.9*300,damageFlat:986,isAptitude:!1,frequency:60/11.35}]},{name:"Lyfe - Wednesday",baseAtk:1435,weaponType:oe.SMG,rarity:x.Purple,manifestLevel:5,manifestStep:0,modifiers:[{active:!0,name:"Wednesday Deiwos",description:"Auxiliary unit strength increases by 36%. +5% per 100 alignment.",type:o.AuxiliaryDamage,value:36,alignmentIncrease:5}],skillDamage:[{name:"Wednesday skill - Raven's Command",description:"Each Raven drone shoots 9 missiles. Since each additional missile on each Raven deals 50% less damage when hitting the same part, the multiplier is 2x the base. Assumes 5 drones with 100% uptime. Frequency based on 30 S-energy cost (cooldown is 25s but costs 30 S-energy).",active:!0,element:v.Electrical,damagePercent:52*5,damageFlat:14*5,isAptitude:!1,frequency:.5,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven ballistic attack",description:"Drones attack once every ~1.1s. Assumes 5 drones with 100% uptime.",active:!1,element:v.Electrical,damagePercent:7*5,damageFlat:7*5,isAptitude:!1,frequency:60/1.1,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven ballistic attack (M4)",description:"Drones attack once every ~1.1s. Assumes 5 drones with 100% uptime.",active:!0,element:v.Electrical,damagePercent:7.7*5,damageFlat:7*5,isAptitude:!1,frequency:60/1.1,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven ballistic attack (M2+M4)",description:"Drones attack once every ~0.55s. Assumes 5 drones with 100% uptime and max M2 buff.",active:!1,element:v.Electrical,damagePercent:7.7*5,damageFlat:7*5,isAptitude:!1,frequency:60/.55,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven Whispering Arrows attack (M1)",description:"Drones have a 10% chance of shooting a laser when attacking. Assumes 5 drones with 100% uptime.",active:!1,element:v.Electrical,damagePercent:15*5,damageFlat:0,isAptitude:!1,frequency:60/1.1*.1,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven Whispering Arrows attack (M3)",description:"Shooting a weakspot with an electrical weapon procs Whispering Arrows, 5s CD. Assumes 5 drones with 100% uptime.",active:!0,element:v.Electrical,damagePercent:15*5,damageFlat:0,isAptitude:!1,frequency:60/5,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven Whispering Arrows attack (M5)",description:"Drones have a 30% chance of shooting a laser when attacking. Assumes 5 drones with 100% uptime.",active:!0,element:v.Electrical,damagePercent:15*5,damageFlat:0,isAptitude:!1,frequency:60/1.1*.3,specialModifiers:[ke.Auxiliary]},{name:"Wednesday summon - Raven Whispering Arrows attack (M2+M5)",description:"Drones have a 30% chance of shooting a laser when attacking. Assumes 5 drones with 100% uptime and max M2 buff.",active:!1,element:v.Electrical,damagePercent:15*5,damageFlat:0,isAptitude:!1,frequency:60/.55*.3,specialModifiers:[ke.Auxiliary]}]},{name:"Lyfe - Wild Hunt",baseAtk:1325,weaponType:oe.SMG,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Wild Hunt Deiwos",description:"Skill DMG increases by 14%. +3% per 100 alignment.",type:o.SkillDamage,value:14,alignmentIncrease:3},{active:!1,name:"Wild Hunt Deiwos (vs frozen)",description:"Skill DMG increases by 14%. +3% per 100 alignment. This buff is 1.5x stronger vs frozen enemies.",type:o.SkillDamage,value:21,alignmentIncrease:4.5},{active:!0,name:"Wild Hunt skill neuronic",description:"Increases final DMG of skill by 20% if triggered when meter is full.",type:o.FinalSkillDamage,value:20},{active:!0,name:"Wild Hunt M2 passive",description:"Increases final DMG of skill by 5%, max 5 stacks.",type:o.FinalSkillDamage,value:25}],skillDamage:[{name:"Wild Hunt skill - Frost Wolves",description:"Icicles from her skill. This assumes 100% uptime. Frequency based on firing rate of ~4.2 per second.",active:!0,element:v.Frost,damagePercent:35,damageFlat:31,isAptitude:!1,frequency:252},{name:"Wild Hunt skill - Frost Wolves (M4)",description:"Icicles from her skill. This assumes 100% uptime. Frequency based on firing rate of ~4.2 per second.",active:!1,element:v.Frost,damagePercent:38.5,damageFlat:43,isAptitude:!1,frequency:252}]},{name:"Fenny - Coronet",baseAtk:1250,weaponType:oe.Shotgun,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Coronet standard skill",description:"Increases rate of fire by 1% per mercy stack, max 80 stacks. Adjust based on your projected average mercy.",type:o.RateOfFire,value:60},{active:!0,name:"Coronet standard skill neuronic",description:"Increases electrical DMG by 10% when in Crown of Thorns.",type:o.ElementalDamage,element:v.Electrical,value:10},{active:!0,name:"Coronet Deiwos",description:"+28% crit rate. +4% per 100 alignment.",type:o.CritRate,alignmentIncrease:4,value:28},{active:!0,name:"Coronet Deiwos",description:"Each shot has a 25% chance to fire 1 extra pellet. Calculated as (9/8-1)*.25",type:o.FinalDamage,value:3.125},{active:!1,name:"Coronet M5",description:"Increases electrical DMG by 15% when mercy exceeds the original limit.",type:o.ElementalDamage,element:v.Electrical,value:15}]},{name:"Fenny - Lionheart",baseAtk:1668,weaponType:oe.Shotgun,rarity:x.Purple,manifestLevel:5,manifestStep:0,modifiers:[{active:!0,name:"Lionheart Deiwos",description:"Increases damage by 16% when within 5m from the target. +4% per 100 alignment.",type:o.Generic,value:16,alignmentIncrease:4}]},{name:"Marian - Swift",baseAtk:1467,weaponType:oe.Sniper,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Swift Deiwos",description:"When hitting weakspot, ignore 300 DEF. +30 per 100 alignment.",type:o.FlatDefenseReduction,value:300,alignmentIncrease:30},{active:!0,name:"Swift Deiwos",description:"+1 mag capacity",type:o.MagSizeBoost,value:1},{active:!0,name:"Swift M2",description:"Increases ballistic DMG of standard shots that hit the Cloud Shot mark by 25%. Pick a value based on the % of shots you expect to be buffed based on your weapon RPM and rotation. 5% here assumes 1 in 5 bullets is buffed. This also applies to Cloud Shot so its being generous.",type:o.BallisticDamage,value:5},{active:!1,name:"Swift ult passive",description:"After using ult, Cloud Shot and shots ignore 20% of the target's DEF for 10 sec.",type:o.DefensePenetration,value:20}],skillDamage:[{name:"Swift skill - Cloud Shot",description:"Damage calculation will automatically include ballistic DMG boosts and crits. Frequency based on cooldown of 5 seconds.",active:!0,element:v.Kinetic,damagePercent:80,damageFlat:216,isAptitude:!1,frequency:12,specialModifiers:[ke.CloudShot,ke.CanCritWeakspot]},{name:"Swift skill - Cloud Shot (M3)",description:"Damage calculation will automatically include ballistic DMG boosts and crits. Frequency based on cooldown of 4 seconds.",active:!1,element:v.Kinetic,damagePercent:80,damageFlat:216,isAptitude:!1,frequency:15,specialModifiers:[ke.CloudShot,ke.CanCritWeakspot]},{name:"Swift skill - Cloud Shot (M4)",description:"Damage calculation will automatically include ballistic DMG boosts and crits. Frequency based on cooldown of 4 seconds.",active:!1,element:v.Kinetic,damagePercent:88,damageFlat:244,isAptitude:!1,frequency:15,specialModifiers:[ke.CloudShot,ke.CanCritWeakspot]}]},{name:"Yao - Winter Solstice",baseAtk:1792,weaponType:oe.Sniper,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Winter Solstice Deiwos",description:"Increases damage when further from the target, up to 16%. +3% per 100 alignment.",type:o.Generic,value:16,alignmentIncrease:3},{active:!1,name:"Winter Solstice ult neuronic 1",description:"During ult: increases crit DMG amp by 10% if equipped with Thermal weapon",type:o.CritDmgAmp,value:10},{active:!1,name:"Winter Solstice ult neuronic 2",description:"During ult: hitting the same part increases final ballistic DMG by 4%, max 5 stacks.",type:o.FinalBallisticDamage,value:20}],skillDamage:[{name:"Winter Solstice skill - Scorching Sun Bullet",description:"The damage from the skill blast",active:!1,element:v.Thermal,damagePercent:47,damageFlat:124,isAptitude:!0,frequency:0},{name:"Winter Solstice skill - Scorching Sun Bullet neuronic",description:"Deal an extra 30% of ATK when hitting a weakspot with skill. This takes buffs a bit weird, so the DPS calculation here is a bit off.",active:!1,element:v.Thermal,damagePercent:30,damageFlat:0,isAptitude:!0,frequency:0}]},{name:"Acacia - Redacted",baseAtk:960,weaponType:oe.Pistol,rarity:x.Purple,manifestLevel:5,manifestStep:0,modifiers:[{active:!1,name:"Redacted ult",description:"Operatives within range of ult 10% ATK%.",type:o.AtkPercent,value:10},{active:!0,name:"Redacted M3 passive",description:"Redacted skill gains 1% final DMG for each bullet remaining. Adjust based on chosen pistol.",type:o.FinalSkillDamage,value:6}],skillDamage:[{name:"Redacted skill - Spokes of the Wheel",description:"Assumes 3 ricochets (single target). Frequency based on cooldown of 2.2 seconds.",active:!1,element:v.Chaos,damagePercent:81.3,damageFlat:853.65,isAptitude:!1,frequency:27.2},{name:"Redacted skill - Spokes of the Wheel (M4)",description:"Assumes 3 ricochets (single target). Frequency based on cooldown of 2 seconds.",active:!0,element:v.Chaos,damagePercent:81.3,damageFlat:1113.81,isAptitude:!1,frequency:30},{name:"Redacted M1 passive - Ripple in Time",description:"Redacted skill marks target. Skill hits detonate the mark for 2.5% ATK of damage. Multiplied by 3 since skill is 3 hits.. Use same frequency as skill.",active:!1,element:v.Chaos,damagePercent:7.5,damageFlat:0,isAptitude:!1,frequency:27.2},{name:"Redacted M1 passive - Ripple in Time (M2)",description:"Redacted skill marks target. Skill hits detonate the mark for 2.5% ATK of damage, up to 5 stacks. Multiplied by 3 since skill is 3 hits. Use same frequency as skill.",active:!1,element:v.Chaos,damagePercent:37.5,damageFlat:0,isAptitude:!1,frequency:27.2},{name:"Redacted M1 passive - Ripple in Time (M4)",description:"Redacted skill marks target. Skill hits detonate the mark for 2.5% ATK of damage, up to 5 stacks. Multiplied by 3 since skill is 3 hits.. Use same frequency as skill.",active:!0,element:v.Chaos,damagePercent:37.5,damageFlat:0,isAptitude:!1,frequency:30}]},{name:"Enya - Big Sis",baseAtk:1334,weaponType:oe.Pistol,rarity:x.Purple,manifestLevel:5,manifestStep:0,modifiers:[{active:!0,name:"Big Sis deiwos",description:"Increase thermal DMG by 14%. +2% per 100 index.",type:o.ElementalDamage,element:v.Thermal,value:14,alignmentIncrease:2}],skillDamage:[{name:"Big Sis skill - Flower of Youth",description:"Enya throws 10x Plump Buds, with damage reduced by 50% for each time a target is hit by extra blasts. Frequency based on 25 S-energy cost.",active:!0,element:v.Thermal,damagePercent:80,damageFlat:102,isAptitude:!1,frequency:60/25},{name:"Big Sis skill - Flower of Youth (multi-hit)",description:"Assumes all 10 Plump Buds hit the enemy, dealing 2x base damage.",active:!1,element:v.Thermal,damagePercent:160,damageFlat:204,isAptitude:!1,frequency:60/25},{name:"Big Sis passive - Snake Feathers",description:"Generates 1 Rich Lights every 5s that is consumed on hit to summon a Snake Feather to hit the target, max 10 stacks.",active:!1,element:v.Thermal,damagePercent:20,damageFlat:25,isAptitude:!1,frequency:60/5},{name:"Big Sis passive - Snake Feathers (M1)",description:"Shots that hit after a Snake Feather hits deal an extra 15% of ATK in Thermal DMG.",active:!0,element:v.Thermal,damagePercent:15,damageFlat:0,isAptitude:!1,frequency:60/5},{name:"Big Sis passive - Snake Feathers (M4)",description:"Generates 1 Rich Lights every 5s that is consumed on hit to summon a Snake Feather to hit the target, max 10 stacks.",active:!0,element:v.Thermal,damagePercent:22,damageFlat:26,isAptitude:!1,frequency:60/5}]},{name:"Haru - Absconditus",baseAtk:1778,weaponType:oe.Pistol,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Absconditus standard skill neuronic 1",description:"When equipped with a Kinetic weapon, increases final DMG of standard skill Compensatory Justice by 20%.",type:o.FinalSkillDamage,value:20,target:"Compensatory Justice"},{active:!0,name:"Absconditus M2 passive",description:"Increases ATK by 5% when using skill, max 5 stacks.",type:o.AtkPercent,value:25},{active:!1,name:"Absconditus M5 passive",description:"In ult state, deals more damage the lower the target's current HP, up to 30%",type:o.Generic,value:30}],skillDamage:[{name:"Absconditus standard skill - Compensatory Justice",description:"",active:!0,element:v.Kinetic,damagePercent:111,damageFlat:27,isAptitude:!1,frequency:125},{name:"Absconditus standard skill - Compensatory Justice (during ult)",description:"",active:!1,element:v.Kinetic,damagePercent:148,damageFlat:36,isAptitude:!1,frequency:125},{name:"Absconditus - Extra standard skill damage from T1 Star Ocean procs",description:"",active:!1,element:v.Kinetic,damagePercent:27,damageFlat:0,isAptitude:!1,frequency:125},{name:"Absconditus - Extra standard skill damage from T1 Star Ocean procs (during ult)",description:"",active:!1,element:v.Kinetic,damagePercent:36,damageFlat:0,isAptitude:!1,frequency:125},{name:"Absconditus ult skill - initial hit",description:"",active:!1,element:v.Kinetic,damagePercent:200,damageFlat:27,isAptitude:!1,frequency:0},{name:"Absconditus ult skill - final blow",description:"",active:!1,element:v.Kinetic,damagePercent:360,damageFlat:105,isAptitude:!1,frequency:43}]},{name:"Chenxing - Ethereal Cloud",baseAtk:1400,weaponType:oe.AssaultRifle,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Ethereal Cloud Deiwos",description:"50% chance to increase shot damage by 32% when using electrical weapon. +8% per 100 alignment.",type:o.BallisticDamage,element:v.Electrical,value:16,alignmentIncrease:4},{active:!0,name:"Ethereal Cloud M1",description:"Ballistics DMG increases by 1% for 3s when hitting a weakspot, max 15 stacks.",type:o.BallisticDamage,value:15},{active:!1,name:"Ethereal Cloud M3",description:"Increases Crit DMG against targets marked with skill.",type:o.CritDmgAmp,value:30}],skillDamage:[{active:!0,name:"Ethereal Cloud slip detonation damage (1 target)",description:"Slip detonation damage is a % of bullet damage. It's only affected by skill damage as well. 1 target: 40, 2 targets: 68, 3 targets: 87.6, 4 targets: 101.32, 5 targets: 110.924, 6 targets: 117.6468, 7 targets: 122.35276, 8 targets: 125.64693",element:v.Electrical,damagePercent:40,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.BasedOnBulletDamage]},{active:!1,name:"Ethereal Cloud slip detonation damage (5 targets, ex. tank)",description:"Slip detonation damage is a % of bullet damage. It's only affected by skill damage as well. 1 target: 40, 2 targets: 68, 3 targets: 87.6, 4 targets: 101.32, 5 targets: 110.924, 6 targets: 117.6468, 7 targets: 122.35276, 8 targets: 125.64693",element:v.Electrical,damagePercent:110.924,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.BasedOnBulletDamage]},{active:!1,name:"Ethereal Cloud slip detonation damage (7 targets, ex. Hela)",description:"Slip detonation damage is a % of bullet damage. It's only affected by skill damage as well. 1 target: 40, 2 targets: 68, 3 targets: 87.6, 4 targets: 101.32, 5 targets: 110.924, 6 targets: 117.6468, 7 targets: 122.35276, 8 targets: 125.64693",element:v.Electrical,damagePercent:122.35276,damageFlat:0,isAptitude:!0,frequency:0,specialModifiers:[ke.BasedOnBulletDamage]}]},{name:"Katya - Blue Bolt",baseAtk:1715,weaponType:oe.Crossbow,rarity:x.Orange,manifestLevel:2,manifestStep:0,modifiers:[{active:!0,name:"Blue Bolt standard skill neuronic 1",description:"Tactical dodge increases ATK by 15% for 8s",type:o.AtkPercent,value:15},{active:!1,name:"Blue Bolt standard skill damage reduction",description:"Normal shots in standard skill deal 48% of their original damage",type:o.FinalBallisticDamage,value:-52},{active:!1,name:"Blue Bolt standard skill damage reduction (M4)",description:"Normal shots in standard skill deal 50% of their original damage",type:o.FinalBallisticDamage,value:-50},{active:!1,name:"Blue Bolt standard skill damage reduction (special fire)",description:"Special fire shots in standard skill deal 76% of their original damage",type:o.FinalBallisticDamage,value:-24},{active:!1,name:"Blue Bolt standard skill damage reduction (special fire) (M4)",description:"Special fire shots in standard skill deal 80% of their original damage",type:o.FinalBallisticDamage,value:-20},{active:!0,name:"Blue Bolt deiwos damage reduction",description:"Damage adjustment for the deiwos since it only procs 35% of the time",type:o.FinalSkillDamage,value:-65},{active:!1,name:"Blue Bolt deiwos damage vs frozen",description:"Deiwos procs deal 100% extra DMG to frozen targets",type:o.SkillDamage,value:100},{active:!0,name:"Blue Bolt M1",description:"Shots during standard skill add Soul Reader stacks. +1% fire rate per stack, 25 stacks max.",type:o.RateOfFire,value:25},{active:!1,name:"Blue Bolt M5",description:"+165 alignment index",type:o.AlignmentIndex,value:165}],skillDamage:[{active:!0,name:"Blue bolt deiwos",description:"Shots have a 35% chance to deal an extra 35% + 200 ATK of Frost DMG of aptitude damage. +7% ATK damage multipler per 100 alignment.",element:v.Frost,damagePercent:35,alignmentIncrease:7,damageFlat:200,isAptitude:!0,frequency:0,specialModifiers:[]}]}],bu=Fa(hu);var ku=Object.defineProperty,Su=Object.getOwnPropertyDescriptor,Gt=(e,t,a,l)=>{for(var n=l>1?void 0:l?Su(t,a):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(n=(l?r(t,a,n):r(n))||n);return l&&n&&ku(t,a,n),n};let Tt=class{constructor(){te(this,"name");te(this,"rarity");te(this,"maxAtk");te(this,"levelL");te(this,"levelM");te(this,"levelR");te(this,"modifiers2");te(this,"modifiers3")}};Gt([fe(String)],Tt.prototype,"name",2);Gt([fe(String)],Tt.prototype,"rarity",2);Gt([fe(Number)],Tt.prototype,"maxAtk",2);Gt([fe(Number)],Tt.prototype,"levelL",2);Gt([fe(Number)],Tt.prototype,"levelM",2);Gt([fe(Number)],Tt.prototype,"levelR",2);Gt([Ht(We)],Tt.prototype,"modifiers2",2);Gt([Ht(We)],Tt.prototype,"modifiers3",2);Tt=Gt([Pa],Tt);const wu=new xa(Tt);function Au(e){return gr()?(yr(e),!0):!1}function mn(e){return typeof e=="function"?e():De(e)}const Vl=typeof window!="undefined",Tu=()=>{};function Cu(e,t){function a(...l){return new Promise((n,i)=>{Promise.resolve(e(()=>t.apply(this,l),{fn:t,thisArg:this,args:l})).then(n).catch(i)})}return a}const Qi=e=>e();function _u(e=Qi){const t=Z(!0);function a(){t.value=!1}function l(){t.value=!0}const n=(...i)=>{t.value&&e(...i)};return{isActive:hr(t),pause:a,resume:l,eventFilter:n}}var Wn=Object.getOwnPropertySymbols,Du=Object.prototype.hasOwnProperty,Mu=Object.prototype.propertyIsEnumerable,xu=(e,t)=>{var a={};for(var l in e)Du.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&Wn)for(var l of Wn(e))t.indexOf(l)<0&&Mu.call(e,l)&&(a[l]=e[l]);return a};function Pu(e,t,a={}){const l=a,{eventFilter:n=Qi}=l,i=xu(l,["eventFilter"]);return he(e,Cu(n,t),i)}var Fu=Object.defineProperty,Eu=Object.defineProperties,qu=Object.getOwnPropertyDescriptors,Tl=Object.getOwnPropertySymbols,Ji=Object.prototype.hasOwnProperty,Zi=Object.prototype.propertyIsEnumerable,jn=(e,t,a)=>t in e?Fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Bu=(e,t)=>{for(var a in t||(t={}))Ji.call(t,a)&&jn(e,a,t[a]);if(Tl)for(var a of Tl(t))Zi.call(t,a)&&jn(e,a,t[a]);return e},Vu=(e,t)=>Eu(e,qu(t)),Ou=(e,t)=>{var a={};for(var l in e)Ji.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&Tl)for(var l of Tl(e))t.indexOf(l)<0&&Zi.call(e,l)&&(a[l]=e[l]);return a};function Ru(e,t,a={}){const l=a,{eventFilter:n}=l,i=Ou(l,["eventFilter"]),{eventFilter:r,pause:u,resume:d,isActive:p}=_u(n);return{stop:Pu(e,t,Vu(Bu({},i),{eventFilter:r})),pause:u,resume:d,isActive:p}}function Ku(e){var t;const a=mn(e);return(t=a==null?void 0:a.$el)!=null?t:a}const en=Vl?window:void 0;Vl&&window.document;Vl&&window.navigator;Vl&&window.location;function Qn(...e){let t,a,l,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,l,n]=e,t=en):[t,a,l,n]=e,!t)return Tu;Array.isArray(a)||(a=[a]),Array.isArray(l)||(l=[l]);const i=[],r=()=>{i.forEach(c=>c()),i.length=0},u=(c,g,F,S)=>(c.addEventListener(g,F,S),()=>c.removeEventListener(g,F,S)),d=he(()=>[Ku(t),mn(n)],([c,g])=>{r(),c&&i.push(...a.flatMap(F=>l.map(S=>u(c,F,S,g))))},{immediate:!0,flush:"post"}),p=()=>{d(),r()};return Au(p),p}const fl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ml="__vueuse_ssr_handlers__",Iu=Lu();function Lu(){return ml in fl||(fl[ml]=fl[ml]||{}),fl[ml]}function zu(e,t){return Iu[e]||t}function Hu(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var $u=Object.defineProperty,Jn=Object.getOwnPropertySymbols,Nu=Object.prototype.hasOwnProperty,Gu=Object.prototype.propertyIsEnumerable,Zn=(e,t,a)=>t in e?$u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Yn=(e,t)=>{for(var a in t||(t={}))Nu.call(t,a)&&Zn(e,a,t[a]);if(Jn)for(var a of Jn(t))Gu.call(t,a)&&Zn(e,a,t[a]);return e};const Uu={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Xn="vueuse-storage";function Wu(e,t,a,l={}){var n;const{flush:i="pre",deep:r=!0,listenToStorageChanges:u=!0,writeDefaults:d=!0,mergeDefaults:p=!1,shallow:c,window:g=en,eventFilter:F,onError:S=X=>{console.error(X)}}=l,q=(c?br:Z)(t);if(!a)try{a=zu("getDefaultStorage",()=>{var X;return(X=en)==null?void 0:X.localStorage})()}catch(X){S(X)}if(!a)return q;const V=mn(t),w=Hu(V),W=(n=l.serializer)!=null?n:Uu[w],{pause:Y,resume:I}=Ru(q,()=>R(q.value),{flush:i,deep:r,eventFilter:F});return g&&u&&(Qn(g,"storage",ae),Qn(g,Xn,ie)),ae(),q;function R(X){try{if(X==null)a.removeItem(e);else{const E=W.write(X),P=a.getItem(e);P!==E&&(a.setItem(e,E),g&&g.dispatchEvent(new CustomEvent(Xn,{detail:{key:e,oldValue:P,newValue:E,storageArea:a}})))}}catch(E){S(E)}}function z(X){const E=X?X.newValue:a.getItem(e);if(E==null)return d&&V!==null&&a.setItem(e,W.write(V)),V;if(!X&&p){const P=W.read(E);return typeof p=="function"?p(P,V):w==="object"&&!Array.isArray(P)?Yn(Yn({},V),P):P}else return typeof E!="string"?E:W.read(E)}function ie(X){ae(X.detail)}function ae(X){if(!(X&&X.storageArea!==a)){if(X&&X.key==null){q.value=V;return}if(!(X&&X.key!==e)){Y();try{q.value=z(X)}catch(E){S(E)}finally{X?ze(I):I()}}}}}const ei="calc_settings",ju=kr(ei,{state:()=>Wu(ei,{showExplanations:!1,showStatInputs:!1,showDetailedStats:!1,showDecimals:!1},localStorage,{mergeDefaults:!0})});const Qu={class:"calculation-results"},Ju={class:"q-px-lg q-pt-sm"},Zu={class:"row"},Yu={class:"col"},Xu=A("h6",{class:"q-mt-sm q-mb-lg"},"Calculation results",-1),ec={class:"row justify-left"},tc={class:"col-md-3"},ac={class:"q-mb-none text-body1"},lc=A("b",null,"Bullet damage:",-1),nc={key:0},ic=A("br",null,null,-1),rc=A("b",null,"Bullet damage (crit):",-1),oc={key:1},sc=A("br",null,null,-1),uc=A("b",null,"Crit rate: ",-1),cc=A("br",null,null,-1),dc=A("b",null,"Crit damage:",-1),fc={key:0,class:"q-mt-md text-body1"},mc=A("b",null,"Intermediate calculations:",-1),vc=A("br",null,null,-1),pc=A("b",null,"Mag capacity including boosts:",-1),gc=A("br",null,null,-1),yc=A("b",null,"Single mag damage (no crits):",-1),hc=A("br",null,null,-1),bc=A("b",null,"Single mag non-weakspot damage:",-1),kc={key:0},Sc=A("br",null,null,-1),wc=A("b",null,"Time to empty mag:",-1),Ac=A("br",null,null,-1),Tc=A("br",null,null,-1),Cc=A("b",null,"Overall stats:",-1),_c=A("br",null,null,-1),Dc=A("b",null,"Base atk:",-1),Mc=A("br",null,null,-1),xc=A("b",null,"ATK %:",-1),Pc=A("br",null,null,-1),Fc=A("b",null,"Final ATK:",-1),Ec=A("br",null,null,-1),qc=A("b",null,"Total alignment index:",-1),Bc=A("br",null,null,-1),Vc=A("b",null,"Total ballistic buff:",-1),Oc=A("br",null,null,-1),Rc=A("b",null,"Total skill buff:",-1),Kc=A("br",null,null,-1),Ic=A("b",null,"Final damage modifier:",-1),Lc=A("br",null,null,-1),zc=A("b",null,"Damage taken:",-1),Hc=A("br",null,null,-1),$c=A("b",null,"Elemental resist modifier:",-1),Nc=A("br",null,null,-1),Gc=A("b",null,"Defense modifier:",-1),Uc={class:"col-auto"},Wc={class:"row text-body1"},jc=A("div",{class:"col-auto q-mr-md"},[A("b",null,"Single mag non-weakspot DPS:"),A("br"),A("b",null,"Single mag weakspot DPS:"),A("br"),A("b",null,"Sustained non-weakspot DPS: "),A("br"),A("b",null,"Sustained weakspot DPS: ")],-1),Qc={class:"col-auto"},Jc=A("br",null,null,-1),Zc=A("br",null,null,-1),Yc=A("br",null,null,-1),Xc={key:0,class:"q-mt-md text-body1"},ed=A("br",null,null,-1),td={class:"col col-xs-auto"},ad={class:"q-pa-lg"},ld={class:"q-my-lg"},nd={key:1},id=A("b",null,"Base ATK:",-1),rd=A("br",null,null,-1),od=A("b",null,"Alignment index:",-1),sd=A("br",null,null,-1),ud=A("b",null,"Manifest level/step:",-1),cd=A("div",{class:"text-h6"},"Choose an operative",-1),dd=["src"],fd=["src"],md={key:2,class:"row q-col-gutter-x-md q-mb-md"},vd={class:"col"},pd={class:"col"},gd={class:"col"},yd={class:"col"},hd={class:"col"},bd={class:"col"},kd={class:"q-my-lg"},Sd={class:"q-mb-md"},wd=A("div",{class:"text-h6"},"Choose a weapon",-1),Ad=["src"],Td={key:3,class:"row q-col-gutter-x-md q-mb-md"},Cd={class:"col"},_d={class:"col"},Dd={class:"col"},Md={class:"col"},xd={class:"col"},Pd={class:"col"},Fd={class:"col"},Ed={class:"col"},qd={class:"q-my-lg"},Bd={class:"q-mb-md"},Vd={key:4},Od=A("b",null,"Rarity/level:",-1),Rd=A("br",null,null,-1),Kd=A("b",null,"Disclaimer:",-1),Id={key:5,class:"row q-col-gutter-x-md q-mb-md"},Ld={class:"col"},zd={class:"col"},Hd={class:"col"},$d={class:"col"},Nd={class:"col"},Gd={class:"col"},Ud=A("h6",{class:"q-my-lg"},"Skill damage sources",-1),Wd={key:6},jd=A("b",null,"Damage percent:",-1),Qd=A("br",null,null,-1),Jd=A("b",null,"Flat damage:",-1),Zd=A("br",null,null,-1),Yd=A("b",null,"Aptitude effect:",-1),Xd=A("br",null,null,-1),ef=A("b",null,"Frequency:",-1),tf={class:"row q-col-gutter-x-md q-mb-md"},af={class:"col"},lf={class:"col"},nf={class:"col"},rf={class:"col"},of={class:"col-auto q-mt-sm"},sf={class:"col"},uf={class:"col-auto q-mt-sm"},cf={key:0},df={key:1},ff=A("h6",{class:"q-my-lg"},"Additional modifiers",-1),mf={key:7},vf=A("b",null,"Element:",-1),pf=A("br",null,null,-1),gf=A("b",null,"Value:",-1),yf=A("br",null,null,-1),hf=A("b",null,"Editing:",-1),bf={class:"q-mb-md"},kf={class:"row q-col-gutter-x-md q-mb-md"},Sf={class:"col"},wf={class:"col"},Af={class:"col"},Tf={class:"col"},Cf={class:"col-auto q-mt-sm"},_f={key:0};var Yi=(e=>(e.Normal="Normal",e.SkillReloading="Reloading with skill",e.Ult="Ultimate",e.UltReloading="Reloading with skill during ultimate",e))(Yi||{}),Xi=(e=>(e.Normal="Normal",e.Special="Special fire (explosive bolt)",e))(Xi||{});const Ra="manual-lock-source",Of=an({__name:"CalculatorPage",setup(e){function t(y){switch(y){case x.Orange:return"orange-rarity";case x.Purple:return"purple-rarity";case x.Blue:return"blue-rarity"}}function a(y){switch(y){case v.Kinetic:return"element_kinetic.png";case v.Chaos:return"element_chaos.png";case v.Thermal:return"element_thermal.png";case v.Frost:return"element_frost.png";case v.Electrical:return"element_electrical.png"}}function l(y){switch(y){case oe.Shotgun:return"weapon_type_shotgun.png";case oe.SMG:return"weapon_type_smg.png";case oe.Sniper:return"weapon_type_sniper.png";case oe.AssaultRifle:return"weapon_type_ar.png";case oe.Pistol:return"weapon_type_pistol.png";case oe.Crossbow:return"weapon_type_crossbow.png"}}const{showExplanations:n,showStatInputs:i,showDetailedStats:r,showDecimals:u}=Sr(ju()),d=m(()=>u.value?2:0),p=Z([]),c=Z([]);function g(y){for(var b=p.value.length-1;b>=0;b--)p.value[b].lockSource===y&&p.value.splice(b,1);for(var b=c.value.length-1;b>=0;b--)c.value[b].lockSource===y&&c.value.splice(b,1)}function F(){for(var y=p.value.length-1;y>=0;y--)p.value[y].lockSource||p.value.splice(y,1)}const S=m(()=>{const y=p.value.filter(b=>b.lockSource).length;return p.value.length>y}),q=m(()=>bu),V=Z(!1),w=Z(Wl.parse(q.value[0])),W=Z(!1);he(W,me);function Y(){if(w.value.name=="Katya - Blue Bolt"){for(const b of p.value)b.name.startsWith("Blue Bolt standard skill damage reduction")&&(b.active=!1);var y;le.value==="Normal"?y=w.value.manifestLevel<4?"Blue Bolt standard skill damage reduction":"Blue Bolt standard skill damage reduction (M4)":y=w.value.manifestLevel<4?"Blue Bolt standard skill damage reduction (special fire)":"Blue Bolt standard skill damage reduction (special fire) (M4)";for(const b of p.value)b.name===y&&(b.active=W.value)}}const I=m(()=>w.value.weaponType===oe.Shotgun?25:0),R=Z(300),z=m(()=>R.value+Se(o.AlignmentIndex)),ie=m(()=>w.value.manifestLevel*2+Math.floor((w.value.manifestStep+1)/2)*.5);function ae(y){const b=w.value.name;g(b),W.value=!1,w.value=Wl.parse(y);for(const s of w.value.modifiers){const K=Xt.fromModifier(s);K.lockSource=y.name,p.value.push(K)}if(w.value.skillDamage)for(const s of w.value.skillDamage){const K=za.fromSkill(s);K.lockSource=y.name,c.value.push(K)}V.value=!1}ae(Wl.parse(q.value[0]));function X(){g(w.value.name),w.value.name=""}const E=m(()=>gs[w.value.weaponType]),P=Z(!1),k=Z(Gl.parse(E.value[0]));let M=k.value;const Q=Z("Normal");he(Q,(y,b)=>{switch(k.value.element=M.element,k.value.compatibility=M.compatibility,k.value.rateOfFire=M.rateOfFire,k.value.ammoCapacity=M.ammoCapacity,k.value.critDamage=M.critDamage,y){case"Reloading with skill":{k.value.rateOfFire=50;break}case"Ultimate":{k.value.element=v.Thermal,k.value.compatibility=450,k.value.rateOfFire=37.6,k.value.ammoCapacity=5,k.value.critDamage=100;break}case"Reloading with skill during ultimate":{k.value.element=v.Thermal,k.value.compatibility=450,k.value.rateOfFire=31.6,k.value.ammoCapacity=5,k.value.critDamage=100;break}}if(y==="Reloading with skill"||y==="Reloading with skill during ultimate")for(const s of c.value)s.name.includes("Winter Solstice")&&(s.active=!0);else for(const s of c.value)s.name.includes("Winter Solstice")&&(s.active=!1)});const le=Z("Normal");he(le,me);function me(){k.value.type===oe.Crossbow&&(k.value.compatibility=M.compatibility,k.value.rateOfFire=M.rateOfFire,le.value==="Normal"?(k.value.rateOfFire=W.value?480:150,k.value.compatibility=112.78):(k.value.rateOfFire=W.value?171.6:85,k.value.compatibility=69.42),Y())}he(m(()=>w.value.weaponType),(y,b)=>{b!==y&&ne(E.value[0])},{immediate:!0});function ne(y){M=Gl.parse(y),Q.value="Normal",le.value="Normal";const b=k.value.name;g(b),k.value=Gl.parse(y);for(const s of k.value.modifiers){const K=Xt.fromModifier(s);K.lockSource=y.name,p.value.push(K)}if(k.value.skillDamage)for(const s of k.value.skillDamage){const K=za.fromSkill(s);K.lockSource=y.name,c.value.push(K)}k.value.type===oe.Crossbow&&me(),P.value=!1}function O(){g(k.value.name),k.value.name=""}const de=mu,we=pu,C=Z({name:"",rarity:x.Orange,maxAtk:0,levelL:15,levelM:15,levelR:15,modifiers2:[],modifiers3:[]});he(m(()=>C.value.rarity),y=>{y===x.Purple&&(C.value.levelL=Math.min(12,C.value.levelL),C.value.levelM=Math.min(12,C.value.levelM),C.value.levelR=Math.min(12,C.value.levelR))});const B=m(()=>{function y(b,s){return s===x.Orange?[7,12,18,24,30,36,42,48,55,61,67,74,80,87,93,C.value.maxAtk/2][b]:s===x.Purple?[6,12,17,23,29,34,40,46,52,58,64,70,C.value.maxAtk/2][b]:b*6}return y(C.value.levelL,C.value.rarity)+y(C.value.levelR,C.value.rarity)}),T=m(()=>{if(C.value.rarity===x.Orange)return Math.min(Math.floor(C.value.levelM/3)*4+4,20);if(C.value.rarity===x.Purple){const y=Math.floor(C.value.levelM/3);return Math.min(y*3.9+3.9+(y>=2?.1:0),19.6)}return 0});function $(y,b=!0){if(y.modifiers2)for(const s of y.modifiers2){const K=Xt.fromModifier(s);b&&(K.lockSource=y.name),p.value.push(K)}if(y.modifiers3)for(const s of y.modifiers3){const K=Xt.fromModifier(s);b&&(K.lockSource=y.name),p.value.push(K)}}function pe(y){const b=C.value.name;b!==y.name&&(g(b),C.value=wu.parse(y),$(C.value))}function J(y){$(y,!1)}function H(){g(C.value.name),C.value.name=""}const ee=[{name:"active",label:"Active",field:"active",align:"left",sortable:!0,headerStyle:"min-width: 90px;"},{name:"name",label:"Name",field:"name",align:"left",sortable:!0},{name:"description",label:"Description",field:"description",align:"left",sortable:!0},{name:"element",label:"Element",field:"element",align:"left",sortable:!0},{name:"damage",label:"Damage",field:"damagePercent",align:"left",sortable:!0},{name:"frequency",label:"Frequency (per minute)",field:"frequency",align:"left",sortable:!0},{name:"specialModifier",label:"Special modifiers",field:"specialModifiers",align:"left",sortable:!1},{name:"actions",label:"Actions",field:"value",align:"left"}],ge=Z({name:"",description:"",element:v.Kinetic,damagePercent:0,damageFlat:0,frequency:0,active:!0,isAptitude:!0,specialModifiers:[]});function L(){const y=za.fromSkill(ge.value);y.isAptitude&&(y.frequency=0),c.value.push(y)}function Ee(y){c.value.splice(c.value.indexOf(y),1)}const Xe=[{name:"active",label:"Active",field:"active",align:"left",sortable:!0,headerStyle:"min-width: 90px;"},{name:"name",label:"Name",field:"name",align:"left",sortable:!0},{name:"description",label:"Description",field:"description",align:"left",sortable:!0},{name:"type",label:"Type",field:"type",align:"left",sortable:!0},{name:"element",label:"Element",field:"element",align:"left",sortable:!0},{name:"value",label:"Value",field:"value",align:"left",sortable:!0},{name:"lock",label:"Lock?",field:"value",align:"left"},{name:"delete",label:"Delete",field:"value",align:"left"}];let et=!0;function Ne(){return et}function ct(y){return y?(et=!0,!0):(et=!1,!1)}function st(y){return y!==""&&y>=0?(et=!0,!0):(et=!1,!1)}function dt(y){Nl.includes(y.type)||(y.element=void 0)}function rt(y){return y.alignmentIncrease?y.alignmentIncrease*z.value/100:0}function Se(y,b,s){return He(y,b,s).reduce((K,Ae)=>K+Ae.value+rt(Ae),0)}function Et(y,b,s){return He(y,b,s).reduce((K,Ae)=>K*(1+(Ae.value+rt(Ae))/100),1)}function He(y,b,s){return p.value.filter(function(K){const Ae=!(!!s&&!!K.target&&s.indexOf(K.target)===-1);return K.active&&K.type===y&&Ae&&(!K.element||K.element===b)})}const Me=Z({active:!0,name:"",description:"",type:o.AtkPercent,value:0});var gt=Z(Object.values(o));function Ut(y,b){b(()=>{const s=y.toLocaleLowerCase();gt.value=Object.values(o).filter(K=>K.toLocaleLowerCase().indexOf(s)>-1)})}const la=m(()=>Nl.includes(Me.value.type));he(la,y=>{y||(Me.value.element=void 0)});function na(){p.value.push(Xt.fromModifier(Me.value))}function ia(y){for(const b of y.modifiers){const s=Xt.fromModifier(b);p.value.push(s)}}function va(y){p.value.splice(p.value.indexOf(y),1)}function pa(y){const b=y.lockSource===Ra;y.lockSource=b?void 0:Ra}const ft=m(()=>w.value.baseAtk+k.value.atk+B.value),ut=m(()=>(ie.value+k.value.atkPercent+T.value+Se(o.AtkPercent))/100),tt=m(()=>ft.value*(1+ut.value)+Se(o.FlatAtk)),yt=m(()=>Se(o.ElementalDamage,k.value.element)+Se(o.BallisticDamage,k.value.element)+Se(o.Generic,k.value.element)),ra=m(()=>Se(o.ElementalDamage,k.value.element)+Se(o.SkillDamage,k.value.element)+Se(o.Generic,k.value.element)),_t=m(()=>Et(o.FinalDamage)),oa=m(()=>Se(o.DamageTaken)),ga=m(()=>Se(o.ElementalResist,k.value.element)),qt=m(()=>{const b=Se(o.FlatDefenseReduction),s=Se(o.DefensePenetration)/100;return 1/(1+(1e3*(1-s)-b)/1e3)});function Bt(y,b){return(1+Se(o.DamageTaken,y,b)/100)*(1+Se(o.ElementalResist,y)/100)*qt.value}const ht=m(()=>I.value+Se(o.CritRate)),Wt=m(()=>{const y=1+Se(o.CritDmgAmp)/100;return k.value.critDamage*y});function Vt(y){const b=y===1?1+Wt.value/100:1;return tt.value*(k.value.compatibility/100)*b*(1+yt.value/100)*Et(o.FinalBallisticDamage)*_t.value*Bt(k.value.element,"bullet")}function mt(y,b){return!!y.specialModifiers&&y.specialModifiers.indexOf(b)>=0}function bt(y,b){let s=tt.value*(y.damagePercent+rt(y))/100+y.damageFlat,K=Se(o.ElementalDamage,y.element,y.name)+Se(o.SkillDamage,y.element,y.name)+Se(o.Generic,y.element,y.name);mt(y,ke.CloudShot)&&(K+=Se(o.BallisticDamage,y.element)),mt(y,ke.Auxiliary)&&(K=Se(o.AuxiliaryDamage,y.element));const Ae=(1+K/100)*_t.value*Et(o.FinalSkillDamage,y.element,y.name);let ya=s*Ae*Bt(y.element,y.name);mt(y,ke.BasedOnBulletDamage)&&(s=Vt(b)*(y.damagePercent/100),K=Se(o.SkillDamage,y.element,y.name),ya=s*(1+K/100),mt(y,ke.RecalculateDefense)&&(ya*=Bt(y.element,y.name)));const al=mt(y,ke.CanCrit)||mt(y,ke.CanCritWeakspot),f=b==1,j=al&&f?1+Wt.value/100:1;return ya*j}function Dt(y){let b=0;for(const s of c.value)!s.isAptitude||!s.active||(b+=bt(s,y));return b}function _(y){let b=0;for(const s of c.value){if(s.isAptitude||!s.active)continue;let K=bt(s,0);mt(s,ke.CanCrit)?K=U(bt(s,0),bt(s,1)):mt(s,ke.CanCritWeakspot)&&y===1&&(K=bt(s,1)),b+=K*s.frequency/60}return b}function U(y,b){return y*(1-ht.value/100)+b*(ht.value/100)}const re=m(()=>k.value.ammoCapacity+Se(o.MagSizeBoost));function se(y){return Vt(y)*re.value*(k.value.type===oe.Shotgun?8:1)}const ye=m(()=>U(se(0),se(1)));function _e(y){return Dt(y)*re.value*(k.value.type===oe.Shotgun?8:1)}const Te=m(()=>U(_e(0),_e(1))),at=m(()=>k.value.rateOfFire*(1+Se(o.RateOfFire)/100)),qe=m(()=>(re.value-1)/at.value*60);function jt(y){return(y===0?ye.value:se(1))/qe.value}function Qt(y){return(y===0?Te.value:_e(1))/qe.value}function Ea(y){return k.value.type===oe.Crossbow?Vt(0)*at.value/60:(y===0?ye.value:se(1))/(qe.value+k.value.reloadSpeed)}function Ol(y){return k.value.type===oe.Crossbow?Dt(0)*at.value/60:(y===0?Te.value:_e(1))/(qe.value+k.value.reloadSpeed)}function Ot(y,b,s){const K=y+b+s;if(K===y)return y.toFixed(d.value);let Ae=`${K.toFixed(d.value)} = ${y.toFixed(d.value)}`;return b&&(Ae+=` + ${b.toFixed(d.value)} (skill)`),s&&(Ae+=` + ${s.toFixed(d.value)} (aptitude)`),Ae}function Rt(y){if(k.value.type===oe.Crossbow)return"N/A";const b=jt(y),s=_(y),K=Qt(y);return Ot(b,s,K)}function Mt(y){if(Q.value!=="Normal")return"N/A";const b=Ea(y),s=_(y),K=Ol(y);return Ot(b,s,K)}return Br({title:"Snowbreak DPS calculator",meta:{description:{name:"description",content:"A DPS calculator for the game Snowbreak: Containment Zone"}}}),(y,b)=>(be(),vt(qr,null,{default:N(()=>[A("div",Qu,[A("div",Ju,[A("div",Zu,[A("div",Yu,[Xu,A("div",ec,[A("div",tc,[A("p",ac,[lc,ue(" "+ce(Vt(0).toFixed(d.value))+" ",1),Dt(0)?(be(),xe("span",nc," + "+ce(Dt(0).toFixed(d.value))+" (aptitude) ",1)):Oe("",!0),ic,rc,ue(" "+ce(Vt(1).toFixed(d.value))+" ",1),Dt(1)?(be(),xe("span",oc," + "+ce(Dt(1).toFixed(d.value))+" (aptitude) ",1)):Oe("",!0),sc,uc,ue(" "+ce(ht.value)+"% ",1),cc,dc,ue(" "+ce(Wt.value)+"% ",1)]),De(r)?(be(),xe("p",fc,[mc,vc,pc,ue(" "+ce(re.value)+" ",1),gc,yc,ue(" "+ce(se(0).toFixed(d.value))+" ",1),hc,bc,ue(" "+ce(ye.value.toFixed(d.value))+" ",1),Te.value?(be(),xe("span",kc," + "+ce(Te.value.toFixed(d.value))+" (aptitude) ",1)):Oe("",!0),Sc,wc,ue(" "+ce(qe.value.toFixed(2))+" ",1),Ac,Tc,Cc,_c,Dc,ue(" "+ce(ft.value)+" ",1),Mc,xc,ue(" "+ce(ut.value*100)+"% ",1),Pc,Fc,ue(" "+ce(tt.value.toFixed(d.value))+" ",1),Ec,qc,ue(" "+ce(z.value)+" ",1),Bc,Vc,ue(" "+ce(yt.value)+"% ",1),Oc,Rc,ue(" "+ce(ra.value)+"% ",1),Kc,Ic,ue(" "+ce(_t.value)+" ",1),Lc,zc,ue(" "+ce(oa.value)+"% ",1),Hc,$c,ue(" "+ce(ga.value)+"% ",1),Nc,Gc,ue(" "+ce(qt.value),1)])):Oe("",!0)]),A("div",Uc,[A("div",Wc,[jc,A("div",Qc,[ue(ce(Rt(0))+" ",1),Jc,ue(" "+ce(Rt(1))+" ",1),Zc,ue(" "+ce(Mt(0))+" ",1),Yc,ue(" "+ce(Mt(1)),1)])]),De(r)?(be(),xe("p",Xc,[(be(!0),xe(Yt,null,ca(c.value,s=>(be(),xe(Yt,{key:s.id},[A("b",null,ce(s.name),1),ue(" : "+ce(bt(s,0).toFixed(d.value))+" damage ",1),ed],64))),128))])):Oe("",!0)])])]),A("div",td,[A("div",null,[D(qa,{modelValue:De(r),"onUpdate:modelValue":b[0]||(b[0]=s=>ll(r)?r.value=s:null),label:"Detailed calculation stats"},null,8,["modelValue"])]),A("div",null,[D(qa,{modelValue:De(i),"onUpdate:modelValue":b[1]||(b[1]=s=>ll(i)?i.value=s:null),label:"Show stats for selections"},null,8,["modelValue"])]),A("div",null,[D(qa,{modelValue:De(n),"onUpdate:modelValue":b[2]||(b[2]=s=>ll(n)?n.value=s:null),label:"Show explanations"},null,8,["modelValue"])]),A("div",null,[D(qa,{modelValue:De(u),"onUpdate:modelValue":b[3]||(b[3]=s=>ll(u)?u.value=s:null),label:"Show decimal places"},null,8,["modelValue"])])])])]),D(Sa,{class:"q-my-lg"})]),A("div",ad,[A("h6",ld," Operative: "+ce(w.value.name?w.value.name:"None chosen (custom)"),1),D($e,{class:"q-mb-md",label:"Pick operative",onClick:b[4]||(b[4]=s=>V.value=!0),color:"primary"}),D($e,{class:"q-mb-md q-mx-md",label:"Clear operative",color:"negative",onClick:X,disable:!w.value.name},null,8,["disable"]),w.value.name.includes("Blue Bolt")?(be(),vt(qa,{key:0,modelValue:W.value,"onUpdate:modelValue":b[5]||(b[5]=s=>W.value=s),label:"In standard skill?"},null,8,["modelValue"])):Oe("",!0),De(n)?(be(),xe("p",nd,[id,ue(' only the ATK from the operative. Pre-filled are level 80 by default. Calculate for your own operatives from the "Basic Value" of ATK in "View Details", then subtract flat ATK from weapon and logistics. '),rd,od,ue(" Enter alignment index from all sources here, including neuronics, weapon, logistics. "),sd,ud,ue(" just used to calculate extra ATK% boost for now. Manifest step is the X/9 number in the middle of the next manifest level you're working on. ")])):Oe("",!0),D(Ua,{modelValue:V.value,"onUpdate:modelValue":b[6]||(b[6]=s=>V.value=s)},{default:N(()=>[D(yl,null,{default:N(()=>[D(aa,null,{default:N(()=>[cd]),_:1}),D(aa,null,{default:N(()=>[D(Ga,{bordered:"",separator:""},{default:N(()=>[(be(!0),xe(Yt,null,ca(q.value,s=>pl((be(),vt(Na,{key:s.name,class:gl(t(s.rarity)),clickable:"",onClick:K=>ae(s)},{default:N(()=>[D(xt,{avatar:""},{default:N(()=>[D(Ql,{size:"100px",square:""},{default:N(()=>[A("img",{src:`character_icons/${s.name}.png`},null,8,dd)]),_:2},1024)]),_:2},1024),D(xt,null,{default:N(()=>[D(Ca,{class:"text-h6"},{default:N(()=>[ue(ce(s.name),1)]),_:2},1024)]),_:2},1024),D(xt,{side:""},{default:N(()=>[A("img",{src:l(s.weaponType)},null,8,fd)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[$a]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),De(i)?(be(),xe("div",md,[A("div",vd,[D(Ve,{type:"number",modelValue:w.value.baseAtk,"onUpdate:modelValue":b[7]||(b[7]=s=>w.value.baseAtk=s),modelModifiers:{number:!0},filled:"",disable:!!w.value.name,label:"Base ATK",rules:[s=>s>0||"ATK must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",pd,[D(Ve,{type:"number",modelValue:R.value,"onUpdate:modelValue":b[8]||(b[8]=s=>R.value=s),modelModifiers:{number:!0},filled:"",label:"Alignment index from neuronics",rules:[s=>s>=0||"Alignment index must be positive"],"lazy-rules":""},null,8,["modelValue","rules"])]),A("div",gd,[D(ot,{modelValue:w.value.manifestLevel,"onUpdate:modelValue":b[9]||(b[9]=s=>w.value.manifestLevel=s),modelModifiers:{number:!0},filled:"",label:"Manifest level (0-5)",options:[...Array(6).keys()]},null,8,["modelValue","options"])]),A("div",yd,[D(ot,{modelValue:w.value.manifestStep,"onUpdate:modelValue":b[10]||(b[10]=s=>w.value.manifestStep=s),modelModifiers:{number:!0},filled:"",label:"Manifest step (0-8)",options:[...Array(9).keys()]},null,8,["modelValue","options"])]),A("div",hd,[D(ot,{modelValue:w.value.weaponType,"onUpdate:modelValue":b[11]||(b[11]=s=>w.value.weaponType=s),filled:"",disable:!!w.value.name,options:Object.values(De(oe)),rules:[s=>!!s||"Weapon type is required"],label:"Weapon type"},null,8,["modelValue","disable","options","rules"])]),A("div",bd,[D(Ve,{type:"number",modelValue:I.value,"onUpdate:modelValue":b[12]||(b[12]=s=>I.value=s),filled:"",disable:"",label:"Base crit rate",suffix:"%"},null,8,["modelValue"])])])):Oe("",!0),D(Sa,{class:"q-my-lg"}),A("h6",kd," Weapon: "+ce(k.value.name||"None chosen (custom)"),1),A("div",Sd,[D($e,{label:"Pick weapon",onClick:b[13]||(b[13]=s=>P.value=!0),color:"primary"}),D($e,{class:"q-mx-md",label:"Clear weapon",color:"negative",onClick:O,disable:!k.value.name},null,8,["disable"]),w.value.name.includes("Winter Solstice")?(be(!0),xe(Yt,{key:0},ca(Object.values(Yi),s=>(be(),vt(Fn,{key:s,modelValue:Q.value,"onUpdate:modelValue":b[14]||(b[14]=K=>Q.value=K),val:s,label:s},null,8,["modelValue","val","label"]))),128)):Oe("",!0),k.value.type===De(oe).Crossbow?(be(!0),xe(Yt,{key:1},ca(Object.values(Xi),s=>(be(),vt(Fn,{key:s,modelValue:le.value,"onUpdate:modelValue":b[15]||(b[15]=K=>le.value=K),val:s,label:s},null,8,["modelValue","val","label"]))),128)):Oe("",!0)]),D(Ua,{modelValue:P.value,"onUpdate:modelValue":b[16]||(b[16]=s=>P.value=s)},{default:N(()=>[D(yl,null,{default:N(()=>[D(aa,null,{default:N(()=>[wd]),_:1}),D(aa,null,{default:N(()=>[D(Ga,{bordered:"",separator:""},{default:N(()=>[(be(!0),xe(Yt,null,ca(E.value,s=>pl((be(),vt(Na,{class:gl(t(s.rarity)),style:{"min-height":"75px"},key:s.name,clickable:"",onClick:K=>ne(s)},{default:N(()=>[D(xt,{class:"text-h6"},{default:N(()=>[ue(ce(s.name),1)]),_:2},1024),D(xt,{side:""},{default:N(()=>[D(Ql,null,{default:N(()=>[A("img",{src:a(s.element)},null,8,Ad)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[$a]])),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),De(i)?(be(),xe("div",Td,[A("div",Cd,[D(ot,{modelValue:k.value.element,"onUpdate:modelValue":b[17]||(b[17]=s=>k.value.element=s),filled:"",label:"Element",disable:!!k.value.name||Q.value!=="Normal",options:Object.values(De(v))},null,8,["modelValue","disable","options"])]),A("div",_d,[D(Ve,{type:"number",modelValue:k.value.atk,"onUpdate:modelValue":b[18]||(b[18]=s=>k.value.atk=s),modelModifiers:{number:!0},filled:"",label:"Weapon ATK",disable:!!k.value.name,rules:[s=>s>0||"ATK must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",Dd,[D(Ve,{type:"number",modelValue:k.value.rateOfFire,"onUpdate:modelValue":b[19]||(b[19]=s=>k.value.rateOfFire=s),modelModifiers:{number:!0},filled:"",label:"Rate of fire",mask:"#",disable:!!k.value.name||Q.value!=="Normal",rules:[s=>s>0||"Rate of fire must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",Md,[D(Ve,{type:"number",modelValue:k.value.ammoCapacity,"onUpdate:modelValue":b[20]||(b[20]=s=>k.value.ammoCapacity=s),modelModifiers:{number:!0},filled:"",label:"Ammo capacity",mask:"#",disable:!!k.value.name||Q.value!=="Normal",rules:[s=>s>0||"Ammo capacity must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",xd,[D(Ve,{type:"number",modelValue:k.value.reloadSpeed,"onUpdate:modelValue":b[21]||(b[21]=s=>k.value.reloadSpeed=s),modelModifiers:{number:!0},filled:"",label:"Reload speed",mask:"#",disable:!!k.value.name,rules:[s=>s>0||"Reload speed must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",Pd,[D(Ve,{type:"number",modelValue:k.value.atkPercent,"onUpdate:modelValue":b[22]||(b[22]=s=>k.value.atkPercent=s),modelModifiers:{number:!0},filled:"",label:"Attack %",suffix:"%",disable:!!k.value.name,rules:[s=>s!==""&&s>=0||"ATK% must be non-negative"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",Fd,[D(Ve,{type:"number",modelValue:k.value.compatibility,"onUpdate:modelValue":b[23]||(b[23]=s=>k.value.compatibility=s),modelModifiers:{number:!0},filled:"",label:"Compatibility",mask:"#.#",suffix:"%",disable:!!k.value.name||Q.value!=="Normal",rules:[s=>s>0||"Compatibility must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",Ed,[D(Ve,{type:"number",modelValue:k.value.critDamage,"onUpdate:modelValue":b[24]||(b[24]=s=>k.value.critDamage=s),modelModifiers:{number:!0},filled:"",label:"Crit damage",mask:"#",suffix:"%",disable:!!k.value.name||Q.value!=="Normal",rules:[s=>s>0||"Crit damage must be positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])])])):Oe("",!0),D(Sa,{class:"q-my-lg"}),A("h6",qd," Logistics: "+ce(C.value.name||"None chosen (custom)"),1),A("div",Bd,[D(Un,{label:"Pick logistics","logistic-list":De(de),onSelected:pe},null,8,["logistic-list"]),D($e,{class:"q-ml-md",label:"Clear logistics",color:"negative",onClick:H,disable:!C.value.name},null,8,["disable"])]),De(n)?(be(),xe("p",Vd,[Od,ue(" Rarity and levels are just used to calculate flat ATK and ATK% values. "),Rd,Kd,ue(" the flat ATK values are approximate when not at max level as different logistics have slightly different flat ATK values. At level 15 they use accurate in-game values. ")])):Oe("",!0),De(i)?(be(),xe("div",Id,[A("div",Ld,[D(ot,{modelValue:C.value.rarity,"onUpdate:modelValue":b[25]||(b[25]=s=>C.value.rarity=s),filled:"",disable:!!C.value.name,label:"Rarity",options:[De(x).Orange,De(x).Purple]},null,8,["modelValue","disable","options"])]),A("div",zd,[D(ot,{modelValue:C.value.levelL,"onUpdate:modelValue":b[26]||(b[26]=s=>C.value.levelL=s),filled:"",label:"Left piece level",options:[...Array(16).keys()]},null,8,["modelValue","options"])]),A("div",Hd,[D(ot,{modelValue:C.value.levelM,"onUpdate:modelValue":b[27]||(b[27]=s=>C.value.levelM=s),filled:"",label:"Middle piece level",options:[...Array(16).keys()]},null,8,["modelValue","options"])]),A("div",$d,[D(ot,{modelValue:C.value.levelR,"onUpdate:modelValue":b[28]||(b[28]=s=>C.value.levelR=s),filled:"",label:"Right piece level",options:[...Array(16).keys()]},null,8,["modelValue","options"])]),A("div",Nd,[D(Ve,{type:"number",modelValue:B.value,"onUpdate:modelValue":b[29]||(b[29]=s=>B.value=s),filled:"",disable:"",label:"Flat attack"},null,8,["modelValue"])]),A("div",Gd,[D(Ve,{type:"number",modelValue:T.value,"onUpdate:modelValue":b[30]||(b[30]=s=>T.value=s),filled:"",disable:"",label:"Attack %",suffix:"%"},null,8,["modelValue"])])])):Oe("",!0),D(Sa,{class:"q-my-lg"}),Ud,De(n)?(be(),xe("p",Wd,[jd,ue(" Percent of the operatives ATK that the skill/aptitude effect deals. "),Qd,Jd,ue(" Additional flat damage amount added after the ATK% damage. "),Zd,Yd,ue(" Aptitude effects are additional damage that apply to each bullet, like Discordance, Fury, or Fritia - Little Sunshine support "),Xd,ef,ue(" Number of times per minute the skill procs. Adjust based on the cooldown and S-Energy cost. ")])):Oe("",!0),A("div",null,[D(En,{onSubmit:L,greedy:""},{default:N(()=>[A("div",tf,[A("div",af,[D(Ve,{type:"text",modelValue:ge.value.name,"onUpdate:modelValue":b[31]||(b[31]=s=>ge.value.name=s),filled:"",label:"Name",rules:[s=>!!s||"Name is required"],"lazy-rules":""},null,8,["modelValue","rules"])]),A("div",lf,[D(ot,{modelValue:ge.value.element,"onUpdate:modelValue":b[32]||(b[32]=s=>ge.value.element=s),filled:"",options:Object.values(De(v)),label:"Element"},null,8,["modelValue","options"])]),A("div",nf,[D(Ve,{type:"number",modelValue:ge.value.damagePercent,"onUpdate:modelValue":b[33]||(b[33]=s=>ge.value.damagePercent=s),modelModifiers:{number:!0},filled:"",step:"0.01",label:"Damage percent",rules:[s=>s>=0||"Damage percent must non-negative"],"lazy-rules":""},null,8,["modelValue","rules"])]),A("div",rf,[D(Ve,{type:"number",modelValue:ge.value.damageFlat,"onUpdate:modelValue":b[34]||(b[34]=s=>ge.value.damageFlat=s),modelModifiers:{number:!0},filled:"",step:"1",label:"Flat damage",rules:[s=>s>=0||"Flat damage must non-negative"],"lazy-rules":""},null,8,["modelValue","rules"])]),A("div",of,[D(Ta,{modelValue:ge.value.isAptitude,"onUpdate:modelValue":b[35]||(b[35]=s=>ge.value.isAptitude=s),label:"Aptitude effect?"},null,8,["modelValue"])]),A("div",sf,[D(Ve,{type:"number",modelValue:ge.value.frequency,"onUpdate:modelValue":b[36]||(b[36]=s=>ge.value.frequency=s),modelModifiers:{number:!0},filled:"",step:"0.01",label:"Frequency (times per minute)",disable:ge.value.isAptitude,rules:[s=>s>0||"Frequency must positive"],"lazy-rules":""},null,8,["modelValue","disable","rules"])]),A("div",uf,[D($e,{type:"submit",label:"Add",color:"primary"})])])]),_:1}),D(Rn,{"wrap-cells":"",rows:c.value,columns:ee,"row-key":"id","rows-per-page-options":[0],"hide-top":"","hide-bottom":""},{body:N(s=>[D(qn,{props:s},{default:N(()=>[D(Je,{key:"active",props:s,"auto-width":""},{default:N(()=>[D(Ta,{modelValue:s.row.active,"onUpdate:modelValue":K=>s.row.active=K},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),D(Je,{key:"name",props:s},{default:N(()=>[ue(ce(s.row.name),1)]),_:2},1032,["props"]),D(Je,{key:"description",props:s},{default:N(()=>[ue(ce(s.row.description),1)]),_:2},1032,["props"]),D(Je,{key:"element",props:s},{default:N(()=>[ue(ce(s.row.element||"N/A"),1)]),_:2},1032,["props"]),D(Je,{key:"damage",props:s},{default:N(()=>[s.row.alignmentIncrease?(be(),xe("span",cf,ce(`${s.row.damagePercent}% + ${rt(s.row)}% + ${s.row.damageFlat}`),1)):(be(),xe("span",df,ce(`${s.row.damagePercent}% + ${s.row.damageFlat}`),1))]),_:2},1032,["props"]),D(Je,{key:"frequency",props:s},{default:N(()=>[ue(ce(s.row.isAptitude?"Aptitude effect (every bullet)":s.row.frequency.toFixed(2)),1)]),_:2},1032,["props"]),D(Je,{key:"specialModifier",props:s},{default:N(()=>[ue(ce(s.row.specialModifiers||"N/A"),1)]),_:2},1032,["props"]),D(Je,{key:"actions",props:s,"auto-width":""},{default:N(()=>[A("div",null,[D($e,{flat:"",round:"",icon:s.row.lockSource?"mdi-delete-off-outline":"mdi-delete",disable:!!s.row.lockSource,onClick:K=>Ee(s.row)},null,8,["icon","disable","onClick"]),s.row.lockSource?(be(),vt(nl,{key:0,class:"text-body2"},{default:N(()=>[ue(" Added by a operative, weapon, or logistic ")]),_:1})):Oe("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),D(Sa,{class:"q-my-lg"}),ff,De(n)?(be(),xe("p",mf,[vf,ue(" Element is only needed if a buff should be restricted to a particular element, such as the elemental damage boost from 3* weapons or the Kinetic/Chaos callistic damage boost from 4* Troubadour logistics set. "),pf,gf,ue(" Enter any percentages as whole numbers, ex. 30% should be entered as a value of 30 "),yf,hf,ue(" Click on any cell to edit it. ")])):Oe("",!0),A("div",bf,[D(ru,{onSelected:ia}),D(Un,{class:"q-ml-md",label:"Add support logistics","logistic-list":De(we),onSelected:J},null,8,["logistic-list"]),D($e,{class:"q-ml-md",label:"Clear unlocked modifiers",color:"negative",onClick:F,disable:!S.value},null,8,["disable"])]),D(En,{onSubmit:na,greedy:""},{default:N(()=>[A("div",kf,[A("div",Sf,[D(Ve,{type:"text",modelValue:Me.value.name,"onUpdate:modelValue":b[37]||(b[37]=s=>Me.value.name=s),filled:"",label:"Name",rules:[s=>!!s||"Name is required"],"lazy-rules":""},null,8,["modelValue","rules"])]),A("div",wf,[D(ot,{modelValue:Me.value.type,"onUpdate:modelValue":b[38]||(b[38]=s=>Me.value.type=s),filled:"","use-input":"","hide-selected":"","fill-input":"",onFilter:Ut,options:De(gt),label:"Type"},null,8,["modelValue","options"])]),A("div",Af,[D(ot,{modelValue:Me.value.element,"onUpdate:modelValue":b[39]||(b[39]=s=>Me.value.element=s),filled:"",clearable:"",options:Object.values(De(v)),disable:!la.value,label:"Element"},null,8,["modelValue","options","disable"])]),A("div",Tf,[D(Ve,{type:"number",modelValue:Me.value.value,"onUpdate:modelValue":b[40]||(b[40]=s=>Me.value.value=s),modelModifiers:{number:!0},filled:"",step:"0.001",label:"Value",rules:[s=>s>=0||"Value must non-negative"],"lazy-rules":""},null,8,["modelValue","rules"])]),A("div",Cf,[D($e,{type:"submit",label:"Add",color:"primary"})])])]),_:1}),D(Rn,{"wrap-cells":"",rows:p.value,columns:Xe,"row-key":"id","rows-per-page-options":[0],"hide-top":"","hide-bottom":""},{body:N(s=>[D(qn,{props:s},{default:N(()=>[D(Je,{key:"active",props:s,"auto-width":""},{default:N(()=>[D(Ta,{modelValue:s.row.active,"onUpdate:modelValue":K=>s.row.active=K},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),D(Je,{key:"name",props:s},{default:N(()=>[ue(ce(s.row.name)+" ",1),D(Oa,{title:"Update name",buttons:"",modelValue:s.row.name,"onUpdate:modelValue":K=>s.row.name=K,validate:Ne,onHide:ct},{default:N(K=>[D(Ve,{type:"text",modelValue:K.value,"onUpdate:modelValue":Ae=>K.value=Ae,filled:"",autofocus:"",rules:[Ae=>ct(Ae)||"Name is required"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),D(Je,{key:"description",props:s},{default:N(()=>[ue(ce(s.row.description)+" ",1),D(Oa,{title:"Update description",buttons:"",modelValue:s.row.description,"onUpdate:modelValue":K=>s.row.description=K},{default:N(K=>[D(Ve,{type:"text",modelValue:K.value,"onUpdate:modelValue":Ae=>K.value=Ae,dense:"",autofocus:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),D(Je,{key:"type",props:s},{default:N(()=>[ue(ce(s.row.type)+" ",1),D(Oa,{title:"Update type",buttons:"",modelValue:s.row.type,"onUpdate:modelValue":K=>s.row.type=K,onBeforeHide:K=>dt(s.row)},{default:N(K=>[D(ot,{modelValue:K.value,"onUpdate:modelValue":Ae=>K.value=Ae,filled:"",autofocus:"",options:Object.values(De(o)),label:"Type"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1032,["modelValue","onUpdate:modelValue","onBeforeHide"])]),_:2},1032,["props"]),D(Je,{key:"element",props:s},{default:N(()=>[ue(ce(s.row.element||"N/A")+" ",1),D(Oa,{title:"Update element",buttons:"",modelValue:s.row.element,"onUpdate:modelValue":K=>s.row.element=K,disable:!De(Nl).includes(s.row.type)},{default:N(K=>[D(ot,{modelValue:K.value,"onUpdate:modelValue":Ae=>K.value=Ae,filled:"",clearable:"",options:Object.values(De(v)),label:"Element"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]),_:2},1032,["props"]),D(Je,{key:"value",props:s},{default:N(()=>[ue(ce(s.row.value),1),s.row.alignmentIncrease?(be(),xe("span",_f," + "+ce(rt(s.row)),1)):Oe("",!0),D(Oa,{title:"Update value",buttons:"",modelValue:s.row.value,"onUpdate:modelValue":K=>s.row.value=K,validate:Ne,onHide:ct},{default:N(K=>[D(Ve,{type:"number",modelValue:K.value,"onUpdate:modelValue":Ae=>K.value=Ae,modelModifiers:{number:!0},filled:"",autofocus:"",rules:[Ae=>st(Ae)||"Value must not be negative"]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"]),D(Je,{key:"lock",props:s,"auto-width":""},{default:N(()=>[A("div",null,[D($e,{flat:"",round:"",icon:s.row.lockSource?"mdi-lock":"mdi-lock-open-variant",disable:s.row.lockSource&&s.row.lockSource!==Ra,onClick:K=>pa(s.row)},null,8,["icon","disable","onClick"]),s.row.lockSource&&s.row.lockSource!==Ra?(be(),vt(nl,{key:0,class:"text-body2"},{default:N(()=>[ue(" Added by a operative, weapon, or logistic ")]),_:1})):Oe("",!0)])]),_:2},1032,["props"]),D(Je,{key:"delete",props:s,"auto-width":""},{default:N(()=>[A("div",null,[D($e,{flat:"",round:"",icon:s.row.lockSource?"mdi-delete-off-outline":"mdi-delete",disable:s.row.lockSource,onClick:K=>va(s.row)},null,8,["icon","disable","onClick"]),s.row.lockSource&&s.row.lockSource===Ra?(be(),vt(nl,{key:0,class:"text-body2"},{default:N(()=>[ue(" Unlock to allow deletion ")]),_:1})):s.row.lockSource?(be(),vt(nl,{key:1,class:"text-body2"},{default:N(()=>[ue("Added by a operative, weapon, or logistic ")]),_:1})):Oe("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"])])]),_:1}))}});export{Of as default};
